<!doctype html><html style="overflow:auto;height:auto;width:auto;"><head><title>expressjs</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><style>@font-face {
	font-family: Asana;
	src: url("fonts/Asana-Math.otf") format("opentype");
}

@font-face {
	font-family: Asana-Math;
	src: url("fonts/Asana-math-mode.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathbb;
	src: url("fonts/types-generated/Asana-mathbb.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathit;
	src: url("fonts/types-generated/Asana-mathit.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathcal;
	src: url("fonts/types-generated/Asana-mathcal.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathscr;
	src: url("fonts/types-generated/Asana-mathscr.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathfrak;
	src: url("fonts/types-generated/Asana-mathfrak.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathsf;
	src: url("fonts/types-generated/Asana-mathsf.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathtt;
	src: url("fonts/types-generated/Asana-mathtt.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathrm;
	src: url("fonts/types-generated/Asana-mathrm.otf") format("opentype");
}

@font-face {
	font-family: 'FontAwesome';
	src: url('fonts/icomoon.eot');
	src: url('fonts/icomoon.eot') format('embedded-opentype'), url('fonts/icomoon.woff') format('woff'), url('fonts/icomoon.ttf') format('truetype'), url('fonts/icomoon.svg') format('svg');
	font-weight: normal;
	font-style: normal;
}

/**
Latin Modern
**/

@font-face {
	font-family: LatinModern;
	src: url("fonts/latinmodern-math.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Math;
	src: url("fonts/latinmodern-math-mode.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathbb;
	src: url("fonts/types-generated/latinmodern-mathbb.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathit;
	src: url("fonts/types-generated/latinmodern-mathit.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathcal;
	src: url("fonts/types-generated/latinmodern-mathcal.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathscr;
	src: url("fonts/types-generated/latinmodern-mathscr.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathfrak;
	src: url("fonts/types-generated/latinmodern-mathfrak.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathsf;
	src: url("fonts/types-generated/latinmodern-mathsf.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathtt;
	src: url("fonts/types-generated/latinmodern-mathtt.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathrm;
	src: url("fonts/types-generated/latinmodern-mathrm.otf") format("opentype");
}

/***********************************************************/

/**
Thicker Latin Modern
**/

@font-face {
	font-family: ThickerLm;
	src: url("fonts/thickerlm-math.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Math;
	src: url("fonts/thickerlm-math-mode.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathbb;
	src: url("fonts/types-generated/thickerlm-mathbb.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathit;
	src: url("fonts/types-generated/thickerlm-mathit.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathcal;
	src: url("fonts/types-generated/thickerlm-mathcal.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathscr;
	src: url("fonts/types-generated/thickerlm-mathscr.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathfrak;
	src: url("fonts/types-generated/thickerlm-mathfrak.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathsf;
	src: url("fonts/types-generated/thickerlm-mathsf.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathtt;
	src: url("fonts/types-generated/thickerlm-mathtt.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathrm;
	src: url("fonts/types-generated/thickerlm-mathrm.otf") format("opentype");
}

/***********************************************************/

/* Computer Modern */

@font-face {
	font-family: 'Computer Modern Sans';
	src: url('fonts/others-text-mode/computer-modern/Sans/cmunss.otf') format("opentype");
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Sans';
	src: url('fonts/others-text-mode/computer-modern/Sans/cmunsx.otf') format("opentype");
	font-weight: bold;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Sans';
	src: url('fonts/others-text-mode/computer-modern/Sans/cmunsi.otf') format("opentype");
	font-weight: normal;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Sans';
	src: url('fonts/others-text-mode/computer-modern/Sans/cmunso.otf') format("opentype");
	font-weight: bold;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Serif';
	src: url('fonts/others-text-mode/computer-modern/Serif/cmunrm.otf') format("opentype");
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Serif';
	src: url('fonts/others-text-mode/computer-modern/Serif/cmunbx.otf') format("opentype");
	font-weight: bold;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Serif';
	src: url('fonts/others-text-mode/computer-modern/Serif/cmunti.otf') format("opentype");
	font-weight: normal;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Serif';
	src: url('fonts/others-text-mode/computer-modern/Serif/cmunbi.otf') format("opentype");
	font-weight: bold;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Typewriter';
	src: url('fonts/others-text-mode/computer-modern/Typewriter/cmuntt.otf') format("opentype");
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Typewriter';
	src: url('fonts/others-text-mode/computer-modern/Typewriter/cmuntb.otf') format("opentype");
	font-weight: bold;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Typewriter';
	src: url('fonts/others-text-mode/computer-modern/Typewriter/cmunit.otf') format("opentype");
	font-weight: normal;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Typewriter';
	src: url('fonts/others-text-mode/computer-modern/Typewriter/cmuntx.otf') format("opentype");
	font-weight: bold;
	font-style: italic;
}

/**/

/**
Sans Math + Liberation Font
**/

@font-face {
	font-family: Sans;
	src: url("fonts/Sans-Math.otf") format("opentype");
}

@font-face {
	font-family: Sans-Math;
	src: url("fonts/Sans-Math-mode.otf") format("opentype");
}

@font-face {
	font-family: Sans-Bold;
	src: url("fonts/types-generated/Sans-bold.otf") format("opentype");
	font-weight: bold;
}

@font-face {
	font-family: Sans-Mathbb;
	src: url("fonts/types-generated/Asana-mathbb.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathit;
	src: url("fonts/types-generated/Sans-mathit.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathcal;
	src: url("fonts/types-generated/Asana-mathcal.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathscr;
	src: url("fonts/types-generated/Asana-mathscr.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathfrak;
	src: url("fonts/types-generated/Asana-mathfrak.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathsf;
	src: url("fonts/types-generated/Asana-mathsf.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathtt;
	src: url("fonts/types-generated/Asana-mathtt.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathrm;
	src: url("fonts/types-generated/Asana-mathrm.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathbf;
	src: url("fonts/types-generated/Sans-mathbf.otf") format("opentype");
	font-weight: bold;
}

/***********************************************************/</style><style>

compositeblock {
  display: inline-block;
  position: relative;
  text-align: left;
  unicode-bidi: isolate;
}
compositeblock.middle {
  vertical-align: middle;
}
latex-symbol-icon {
  display: inline-block;
  padding: 2px;
  border: 1px solid transparent;
  cursor: pointer;
}
latex-symbol-icon:hover,
latex-symbol-icon.selected {
  background: white;
  border: 1px solid lightgray;
}
inline {
  display: inline-block;
}
base-line-indicator {
  display: inline-block;
  overflow: hidden;
  width: 0px;
  height: inherit;
}

math-type .constant-text > constant-text {
  margin-left: 0.2em;
  margin-right: 0.2em;
}
math-type .constant-text > constant-text.close-left {
  margin-left: 0;
}
math-type .constant-text > constant-text.close-right {
  margin-right: 0;
}



/**different context*/
/**different context*/
math-type ref-tag {
  position: absolute;
  right: 5px;
  top: 50%;
  transform: translate(0, -50%);
  z-index: 8;
  cursor: pointer;
}
math-type ref-tag > label {
  cursor: pointer;
}
math-type ref-tag:hover {
  text-decoration: underline;
}
math-type ref-tag.line-tag {
  transition: background 0.4s;
}
math-type ref-tag.empty-line-tag {
  opacity: 0.5;
  animation: fadein 0.5s;
}
math-type tr.math-row ref-tag {
  left: calc(100% + 20px);
  right: unset;
}
@keyframes fadein {
  0% {
    opacity: 0;
  }
  70% {
    opacity: 0;
  }
  100% {
    opacity: 0.5;
  }
}







.color-picker no-color-select {
  display: block;
  text-align: center;
  /* width: 100%; */
  /* height: 20px; */
  background: white;
  border: 1px solid lightgray;
  margin-bottom: 2px;
  color: gray;
  padding: 2px;
  cursor: default;
  border-radius: 0;
  padding-bottom: 2px;
  margin-bottom: 3px;
  margin-left: -1px;
  margin-right: -1px;
  font-size: 13px;
}
.color-picker no-color-select:hover {
  color: black;
}
.color-picker color-select {
  position: absolute;
  top: 30px;
  left: 0px;
  background: white;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type editarea.no-area-container,
math-type editarea.text-mode,
math-type area-container,
math-type .print-as-area-container {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
math-type editarea.no-area-container > line,
math-type editarea.text-mode > line,
math-type area-container > line,
math-type .print-as-area-container > line {
  min-width: 0.3em;
  position: relative;
  display: block;
  width: 100%;
  align-items: baseline;
  flex-wrap: wrap;
  box-sizing: border-box;
  flex-wrap: nowrap;
  line-height: 1.2;
  white-space: nowrap;
}
math-type editarea.no-area-container > line block,
math-type editarea.text-mode > line block,
math-type area-container > line block,
math-type .print-as-area-container > line block {
  white-space: pre;
}
math-type editarea.no-area-container > line.single-block > blocks > baselineblock,
math-type editarea.text-mode > line.single-block > blocks > baselineblock,
math-type area-container > line.single-block > blocks > baselineblock,
math-type .print-as-area-container > line.single-block > blocks > baselineblock {
  display: none;
}
math-type editarea.no-area-container > line > blocks,
math-type editarea.text-mode > line > blocks,
math-type area-container > line > blocks,
math-type .print-as-area-container > line > blocks {
  /**
            Different between inline and inline-block is about whether Section Text will be wrap in next wrapped line 
            */
  display: inline-block;
  text-align: left;
}
math-type editarea.no-area-container > line.root,
math-type editarea.text-mode > line.root,
math-type area-container > line.root,
math-type .print-as-area-container > line.root,
math-type editarea.no-area-container > line.text-mode,
math-type editarea.text-mode > line.text-mode,
math-type area-container > line.text-mode,
math-type .print-as-area-container > line.text-mode {
  display: block;
  font-style: normal;
}
math-type editarea.no-area-container > line.root > prefix,
math-type editarea.text-mode > line.root > prefix,
math-type area-container > line.root > prefix,
math-type .print-as-area-container > line.root > prefix,
math-type editarea.no-area-container > line.text-mode > prefix,
math-type editarea.text-mode > line.text-mode > prefix,
math-type area-container > line.text-mode > prefix,
math-type .print-as-area-container > line.text-mode > prefix {
  white-space: pre;
  display: inline-block;
  cursor: default;
  text-align: left;
}
math-type editarea.no-area-container > line.root > blocks,
math-type editarea.text-mode > line.root > blocks,
math-type area-container > line.root > blocks,
math-type .print-as-area-container > line.root > blocks,
math-type editarea.no-area-container > line.text-mode > blocks,
math-type editarea.text-mode > line.text-mode > blocks,
math-type area-container > line.text-mode > blocks,
math-type .print-as-area-container > line.text-mode > blocks {
  /** should not wrap here*/
  align-items: baseline;
  box-sizing: border-box;
}
math-type editarea.no-area-container > line.root > blocks > block,
math-type editarea.text-mode > line.root > blocks > block,
math-type area-container > line.root > blocks > block,
math-type .print-as-area-container > line.root > blocks > block,
math-type editarea.no-area-container > line.text-mode > blocks > block,
math-type editarea.text-mode > line.text-mode > blocks > block,
math-type area-container > line.text-mode > blocks > block,
math-type .print-as-area-container > line.text-mode > blocks > block {
  white-space: pre-wrap;
  white-space: break-spaces;
}
math-type editarea.no-area-container > line.root.full-line-block-inside > prefix,
math-type editarea.text-mode > line.root.full-line-block-inside > prefix,
math-type area-container > line.root.full-line-block-inside > prefix,
math-type .print-as-area-container > line.root.full-line-block-inside > prefix,
math-type editarea.no-area-container > line.text-mode.full-line-block-inside > prefix,
math-type editarea.text-mode > line.text-mode.full-line-block-inside > prefix,
math-type area-container > line.text-mode.full-line-block-inside > prefix,
math-type .print-as-area-container > line.text-mode.full-line-block-inside > prefix {
  float: left;
  vertical-align: top;
}
math-type editarea.no-area-container > line.root.full-line-block-inside > blocks,
math-type editarea.text-mode > line.root.full-line-block-inside > blocks,
math-type area-container > line.root.full-line-block-inside > blocks,
math-type .print-as-area-container > line.root.full-line-block-inside > blocks,
math-type editarea.no-area-container > line.text-mode.full-line-block-inside > blocks,
math-type editarea.text-mode > line.text-mode.full-line-block-inside > blocks,
math-type area-container > line.text-mode.full-line-block-inside > blocks,
math-type .print-as-area-container > line.text-mode.full-line-block-inside > blocks {
  display: block;
  width: 100%;
}
math-type editarea.no-area-container > line.root.full-line-block-inside > blocks > baselineblock,
math-type editarea.text-mode > line.root.full-line-block-inside > blocks > baselineblock,
math-type area-container > line.root.full-line-block-inside > blocks > baselineblock,
math-type .print-as-area-container > line.root.full-line-block-inside > blocks > baselineblock,
math-type editarea.no-area-container > line.text-mode.full-line-block-inside > blocks > baselineblock,
math-type editarea.text-mode > line.text-mode.full-line-block-inside > blocks > baselineblock,
math-type area-container > line.text-mode.full-line-block-inside > blocks > baselineblock,
math-type .print-as-area-container > line.text-mode.full-line-block-inside > blocks > baselineblock {
  display: inline-block;
  float: left;
}
math-type editarea.no-area-container > line.root.has-rtl.align-justify,
math-type editarea.text-mode > line.root.has-rtl.align-justify,
math-type area-container > line.root.has-rtl.align-justify,
math-type .print-as-area-container > line.root.has-rtl.align-justify,
math-type editarea.no-area-container > line.text-mode.has-rtl.align-justify,
math-type editarea.text-mode > line.text-mode.has-rtl.align-justify,
math-type area-container > line.text-mode.has-rtl.align-justify,
math-type .print-as-area-container > line.text-mode.has-rtl.align-justify {
  direction: rtl;
}
math-type editarea.no-area-container > line.root.section,
math-type editarea.text-mode > line.root.section,
math-type area-container > line.root.section,
math-type .print-as-area-container > line.root.section,
math-type editarea.no-area-container > line.text-mode.section,
math-type editarea.text-mode > line.text-mode.section,
math-type area-container > line.text-mode.section,
math-type .print-as-area-container > line.text-mode.section {
  text-align: left;
}
math-type editarea.no-area-container > line.root.section > blocks,
math-type editarea.text-mode > line.root.section > blocks,
math-type area-container > line.root.section > blocks,
math-type .print-as-area-container > line.root.section > blocks,
math-type editarea.no-area-container > line.text-mode.section > blocks,
math-type editarea.text-mode > line.text-mode.section > blocks,
math-type area-container > line.text-mode.section > blocks,
math-type .print-as-area-container > line.text-mode.section > blocks {
  /**
                    Different between inline and inline-block is about whether Section Text will be wrap in next wrapped line 
                    */
  display: inline;
}
math-type editarea.no-area-container > line.root.section.has-rtl,
math-type editarea.text-mode > line.root.section.has-rtl,
math-type area-container > line.root.section.has-rtl,
math-type .print-as-area-container > line.root.section.has-rtl,
math-type editarea.no-area-container > line.text-mode.section.has-rtl,
math-type editarea.text-mode > line.text-mode.section.has-rtl,
math-type area-container > line.text-mode.section.has-rtl,
math-type .print-as-area-container > line.text-mode.section.has-rtl {
  direction: rtl;
}
math-type editarea.no-area-container > line.root.section.has-rtl > prefix,
math-type editarea.text-mode > line.root.section.has-rtl > prefix,
math-type area-container > line.root.section.has-rtl > prefix,
math-type .print-as-area-container > line.root.section.has-rtl > prefix,
math-type editarea.no-area-container > line.text-mode.section.has-rtl > prefix,
math-type editarea.text-mode > line.text-mode.section.has-rtl > prefix,
math-type area-container > line.text-mode.section.has-rtl > prefix,
math-type .print-as-area-container > line.text-mode.section.has-rtl > prefix {
  direction: rtl;
  order: 1;
}
math-type editarea.no-area-container > line.root.theorem,
math-type editarea.text-mode > line.root.theorem,
math-type area-container > line.root.theorem,
math-type .print-as-area-container > line.root.theorem,
math-type editarea.no-area-container > line.text-mode.theorem,
math-type editarea.text-mode > line.text-mode.theorem,
math-type area-container > line.text-mode.theorem,
math-type .print-as-area-container > line.text-mode.theorem {
  padding-top: 0.3em;
  padding-bottom: 0.3em;
}
math-type editarea.no-area-container > line > prefix,
math-type editarea.text-mode > line > prefix,
math-type area-container > line > prefix,
math-type .print-as-area-container > line > prefix {
  text-align: right;
}
math-type editarea.no-area-container > line.has-indent,
math-type editarea.text-mode > line.has-indent,
math-type area-container > line.has-indent,
math-type .print-as-area-container > line.has-indent {
  display: flex;
  justify-content: flex-start;
}
math-type editarea.no-area-container > line.has-rtl.has-indent > prefix,
math-type editarea.text-mode > line.has-rtl.has-indent > prefix,
math-type area-container > line.has-rtl.has-indent > prefix,
math-type .print-as-area-container > line.has-rtl.has-indent > prefix {
  direction: rtl;
  order: 1;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-0,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-0,
math-type area-container > line.has-rtl.has-indent.indent-0,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-0 {
  padding-left: 0;
  padding-right: 30px;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-1,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-1,
math-type area-container > line.has-rtl.has-indent.indent-1,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-1 {
  padding-left: 0;
  padding-right: 65px;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-2,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-2,
math-type area-container > line.has-rtl.has-indent.indent-2,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-2 {
  padding-left: 0;
  padding-right: 105px;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-3,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-3,
math-type area-container > line.has-rtl.has-indent.indent-3,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-3 {
  padding-left: 0;
  padding-right: 145px;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-4,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-4,
math-type area-container > line.has-rtl.has-indent.indent-4,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-4 {
  padding-left: 0;
  padding-right: 185px;
}
math-type editarea.no-area-container > line.indent-0,
math-type editarea.text-mode > line.indent-0,
math-type area-container > line.indent-0,
math-type .print-as-area-container > line.indent-0 {
  padding-left: 30px;
}
math-type editarea.no-area-container > line.indent-1,
math-type editarea.text-mode > line.indent-1,
math-type area-container > line.indent-1,
math-type .print-as-area-container > line.indent-1 {
  padding-left: 65px;
}
math-type editarea.no-area-container > line.indent-2,
math-type editarea.text-mode > line.indent-2,
math-type area-container > line.indent-2,
math-type .print-as-area-container > line.indent-2 {
  padding-left: 105px;
}
math-type editarea.no-area-container > line.indent-3,
math-type editarea.text-mode > line.indent-3,
math-type area-container > line.indent-3,
math-type .print-as-area-container > line.indent-3 {
  padding-left: 145px;
}
math-type editarea.no-area-container > line.indent-4,
math-type editarea.text-mode > line.indent-4,
math-type area-container > line.indent-4,
math-type .print-as-area-container > line.indent-4 {
  padding-left: 185px;
}
math-type editarea.no-area-container > line.math-container-selected,
math-type editarea.text-mode > line.math-container-selected,
math-type area-container > line.math-container-selected,
math-type .print-as-area-container > line.math-container-selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type editarea.no-area-container > line.math-container,
math-type editarea.text-mode > line.math-container,
math-type area-container > line.math-container,
math-type .print-as-area-container > line.math-container {
  font-family: 'Asana';
  justify-content: center;
  text-align: center;
  text-align-last: auto;
  display: flex;
}
math-type editarea.no-area-container > line.math-container block,
math-type editarea.text-mode > line.math-container block,
math-type area-container > line.math-container block,
math-type .print-as-area-container > line.math-container block {
  white-space: pre;
}
math-type editarea.no-area-container > line.align-center,
math-type editarea.text-mode > line.align-center,
math-type area-container > line.align-center,
math-type .print-as-area-container > line.align-center {
  text-align: center;
  text-align-last: auto;
}
math-type editarea.no-area-container > line.align-center.has-indent,
math-type editarea.text-mode > line.align-center.has-indent,
math-type area-container > line.align-center.has-indent,
math-type .print-as-area-container > line.align-center.has-indent {
  justify-content: center;
}
math-type editarea.no-area-container > line.align-center.section,
math-type editarea.text-mode > line.align-center.section,
math-type area-container > line.align-center.section,
math-type .print-as-area-container > line.align-center.section {
  text-align: center;
  text-align-last: auto;
}
math-type editarea.no-area-container > line.align-center > blocks,
math-type editarea.text-mode > line.align-center > blocks,
math-type area-container > line.align-center > blocks,
math-type .print-as-area-container > line.align-center > blocks {
  text-align: center;
  text-align-last: auto;
}
math-type editarea.no-area-container > line.align-justify,
math-type editarea.text-mode > line.align-justify,
math-type area-container > line.align-justify,
math-type .print-as-area-container > line.align-justify {
  text-align: justify;
}
math-type editarea.no-area-container > line.align-justify.section,
math-type editarea.text-mode > line.align-justify.section,
math-type area-container > line.align-justify.section,
math-type .print-as-area-container > line.align-justify.section {
  text-align: justify;
}
math-type editarea.no-area-container > line.align-justify > blocks,
math-type editarea.text-mode > line.align-justify > blocks,
math-type area-container > line.align-justify > blocks,
math-type .print-as-area-container > line.align-justify > blocks {
  text-align: justify;
}
math-type editarea.no-area-container > line.align-left,
math-type editarea.text-mode > line.align-left,
math-type area-container > line.align-left,
math-type .print-as-area-container > line.align-left {
  text-align: left;
}
math-type editarea.no-area-container > line.align-left > blocks,
math-type editarea.text-mode > line.align-left > blocks,
math-type area-container > line.align-left > blocks,
math-type .print-as-area-container > line.align-left > blocks {
  text-align: left;
}
math-type editarea.no-area-container > line.align-right,
math-type editarea.text-mode > line.align-right,
math-type area-container > line.align-right,
math-type .print-as-area-container > line.align-right {
  text-align: right;
}
math-type editarea.no-area-container > line.align-right.has-indent,
math-type editarea.text-mode > line.align-right.has-indent,
math-type area-container > line.align-right.has-indent,
math-type .print-as-area-container > line.align-right.has-indent {
  justify-content: flex-end;
}
math-type editarea.no-area-container > line.align-right.section,
math-type editarea.text-mode > line.align-right.section,
math-type area-container > line.align-right.section,
math-type .print-as-area-container > line.align-right.section {
  text-align: right;
}
math-type editarea.no-area-container > line.align-right > blocks,
math-type editarea.text-mode > line.align-right > blocks,
math-type area-container > line.align-right > blocks,
math-type .print-as-area-container > line.align-right > blocks {
  text-align: right;
}
math-type editarea.no-area-container > line > blocks > block,
math-type editarea.text-mode > line > blocks > block,
math-type area-container > line > blocks > block,
math-type .print-as-area-container > line > blocks > block {
  display: inline;
}
math-type editarea.no-area-container,
math-type area-container {
  align-items: initial;
}
math-type editarea.root-editor {
  align-items: initial;
  display: block;
  color: black;
  fill: black;
  stroke: black;
  border-color: black;
}
math-type editarea.root-editor.read-only {
  cursor: default;
}
math-type editarea.root-editor.read-only block {
  cursor: default;
}
math-type editarea.root-editor > area-container {
  display: block;
}
math-type area-container {
  width: 100%;
}
math-type block {
  cursor: text;
}
math-type editarea {
  box-sizing: border-box;
  display: flex;
  overflow-x: visible;
  align-items: center;
  justify-content: center;
  flex-direction: row;
  flex-wrap: nowrap;
}
math-type editarea block {
  cursor: text;
}
math-type editarea.high-order {
  position: relative;
  z-index: 10;
}
math-type editarea.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type editarea.bordered {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type editarea.center > area-container > line,
math-type editarea.center > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
math-type editarea.left > area-container > line,
math-type editarea.left > line {
  justify-content: flex-start;
  text-align: left;
}
math-type editarea.right > area-container > line,
math-type editarea.right > line {
  justify-content: flex-end;
  text-align: right;
}
math-type editarea > area-baseline {
  width: 0;
  overflow: hidden;
  display: inline-block;
  float: left;
}
math-type setting.mt-common-dialog.line-tag-setting {
  transform: translate(0, -100%);
  position: absolute;
  font-family: serif;
  font-size: 11px;
  top: -4px;
  left: -10px;
  outline: none;
}
math-type setting.mt-common-dialog.line-tag-setting i {
  font-style: normal;
  padding: 1px 3px;
}
baselineblock {
  height: 0px;
  display: inline-block;
  width: 0;
  overflow: hidden;
}
baselineblock.inline {
  display: inline;
}
emptyblock {
  white-space: pre;
}
composite {
  display: inline-block;
}
block.Binary {
  padding: 0 0.2em;
}
block.Relation {
  padding: 0 0.3em;
}
block.Punctuation {
  padding-right: 0.2em;
}




check-box-wrapper {
  display: block;
  font-size: 11px;
  color: gray;
  cursor: pointer;
}
check-box-wrapper.disabled {
  color: lightgray;
}
check-box-wrapper.disabled check-box-rect {
  border: 1px solid #e2e1e1;
  color: lightgray;
}
check-box-wrapper.disabled check-box-rect:hover {
  border: 1px solid #e2e1e1;
}
check-box-wrapper.mobile-tablet check-box-rect {
  margin-top: -3px;
  width: 16px;
  height: 15px;
  font-size: 13px;
}
check-box-wrapper.mobile-tablet check-box-rect > i {
  left: 2px;
  top: 1px;
}
check-box-wrapper check-box-rect {
  width: 1.4em;
  height: 1.35em;
  border: 1px solid #c3c2c2;
  position: relative;
  display: inline-flex;
  font-size: 11px;
  color: green;
  background: white;
  justify-content: center;
  align-items: center;
}
check-box-wrapper check-box-rect:hover {
  border: 1px solid gray;
}
check-box-wrapper.unchecked check-box-rect > i {
  visibility: hidden;
}

vcomposed-symbol {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  flex-direction: column;
}
vcomposed-symbol > start {
  display: block;
  float: left;
  overflow: hidden;
  margin-bottom: -0.02em;
}
vcomposed-symbol > middle-center {
  overflow: hidden;
  margin-top: -0.02em;
  margin-bottom: -0.02em;
}
vcomposed-symbol > middle {
  display: block;
  flex-grow: 1;
  position: relative;
  overflow: hidden;
  margin-top: -0.02em;
  margin-bottom: -0.02em;
}
vcomposed-symbol > middle > fixed {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
}
vcomposed-symbol > middle > fixed > inside {
  display: block;
  overflow: hidden;
}
vcomposed-symbol > end {
  margin-top: -0.02em;
  display: block;
  overflow: hidden;
}


.open-brace,
.close-brace {
  padding: 0 0.1em;
  width: 0.5em;
  min-width: 0.5em;
}
.open-brace > start,
.close-brace > start {
  min-height: 0.75em;
  height: 0.75em;
}
.open-brace > middle-center,
.close-brace > middle-center {
  min-height: 0.6em;
  height: 0.6em;
}
.open-brace > end,
.close-brace > end {
  min-height: 0.75em;
  height: 0.75em;
}
.open-bracket,
.close-bracket {
  width: 0.43em;
  min-width: 0.43em;
}
.open-bracket > start,
.close-bracket > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-bracket > end,
.close-bracket > end {
  height: 0.7em;
  min-height: 0.7em;
}
.open-parenthesis,
.close-parenthesis {
  width: 0.45em;
  min-width: 0.45em;
}
.open-parenthesis > start,
.close-parenthesis > start {
  min-height: 0.85em;
  height: 0.85em;
}
.open-parenthesis > end,
.close-parenthesis > end {
  min-height: 0.8em;
  height: 0.8em;
}
.open-floor,
.close-floor {
  width: 0.45em;
  min-width: 0.45em;
}
.open-floor > end,
.close-floor > end {
  height: 0.35em;
  min-height: 0.35em;
}
.open-ceil,
.close-ceil {
  width: 0.45em;
  min-width: 0.45em;
}
.open-ceil > start,
.close-ceil > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-vert,
.close-vert {
  width: 0.3em;
  min-width: 0.3em;
}
.open-Vert,
.close-Vert {
  width: 0.5em;
  min-width: 0.5em;
}
.open-uparrow,
.close-uparrow {
  width: 0.45em;
  min-width: 0.45em;
}
.open-uparrow > start,
.close-uparrow > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-downarrow,
.close-downarrow {
  width: 0.45em;
  min-width: 0.45em;
}
.open-downarrow > end,
.close-downarrow > end {
  height: 0.4em;
  min-height: 0.4em;
}
.open-updownarrow,
.close-updownarrow {
  width: 0.45em;
  min-width: 0.45em;
}
.open-updownarrow > start,
.close-updownarrow > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-updownarrow > end,
.close-updownarrow > end {
  height: 0.4em;
  min-height: 0.4em;
}
.open-Uparrow,
.close-Uparrow {
  width: 0.7em;
  min-width: 0.7em;
}
.open-Uparrow > start,
.close-Uparrow > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-Downarrow,
.close-Downarrow {
  width: 0.7em;
  min-width: 0.7em;
}
.open-Downarrow > end,
.close-Downarrow > end {
  height: 0.5em;
  min-height: 0.5em;
}
.open-Updownarrow,
.close-Updownarrow {
  width: 0.6em;
  min-width: 0.6em;
}
.open-Updownarrow > start,
.close-Updownarrow > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-Updownarrow > end,
.close-Updownarrow > end {
  height: 0.5em;
  min-height: 0.5em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
opensymbolblock,
closesymbolblock,
.middle-vert-symbol {
  display: inline-flex;
  align-items: center;
  position: relative;
  text-align: left;
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}
opensymbolblock.normal,
closesymbolblock.normal,
.middle-vert-symbol.normal {
  margin-top: 0;
  margin-bottom: 0;
}
opensymbolblock > hidden-span,
closesymbolblock > hidden-span,
.middle-vert-symbol > hidden-span {
  visibility: hidden;
  width: 0px;
}
opensymbolblock[type='brace'],
closesymbolblock[type='brace'],
.middle-vert-symbol[type='brace'] {
  margin-left: 0.05em;
  margin-right: 0.05em;
  overflow: visible;
}
opensymbolblock[type='brace'] > svg,
closesymbolblock[type='brace'] > svg,
.middle-vert-symbol[type='brace'] > svg {
  overflow: visible;
  width: 0.5em;
  height: 100%;
}
opensymbolblock[type='parenthesis'] > svg,
closesymbolblock[type='parenthesis'] > svg,
.middle-vert-symbol[type='parenthesis'] > svg {
  width: 0.5em;
  height: 100%;
}
opensymbolblock[type='bracket'] > svg,
closesymbolblock[type='bracket'] > svg,
.middle-vert-symbol[type='bracket'] > svg {
  width: 0.5em;
  height: 100%;
}
opensymbolblock[type='angle'].sm-1 > svg,
closesymbolblock[type='angle'].sm-1 > svg,
.middle-vert-symbol[type='angle'].sm-1 > svg {
  width: 0.3em;
}
opensymbolblock[type='angle'].sm-2 > svg,
closesymbolblock[type='angle'].sm-2 > svg,
.middle-vert-symbol[type='angle'].sm-2 > svg {
  width: 0.45em;
}
opensymbolblock[type='angle'] > svg,
closesymbolblock[type='angle'] > svg,
.middle-vert-symbol[type='angle'] > svg {
  width: 0.6em;
  height: 100%;
}
opensymbolblock[type='slash'] > svg,
closesymbolblock[type='slash'] > svg,
.middle-vert-symbol[type='slash'] > svg {
  width: 0.7em;
  height: 100%;
}
opensymbolblock > bracket-span,
closesymbolblock > bracket-span,
.middle-vert-symbol > bracket-span {
  display: block;
}
opensymbolblock > vcomposed-symbol,
closesymbolblock > vcomposed-symbol,
.middle-vert-symbol > vcomposed-symbol,
opensymbolblock > bracket-span,
closesymbolblock > bracket-span,
.middle-vert-symbol > bracket-span {
  height: 100%;
  width: 100%;
  font-style: normal;
}
opensymbolblock > brace-span,
closesymbolblock > brace-span,
.middle-vert-symbol > brace-span {
  visibility: hidden;
  display: inline-block;
  padding: 0 0.1em;
}
opensymbolblock,
.middle-vert-symbol {
  margin-left: 0.07em;
}
opensymbolblock.normal,
.middle-vert-symbol.normal {
  margin-left: 0;
}
opensymbolblock[type='vert'],
.middle-vert-symbol[type='vert'],
opensymbolblock.middle-vert-symbol,
.middle-vert-symbol.middle-vert-symbol {
  margin-left: 0.05em;
  margin-right: 0.05em;
}
opensymbolblock[type='vert'] > svg,
.middle-vert-symbol[type='vert'] > svg,
opensymbolblock.middle-vert-symbol > svg,
.middle-vert-symbol.middle-vert-symbol > svg {
  width: 0.4em;
  height: 100%;
}
opensymbolblock[type='parenthesis'] > svg,
.middle-vert-symbol[type='parenthesis'] > svg {
  margin-right: -0.1em;
}
closesymbolblock {
  margin-right: 0.07em;
}
closesymbolblock.normal {
  margin-right: 0;
}
closesymbolblock[type='vert'] {
  margin-left: 0.05em;
  margin-right: 0.05em;
}
closesymbolblock[type='vert'] > svg {
  width: 0.4em;
  height: 100%;
}
closesymbolblock[type='parenthesis'] > svg {
  margin-left: -0.1em;
}

opensymbolblock[type=empty] > empty,
closesymbolblock[type=empty] > empty {
  width: 2px;
  height: 100%;
  display: block;
}
opensymbolblock[type=empty] > empty.normal-size,
closesymbolblock[type=empty] > empty.normal-size {
  height: 1em;
}
opensymbolblock[type=empty] > empty.line-selected,
closesymbolblock[type=empty] > empty.line-selected {
  background-color: lightgray;
}

.dirac-bracket-symbol > div > .oangle,
.dirac-bracket-symbol > div > .cangle {
  align-self: stretch;
  width: 0.55em;
  position: relative;
  margin-top: 0.1em;
  margin-bottom: -0.1em;
}
.dirac-bracket-symbol > div > .oangle > svg,
.dirac-bracket-symbol > div > .cangle > svg {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.dirac-bracket-symbol > div > .vert {
  align-self: stretch;
  width: 0.25em;
  position: relative;
  margin-top: 0.1em;
  margin-bottom: -0.1em;
}
.dirac-bracket-symbol > div > .vert > svg {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.dirac-bracket-symbol > div > editarea.first {
  min-width: 0.3em;
  padding-right: 0.1em;
}
.dirac-bracket-symbol > div > editarea.last {
  min-width: 0.3em;
  padding-left: 0.1em;
}
.dirac-bracket-symbol > div > editarea.middle {
  min-width: 0.3em;
  padding-left: 0.1em;
  padding-right: 0.1em;
}

cancel-symbol > editarea {
  display: inline-flex;
}
cancel-symbol > svg {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: visible;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.frac-slashed-symbol.frac-inline {
  font-size: 0.75em;
}
math-type compositeblock.fraction-symbol {
  margin-left: 0.1em;
  margin-right: 0.1em;
  vertical-align: baseline;
}
math-type compositeblock.fraction-symbol.frac-inline {
  font-size: 0.75em;
}
math-type compositeblock.fraction-symbol > .enumerator {
  float: left;
  width: 100%;
  clear: both;
}
math-type compositeblock.fraction-symbol > .denominator {
  margin-top: -5px;
  float: left;
  width: 100%;
}
math-type compositeblock.fraction-symbol > .frac-line {
  clear: both;
  pointer-events: none;
}
math-type compositeblock.fraction-symbol > .frac-line > inline {
  display: inline-block;
  width: 100%;
  vertical-align: 0.25em;
  border-bottom: solid 1px;
}
math-type compositeblock.fraction-symbol > editarea {
  border: 0px;
  min-width: 0.6em;
  text-align: center;
  text-align-last: auto;
}
math-type compositeblock.fraction-symbol > editarea > area-container > line,
math-type compositeblock.fraction-symbol > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
math-type compositeblock.fraction-symbol > editarea-line {
  text-align: center;
  text-align-last: auto;
}

.stackrel-icon {
  margin: auto;
  display: flex;
  align-items: center;
  flex-direction: column;
}
.stackrel-icon .square {
  width: 6px;
  height: 6px;
  border-style: solid;
  border-width: 1px;
  border-color: gray;
}
.stackrel-icon .distance {
  margin-top: 3px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .stackrel-symbol.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type .stackrel-symbol > .cur-value {
  clear: both;
  display: inline-flex;
  width: 100%;
}
math-type .stackrel-symbol > .top {
  float: left;
  clear: both;
  width: 100%;
  font-size: 0.7em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .underset-symbol > .center {
  display: inline-flex;
  width: 100%;
}
math-type .underset-symbol > .bottom {
  float: left;
  display: block;
  width: 100%;
  font-size: 0.7em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .over-under-set-symbol.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type .over-under-set-symbol > .top {
  display: flex;
  float: left;
  clear: both;
  width: 100%;
}
math-type .over-under-set-symbol > .top > line {
  font-size: 0.7em;
}
math-type .over-under-set-symbol > .middle {
  display: inline-flex;
  width: 100%;
  clear: both;
}
math-type .over-under-set-symbol > .middle.select {
  border-bottom: none;
}
math-type .over-under-set-symbol > .bottom {
  display: flex;
  float: left;
  width: 100%;
}
math-type .over-under-set-symbol > .bottom > line {
  font-size: 0.7em;
}

expandable-component.thickness item-option.thickness-option {
  width: 40px;
  height: 12px;
}
expandable-component.thickness svg {
  stroke: gray;
  stroke-width: 1px;
  fill: none;
}
expandable-component.thickness thickness {
  position: relative;
  display: flex;
  height: 100%;
}
expandable-component.thickness thickness > svg.thickness {
  width: 25px;
  height: 100%;
  position: static;
}
expandable-component.thickness thickness > svg.thickness line {
  stroke: gray;
  stroke-width: 1px;
}
expandable-component.thickness thickness > svg.thickness path {
  fill: #d2cfcf;
  stroke: none;
}



/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .textcircled > div > editarea {
  text-align: center;
  text-align-last: auto;
}
math-type .textcircled > div > editarea > area-container > line,
math-type .textcircled > div > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.math-container-symbol {
  margin-top: 0.3em;
  margin-bottom: 0.3em;
  display: inline-flex;
}
.math-container-symbol.inline {
  margin-top: 0px;
  margin-bottom: 0px;
}
.math-container-symbol.selected {
  background-color: rgba(76, 175, 80, 0.05);
  outline: 1px solid #c1d4c1;
}
.math-container-symbol.display {
  display: block;
}
.math-container-symbol.display.selected {
  background-color: rgba(76, 175, 80, 0.05);
  outline: none;
}
.math-container-symbol.display > editarea {
  width: 100%;
  flex-grow: 1;
  display: block;
  text-align: center;
  text-align-last: auto;
}
.math-container-symbol.display > editarea > area-container > line,
.math-container-symbol.display > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.math-container-symbol.display > editarea > area-container > line {
  padding-top: 8px;
  padding-bottom: 8px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.math-container-symbol > editarea.multiline {
  display: block;
  flex-grow: 1;
  text-align: center;
  text-align-last: auto;
}
.math-container-symbol > editarea.multiline > area-container > line,
.math-container-symbol > editarea.multiline > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.math-container-symbol > editarea.multiline > line:last-child {
  justify-content: flex-end;
  text-align: right;
}
.math-container-symbol > editarea.multiline > line:first-child {
  justify-content: flex-start;
  text-align: left;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .icon-sqrt,
.auto-complete-external-area .icon-sqrt {
  display: flex;
  margin: auto;
  font-size: 12px;
}
math-type .icon-sqrt .square,
.auto-complete-external-area .icon-sqrt .square {
  margin-top: 3px;
  margin-right: -6px;
}
math-type .icon-sqrt .square-expand,
.auto-complete-external-area .icon-sqrt .square-expand {
  background-color: #f7f7f7;
}
math-type .icon-sqrt .align-end,
.auto-complete-external-area .icon-sqrt .align-end {
  margin-top: 8px;
}
math-type .icon-sqrt .line,
.auto-complete-external-area .icon-sqrt .line {
  width: 10px;
  border-top: solid 1px black;
  margin-top: 6px;
}
math-type .icon-sqrt .big-square,
.auto-complete-external-area .icon-sqrt .big-square {
  margin-top: 11px;
  margin-left: -8px;
}
math-type .sqrt-symbol {
  white-space: nowrap;
  align-items: stretch;
  position: relative;
}
math-type .sqrt-symbol > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  left: 50%;
  top: -0.5em;
  left: 0.5em;
}
math-type .sqrt-symbol > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type .sqrt-symbol > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type .sqrt-symbol text {
  fill: black;
}
math-type .sqrt-symbol > sqrt-edit {
  position: relative;
  order: 3;
  display: inline-block;
  align-self: flex-end;
}
math-type .sqrt-symbol > sqrt-edit > sqrt-symbol-line {
  overflow: visible;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: block;
  position: absolute;
  left: 0;
  top: 0;
  pointer-events: none;
}
math-type .sqrt-symbol > sqrt-edit > sqrt-symbol-line > svg {
  overflow: visible;
  width: 100%;
  height: 1em;
}
math-type .sqrt-symbol > sqrt-edit > area-container > line {
  width: 1em;
  position: relative;
}
math-type .sqrt-symbol > sqrt-edit > editarea,
math-type .sqrt-symbol > sqrt-edit > editarea-line {
  z-index: 2;
  display: inline-block;
  min-width: 0.5em;
  margin-left: 1em;
}
math-type .sqrt-symbol > sqrt-top {
  position: relative;
  z-index: 2;
  vertical-align: bottom;
  padding-bottom: 0.95em;
  align-self: flex-end;
  display: inline-block;
}
math-type .sqrt-symbol > sqrt-top.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type .sqrt-symbol > sqrt-top > editarea {
  font-size: 0.7em;
  border: none 0px;
  min-width: 0.5em;
  display: flex;
  float: right;
  text-align: center;
  text-align-last: auto;
}
math-type .sqrt-symbol > sqrt-top > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}





/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
image-viewer {
  width: 100%;
}
image-viewer.inline {
  width: auto;
}
image-viewer .image-content {
  cursor: pointer;
  text-align: left;
}
image-viewer detail list-items-options div {
  border: 1px solid transparent;
  cursor: pointer;
  margin-left: 3px;
  padding: 0 2px 0 2px;
}
image-viewer detail list-items-options div:hover {
  background-color: white;
  border: 1px solid lightgray;
}
image-viewer detail list-items-options div.selected {
  background-color: white;
  border: 1px solid lightgray;
}
image-viewer image-container {
  display: flex;
  flex-direction: column;
}
image-viewer image-container img {
  position: absolute;
}
image-viewer image-container.center {
  align-items: center;
}
image-viewer image-container.left {
  align-items: flex-start;
}
image-viewer image-container.right {
  align-items: flex-end;
}
.resize-box {
  position: absolute;
  width: 8px;
  height: 8px;
  border-width: 1px;
  border-color: gray;
  border-style: solid;
  background-color: white;
  z-index: 999;
}
.resize-box.mobile-tablet {
  width: 16px;
  height: 16px;
}
.resize-box.hide {
  display: none;
}
topleft {
  top: 0;
  left: 0;
  margin-left: -5px;
  margin-top: -5px;
  cursor: nwse-resize;
}
topleft.mobile-tablet {
  margin-left: -8px;
  margin-top: -8px;
}
topright {
  top: 0;
  right: 0;
  margin-right: -5px;
  margin-top: -5px;
  cursor: nesw-resize;
}
topright.mobile-tablet {
  margin-right: -8px;
  margin-top: -8px;
}
topmiddle {
  top: 0;
  left: 50%;
  margin-left: -5px;
  margin-top: -5px;
  cursor: ns-resize;
}
topmiddle.mobile-tablet {
  margin-left: -8px;
  margin-top: -8px;
}
leftmiddle {
  top: 50%;
  left: 0;
  margin-left: -5px;
  margin-top: -5px;
  cursor: ew-resize;
}
leftmiddle.mobile-tablet {
  margin-left: -8px;
  margin-top: -8px;
}
rightmiddle {
  top: 50%;
  right: 0;
  margin-right: -5px;
  margin-top: -5px;
  cursor: ew-resize;
}
rightmiddle.mobile-tablet {
  margin-right: -8px;
  margin-top: -8px;
}
bottomleft {
  bottom: 0;
  left: 0;
  margin-left: -5px;
  margin-bottom: -5px;
  cursor: nesw-resize;
}
bottomleft.mobile-tablet {
  margin-left: -8px;
  margin-bottom: -8px;
}
bottomright {
  bottom: 0;
  right: 0;
  margin-right: -5px;
  margin-bottom: -5px;
  cursor: nwse-resize;
}
bottomright.mobile-tablet {
  margin-right: -8px;
  margin-bottom: -8px;
}
bottommiddle {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  margin-bottom: -5px;
  cursor: ns-resize;
}
bottommiddle.mobile-tablet {
  margin-left: -8px;
  margin-bottom: -8px;
}
.ghost-viewer {
  outline: 1px dotted gray;
  width: 100%;
  height: 100%;
  display: block;
}

compositeblock.image-container {
  position: relative;
  width: 100%;
  margin-top: 10px;
  margin-bottom: 10px;
}
compositeblock.image-container > image-viewer {
  display: block;
}
compositeblock.image-container.inline {
  width: auto;
  margin-top: 0;
  margin-bottom: 0;
  display: inline-block;
}
.image-caption > line.text-mode:first-child {
  display: inline;
}
.image-caption > line.text-mode:first-child > blocks {
  display: inline;
}
.add-caption {
  opacity: 0.85;
  text-align: "center";
  color: #1155cc;
  cursor: pointer;
  position: absolute;
  bottom: -35px;
  left: 50%;
  transform: translate(-50%, 0);
  z-index: 10;
  font-size: 13px;
  background: white;
  border: 1px solid lightgray;
  padding: 5px;
}
.add-caption:hover {
  opacity: 1;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .power-index-symbol-container {
  margin-right: 0.06em;
  margin-left: 0.03em;
}
math-type .power-index-symbol-container.has-power > .power-value {
  margin-left: 0.04em;
}
math-type .power-index-symbol-container > .power-value,
math-type .pre-script-symbol-container > .power-value {
  /*margin-bottom: -2px;*/
  float: left;
  clear: both;
  text-align: left;
}
math-type .power-index-symbol-container > .power-value.small > line,
math-type .pre-script-symbol-container > .power-value.small > line {
  margin-bottom: -0.35em;
}
math-type .power-index-symbol-container > .power-value > line,
math-type .pre-script-symbol-container > .power-value > line {
  font-size: 0.7em;
}
math-type .power-index-symbol-container > .power-value > area-container > line,
math-type .pre-script-symbol-container > .power-value > area-container > line,
math-type .power-index-symbol-container > .power-value > line,
math-type .pre-script-symbol-container > .power-value > line {
  justify-content: flex-start;
  text-align: left;
}
math-type .power-index-symbol-container > middle-base,
math-type .pre-script-symbol-container > middle-base {
  display: block;
  clear: both;
  height: 1em;
}
math-type .power-index-symbol-container > middle-base > inline,
math-type .pre-script-symbol-container > middle-base > inline {
  display: inline-block;
}
math-type .power-index-symbol-container > .index-value,
math-type .pre-script-symbol-container > .index-value {
  float: left;
  text-align: left;
}
math-type .power-index-symbol-container > .index-value > line,
math-type .pre-script-symbol-container > .index-value > line {
  font-size: 0.7em;
}
math-type .power-index-symbol-container > .index-value > area-container > line,
math-type .pre-script-symbol-container > .index-value > area-container > line,
math-type .power-index-symbol-container > .index-value > line,
math-type .pre-script-symbol-container > .index-value > line {
  justify-content: flex-start;
  text-align: left;
}
math-type .power-index-symbol-container > editarea-block.index-value,
math-type .pre-script-symbol-container > editarea-block.index-value,
math-type .power-index-symbol-container > editarea-line.index-value,
math-type .pre-script-symbol-container > editarea-line.index-value {
  font-size: 0.7em;
}
math-type .power-index-symbol-container > editarea-block.power-value,
math-type .pre-script-symbol-container > editarea-block.power-value,
math-type .power-index-symbol-container > editarea-line.power-value,
math-type .pre-script-symbol-container > editarea-line.power-value {
  font-size: 0.7em;
}
math-type .pre-script-symbol-container > .power-value {
  float: right;
}
math-type .pre-script-symbol-container > .index-value {
  float: right;
}
.icon-power-index-symbol {
  display: flex;
  margin: auto;
  width: 20px;
  padding-bottom: 6px;
}
.icon-power-index-symbol .square-up {
  margin-top: 4px;
}
.icon-power-index-symbol .square-down {
  margin-top: 14px;
  margin-left: -6px;
}
.icon-power-index-symbol .align-end {
  margin-top: 4px;
}
.icon-power-symbol {
  display: flex;
  margin: auto;
  width: 20px;
  padding-bottom: 6px;
}
.icon-power-symbol .square {
  margin-top: 4px;
}
.icon-power-symbol .align-end {
  margin-top: 4px;
}
.icon-index-symbol {
  display: flex;
  margin: auto;
  width: 20px;
  padding-bottom: 6px;
}
.icon-index-symbol .square {
  margin-top: 14px;
  margin-left: 0px;
}
.icon-index-symbol .align-end {
  margin-top: 4px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.matrix-like > matrix > table > tbody > tr > td {
  padding-bottom: 0.1em;
  padding-top: 0.1em;
}
.matrix-symbol.matrix-like > matrix > table > tbody > tr.hline {
  border-top: 1px solid;
}
.matrix-symbol.matrix-like > matrix > table > tbody > tr:last-child.last-hline {
  border-bottom: 1px solid;
}
.matrix-symbol {
  /* must be flex to have vertical center align , unless figure out another way */
  display: inline-flex;
  align-items: center;
}
.matrix-symbol > matrix > table > tbody > tr > td > .sbd {
  position: absolute;
  left: -1px;
  top: -1px;
  right: -1px;
  bottom: -1px;
  pointer-events: none;
  background: none;
}
.matrix-symbol.selected > matrix > table > tbody > tr > td > .sbd {
  border-top: 1px solid rgba(93, 92, 92, 0.15);
  border-left: 1px solid rgba(93, 92, 92, 0.15);
}
.matrix-symbol.selected > matrix > table > tbody > tr > td > .sbd.sbd-lr {
  border-bottom: 1px solid rgba(93, 92, 92, 0.15);
}
.matrix-symbol.selected > matrix > table > tbody > tr > td > .sbd.sbd-lc {
  border-right: 1px solid rgba(93, 92, 92, 0.15);
}
.matrix-symbol > base-line-indicator {
  height: inherit;
  margin-top: -0.18em;
}
.matrix-symbol matrixclosesymbol,
.matrix-symbol matrixopensymbol {
  font-style: normal;
  color: black;
  position: relative;
}
.matrix-symbol matrixclosesymbol > span,
.matrix-symbol matrixopensymbol > span {
  visibility: hidden;
  display: inline-block;
}
.matrix-symbol matrixclosesymbol > svg,
.matrix-symbol matrixopensymbol > svg {
  overflow: visible;
  font-size: 15px;
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
.matrix-symbol matrixclosesymbol > svg text,
.matrix-symbol matrixopensymbol > svg text {
  fill: black;
}
.matrix-symbol > matrix.matrix > table > tbody > tr > td {
  padding: 0 0.3em;
}
.matrix-symbol > matrix {
  display: flex;
  position: relative;
  float: left;
  align-items: flex-start;
  break-inside: avoid;
}
.matrix-symbol > matrix > svg {
  width: 0.6em;
  /*init height, willl be changed by inline style*/
  height: 3px;
  overflow: visible;
  align-self: flex-start;
}
.matrix-symbol > matrix > vcomposed-symbol {
  height: inherit;
  align-self: stretch;
}
.matrix-symbol > matrix > table {
  border: 1px solid transparent;
  border-collapse: collapse;
}
.matrix-symbol > matrix > table > tbody > tr {
  box-sizing: border-box;
}
.matrix-symbol > matrix > table > tbody > tr.smaller {
  font-size: 0.75em;
}
.matrix-symbol > matrix > table > tbody > tr > td {
  position: relative;
  border: 1px dotted transparent;
  box-sizing: border-box;
  padding: 0 0.3em;
  vertical-align: baseline;
}
.matrix-symbol > matrix > table > tbody > tr > td > .editor-cell {
  display: inline-block;
  width: 100%;
}
.matrix-symbol > matrix > table > tbody > tr > td.vline {
  border-left: 1px solid;
}
.matrix-symbol > matrix > table > tbody > tr > td:last-child.last-vline {
  border-right: 1px solid;
}
.matrix-symbol > matrix > table > tbody > tr > td > .editor-cell {
  min-width: 0.5em;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol > matrix > table > tbody > tr > td > .editor-cell > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.matrix > table {
  margin-left: -0.2em;
  margin-right: -0.2em;
}
.matrix-symbol > matrix.matrix > table > tbody > tr > td > .editor-cell {
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol > matrix.matrix > table > tbody > tr > td > .editor-cell > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.left {
  text-align: left;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.left > area-container > line,
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.left > line {
  justify-content: flex-start;
  text-align: left;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.center {
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.center > area-container > line,
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.center > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.right {
  text-align: right;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.right > area-container > line,
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.right > line {
  justify-content: flex-end;
  text-align: right;
}
.matrix-symbol > matrix.gathered > table > tbody > tr > td:nth-child(2n+3) {
  padding-left: 1em;
}
.matrix-symbol > matrix.gathered line {
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td {
  padding: 0;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n+3) {
  padding-left: 1em;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n+1) > .editor-cell {
  text-align: right;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n+1) > .editor-cell > area-container > line,
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n+1) > .editor-cell > line {
  justify-content: flex-end;
  text-align: right;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n) > .editor-cell {
  text-align: left;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n) > .editor-cell > area-container > line,
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n) > .editor-cell > line {
  justify-content: flex-start;
  text-align: left;
}
.matrix-symbol > matrix > border-design {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  display: block;
  background-color: rgba(255, 255, 255, 0.7);
  z-index: 10;
}
.matrix-symbol > matrix > border-design > border-line {
  cursor: pointer;
  position: absolute;
  /*border:1px solid gray;*/
}
.matrix-symbol > matrix > border-design > border-line > horizontal-line {
  border-top: 1px solid #eceaea;
  display: block;
  position: absolute;
  top: 50%;
  width: 100%;
  height: 1px;
  margin-top: 0;
  left: 0;
}
.matrix-symbol > matrix > border-design > border-line > vertical-line {
  border-left: 1px solid #eceaea;
  display: block;
  position: absolute;
  left: 50%;
  width: 1px;
  height: 100%;
  top: 0;
}
.matrix-symbol > matrix > border-design > border-line > vertical-line.enabled {
  border-top: 1px solid;
}
.matrix-symbol > matrix > border-design > border-line:hover > horizontal-line {
  border-top: 1px solid gray;
}
.matrix-symbol > matrix > border-design > border-line:hover > vertical-line {
  border-left: 1px solid gray;
}
.matrix-symbol > matrix > border-design > border-line.enabled > horizontal-line {
  border-top: 1px solid;
}
.matrix-symbol > matrix > border-design > border-line.enabled > vertical-line {
  border-left: 1px solid;
}
.matrix-symbol > matrix > setting {
  padding: 7px;
  position: absolute;
  top: -6px;
  font-family: "Segoe UI", Arial, Verdana, sans-serif;
  transform: translate(0, -100%);
  left: 0;
}
.matrix-symbol > matrix > setting > main-setting {
  display: flex;
  flex-direction: row;
}
.matrix-symbol > matrix > setting > main-setting styled-select {
  display: block;
  background-color: white;
}
.fa-table.array-settings {
  border: 1px solid lightgray;
  padding: 3px 5px;
  font-size: 14px;
  color: gray;
  cursor: pointer;
  /*margin-left: 5px;*/
}
.fa-table.array-settings:hover {
  color: black;
  background: white;
}
.matrix-icon {
  display: flex;
}
.matrix-icon .square {
  margin-top: 2px;
}
.matrix-icon .display-flex {
  display: flex;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td {
  padding: 0 0.2em;
}
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td.non-select,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td.non-select {
  user-select: none;
  width: 0.2em;
  padding: 0;
}
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td > .editor-cell,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td > .editor-cell {
  text-align: left;
}
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td > .editor-cell > line,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td > .editor-cell > line {
  justify-content: flex-start;
  text-align: left;
}
.case-icon {
  display: flex;
  font-size: 18px;
  line-height: 18px;
}
.case-icon .square {
  margin-top: 2px;
}
.case-icon .display-flex {
  display: flex;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td {
  padding: 0 0.2em;
}
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #e0e0e0;
}
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td > .editor-cell {
  text-align: left;
}
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td > .editor-cell > line {
  justify-content: flex-start;
  text-align: left;
}
.case-icon {
  display: flex;
  font-size: 18px;
  line-height: 18px;
}
.case-icon .square {
  margin-top: 2px;
}
.case-icon .display-flex {
  display: flex;
}

.array-icon .square {
  margin-top: 2px;
}
.array-icon .display-flex {
  display: flex;
}

.matrix-like.binom > .binom > table > tbody > tr > td {
  padding: 0;
}
.matrix-like.binom > .binom > table > tbody > tr > td line {
  text-align: center;
  text-align-last: auto;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.align-symbol {
  /*display flex because to make sure it's spend whole line*/
  display: flex;
  justify-content: center;
  margin-top: 10px;
  margin-bottom: 10px;
  width: 100%;
}
.matrix-symbol.align-symbol.selected {
  background-color: rgba(76, 175, 80, 0.05);
}
.matrix-symbol.align-symbol > matrix > setting > main-setting {
  margin-bottom: 0px;
}
.matrix-symbol.align-symbol > matrix > bulb {
  left: 50%;
}
.matrix-symbol.align-symbol > matrix > setting {
  margin-left: 20px;
}
.matrix-symbol.align-symbol > matrix.align {
  width: 100%;
  display: block;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td {
  padding: 0;
  vertical-align: baseline;
  border: 1px solid transparent;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > .editor-cell {
  /* should align start and area-container level (instead of line level)
                as for lazy rendering, we need to have exact line width */
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container {
  align-items: flex-start;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line {
  width: auto;
  text-align: left;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.align-right > .editor-cell {
  /* should align start and area-container level (instead of line level)
                as for lazy rendering, we need to have exact line width */
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.align-right > .editor-cell > area-container {
  align-items: flex-end;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.align-right > .editor-cell > area-container > line {
  width: auto;
  text-align: right;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.non-select {
  border: none;
  user-select: none;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.expand {
  width: 100%;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #e0e0e0;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > .editor-cell {
  min-width: 1.5em;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > tupple {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: baseline;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.gather-symbol {
  /*display flex because to make sure it's spend whole line*/
  display: flex;
  justify-content: center;
  margin-top: 10px;
  margin-bottom: 10px;
  width: 100%;
}
.matrix-symbol.gather-symbol.selected {
  background-color: rgba(76, 175, 80, 0.05);
}
.matrix-symbol.gather-symbol > matrix.gather {
  width: 100%;
  display: block;
}
.matrix-symbol.gather-symbol > matrix > setting > main-setting {
  margin-bottom: 0px;
}
.matrix-symbol.gather-symbol > matrix > bulb {
  left: -1em;
}
.matrix-symbol.gather-symbol > matrix > setting {
  margin-left: 20px;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td {
  padding: 0;
  vertical-align: baseline;
  border: 1px solid transparent;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td.non-select {
  user-select: none;
  width: 1.5em;
  border: none;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td.expand {
  width: 100%;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #e0e0e0;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td line {
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td > .editor-cell {
  min-width: 1.5em;
  /* should align start and area-container level (instead of line level)
                as for lazy rendering, we need to have exact line width */
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container {
  align-items: center;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line {
  width: auto;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td > tupple {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: baseline;
}

math-type compositeblock.table-symbol {
  width: 100%;
  display: flex;
}
math-type compositeblock.table-symbol.cap-above {
  flex-direction: column;
}
math-type .matrix-symbol > matrix.table {
  width: 100%;
  flex-direction: column;
  align-items: stretch;
}
math-type .matrix-symbol > matrix.table > table {
  table-layout: fixed;
  border: unset;
  width: 100%;
}
math-type .matrix-symbol > matrix.table > table > tbody > tr > td {
  vertical-align: top;
  padding: 0;
  position: relative;
}
math-type .cell-border-box {
  position: absolute;
  left: -1px;
  top: -1px;
  width: 100%;
  height: 100%;
}
.table-caption > line.text-mode:first-child {
  display: inline;
}
.table-caption > line.text-mode:first-child > blocks {
  display: inline;
}

editarea.lttb.text-mode > line.text-mode > blocks {
  text-align: inherit;
}



math-type compositeblock.table-of-content {
  display: block;
  width: 100%;
}
math-type compositeblock.table-of-content > toc-wrapper {
  position: relative;
  width: 100%;
  display: block;
  cursor: default;
}
math-type compositeblock.table-of-content > toc-wrapper .toc-setting-icons {
  display: none;
  position: absolute;
  left: -65px;
  width: 70px;
  top: -20px;
  bottom: 0;
  font-size: 1em;
  z-index: 999;
  padding-top: 20px;
}
math-type compositeblock.table-of-content > toc-wrapper .toc-setting-icons > .icon-refresh,
math-type compositeblock.table-of-content > toc-wrapper .toc-setting-icons > .icon-settings {
  border: 1px solid #c3c2c2;
  padding: 0.3em;
  padding-top: 0.1em;
  line-height: 1.2;
  padding-bottom: 0;
  cursor: pointer;
  background-color: #f7f7f7;
  color: gray;
  width: 12px;
  display: inline-block;
  margin-left: 5px;
}
math-type compositeblock.table-of-content > toc-wrapper:hover .toc-setting-icons {
  display: block;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode {
  width: 100%;
  cursor: default;
  display: block;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode {
  display: block;
  width: auto;
  cursor: default;
  padding-left: 1em;
  padding-right: 15px;
  font-style: unset;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > a > blocks,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > blocks {
  display: block;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > a > prefix,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > prefix {
  display: none;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl {
  padding-left: 15px;
  padding-right: 1em;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl > a > blocks,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl > blocks {
  text-align: right;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl a > blocks > compositeblock.toc-page-number-symbol,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl > blocks > compositeblock.toc-page-number-symbol {
  float: left;
  padding-left: 0;
  margin-right: 0;
  margin-left: 0;
  padding-right: 0.5em;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > block,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > a > block,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > blocks > block,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode a > blocks > block {
  white-space: pre-wrap;
  white-space: break-spaces;
  cursor: pointer;
  font-style: unset;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > a > blocks > compositeblock.toc-page-number-symbol,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > blocks > compositeblock.toc-page-number-symbol {
  float: right;
  padding-left: 0.5em;
  margin-right: 0;
}

.icon-integral-symbol {
  margin: auto 4px auto auto;
  display: flex;
  flex-direction: row-reverse;
  font-size: 12px;
}
.icon-integral-symbol .square-up {
  border-width: 1px;
  margin-top: 0px;
}
.icon-integral-symbol .square-down {
  border-width: 1px;
  margin-top: 21px;
  margin-left: -10px;
}
.icon-integral-symbol .align-end {
  margin-top: 6px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .limit-type {
  position: relative;
}
math-type .limit-type > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  top: -0.5em;
  left: 50%;
  top: -1.4em;
  left: 0.6em;
  align-items: flex-start;
}
math-type .limit-type > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type .limit-type > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type .limit-type > .to,
math-type .limit-type > .from {
  float: left;
  clear: both;
}
math-type .limit-type > .to > line,
math-type .limit-type > .from > line,
math-type .limit-type > .to > editarea > line,
math-type .limit-type > .from > editarea > line {
  font-size: 0.7em;
}
math-type .limit-type > editarea-line,
math-type .limit-type > editarea-block {
  font-size: 0.7em;
}
math-type .limit-type > symbol {
  display: block;
  clear: both;
  pointer-events: none;
}
math-type .limit-type > symbol > span {
  white-space: nowrap;
  pointer-events: none;
}
math-type .limit-type > setting {
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  opacity: 0.5;
  opacity: 1;
  position: absolute;
  left: 50%;
  top: -2em;
  font-size: 0.6em;
  margin-left: -0.6em;
  padding: 0 0.2em;
  cursor: pointer;
}
math-type .limit-type > setting:hover {
  border-color: gray;
  opacity: 1;
}
math-type .limit-type > setting:hover {
  border: 1px solid gray;
}
math-type .limit-type > setting > i {
  transform: rotate(-60deg);
}
math-type .limit-type.limit-kind > setting > i {
  transform: rotate(45deg);
}
math-type .limit-type.limit-kind > symbol {
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > .from,
math-type .limit-type.limit-kind > .to {
  width: 100%;
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > .from > line,
math-type .limit-type.limit-kind > .to > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > empty.from {
  height: 0;
  margin-top: -0.75em;
}
math-type .limit-type.limit-kind > empty.from > editarea.selected > line,
math-type .limit-type.limit-kind > empty.from > editarea-block.selected,
math-type .limit-type.limit-kind > empty.from > editarea-line.selected {
  background-color: white;
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > empty.to {
  height: 0;
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > empty.to > editarea.selected > line,
math-type .limit-type.limit-kind > empty.to > editarea-block.selected,
math-type .limit-type.limit-kind > empty.to > editarea-line.selected {
  background-color: white;
  text-align: center;
  text-align-last: auto;
}
math-type .integral-like-symbol.inline > symbol {
  font-size: 1em;
}
math-type .integral-like-symbol.int-ml {
  margin-left: -0.5em;
}
math-type .integral-like-symbol.oint-ml {
  margin-left: -0.3em;
}
math-type .integral-like-symbol > symbol {
  font-size: 1.5em;
}
math-type .integral-like-symbol > symbol > span {
  line-height: 1.4em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .limit-type.lim-like-symbol {
  margin-left: 0.2em;
  margin-right: 0.2em;
}
math-type .limit-type.lim-like-symbol.close-left {
  margin-left: 0;
}
math-type .limit-type.lim-like-symbol.close-right {
  margin-right: 0;
}
math-type .limit-type.lim-like-symbol.limit-kind > empty.from > editarea {
  margin-top: -0.4em;
}
math-type .lim-like-symbol > add {
  left: 50%;
  top: -1em;
}
math-type .lim-like-symbol > symbol.inf {
  text-decoration: underline;
}
math-type .lim-like-symbol > symbol.sup {
  text-decoration: overline;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from,
math-type .lim-like-symbol.non-limit-kind > editarea.to {
  margin-left: 1.47em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-lim,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-lim {
  margin-left: 1.5435em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-liminf,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-liminf {
  margin-left: 3.15em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-limsup,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-limsup {
  margin-left: 3.528em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-sup,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-sup {
  margin-left: 1.6905em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-varlimsup,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-varlimsup {
  margin-left: 1.5435em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to {
  margin-left: 2.072em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-lim,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-lim {
  margin-left: 2.1756em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-liminf,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-liminf {
  margin-left: 4.44em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-limsup,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-limsup {
  margin-left: 4.9728em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-sup,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-sup {
  margin-left: 2.3828em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-varlimsup,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-varlimsup {
  margin-left: 2.1756em;
}



/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .limit-type.summation-like-symbol.limit-kind > empty.from {
  margin-top: -0.3em;
}
math-type .limit-type.summation-like-symbol.limit-kind > empty.from > editarea,
math-type .limit-type.summation-like-symbol.limit-kind > empty.from > editarea-block {
  margin-top: -0.2em;
}
math-type .summation-like-symbol.inline > add {
  top: -1.1em;
}
math-type .summation-like-symbol.inline > symbol {
  font-size: 1em;
}
math-type .summation-like-symbol.inline > symbol > span {
  vertical-align: 0.15em;
}
math-type .summation-like-symbol {
  padding-right: 0.15em;
}
math-type .summation-like-symbol > symbol {
  font-size: 1.5em;
}
math-type .summation-like-symbol > symbol > span {
  vertical-align: 0.1em;
  line-height: 1.4em;
}
math-type .summation-like-symbol > add {
  top: -1.5em;
}
math-type .summation-like-symbol > .custom-symbol {
  font-weight: bold;
}

hcomposed-symbol {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
hcomposed-symbol > start {
  display: block;
  float: left;
  overflow: hidden;
}
hcomposed-symbol > middle {
  display: block;
  flex-grow: 1;
  white-space: nowrap;
  position: relative;
  overflow: hidden;
}
hcomposed-symbol > middle > fixed {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
}
hcomposed-symbol > middle > fixed > inside {
  display: inline-block;
  overflow: hidden;
}
hcomposed-symbol > end {
  display: block;
  overflow: hidden;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .arrow-like-symbol {
  padding: 0 0.2em;
}
math-type .arrow-like-symbol > arrow-like-simple > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  top: -0.5em;
  left: 50%;
  left: 0.8em;
  top: -0.7em;
}
math-type .arrow-like-symbol > arrow-like-simple > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type .arrow-like-symbol > arrow-like-simple > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type .arrow-like-symbol > middle {
  display: block;
  text-align: center;
  text-align-last: auto;
  clear: both;
  width: 100%;
  position: relative;
}
math-type .arrow-like-symbol > middle > inside {
  display: inline-block;
  height: 0.55em;
  width: 100%;
}
math-type .arrow-like-symbol > middle > inside > hcomposed-symbol {
  position: absolute;
  top: 0.4em;
  left: 0;
}
math-type .arrow-like-symbol > editarea.sright-1 {
  padding-left: 0.55em;
  padding-right: 0.25em;
}
math-type .arrow-like-symbol > editarea.sleft-1 {
  padding-left: 0.25em;
  padding-right: 0.55em;
}
math-type .arrow-like-symbol > editarea.small-margin {
  padding-left: 0.4em;
  padding-right: 0.4em;
}
math-type .arrow-like-symbol > editarea.large-padding {
  margin: 0 1.3em;
}
math-type .arrow-like-symbol > editarea > line {
  font-size: 0.7em;
}
math-type .arrow-like-symbol > .top {
  float: left;
  width: 100%;
  clear: both;
  margin-bottom: -0.5em;
  z-index: 1;
  position: relative;
}
math-type .arrow-like-symbol > .top.space-1,
math-type .arrow-like-symbol > .top.up-space-1-lower-space-2 {
  margin-bottom: -0.4em;
}
math-type .arrow-like-symbol > .bottom {
  margin-top: -0.45em;
  float: left;
  width: 100%;
}
math-type .arrow-like-symbol > .bottom.space-1,
math-type .arrow-like-symbol > .bottom.lower-space-1 {
  margin-top: -0.35em;
}
math-type .arrow-like-symbol > .bottom.space-2,
math-type .arrow-like-symbol > .bottom.up-space-1-lower-space-2 {
  margin-top: -0.25em;
}

.over-icon {
  margin: auto;
  width: 12px;
  font-size: 13px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .over-arrow-symbol > arrow-symbol {
  display: block;
  margin-right: -0.05em;
  position: relative;
}
math-type .over-arrow-symbol > arrow-symbol > hcomposed-symbol {
  position: absolute;
}
math-type .over-arrow-symbol > arrow-symbol > arrow-wrapper {
  margin-right: -0.2em;
}
math-type .over-arrow-symbol > editarea {
  display: inline-flex;
  text-align: center;
  text-align-last: auto;
}
math-type .over-arrow-symbol > editarea > area-container > line,
math-type .over-arrow-symbol > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
math-type .over-arrow-symbol > editarea-block {
  min-width: 0.5em;
  text-align: center;
  text-align-last: auto;
  display: inline-block;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .over-line-symbol {
  margin-left: 0.05em;
  margin-right: 0.05em;
}
math-type .over-line-symbol > editarea {
  display: inline-flex;
  min-width: 0.5em;
}
math-type .over-line-symbol > editarea-line {
  min-width: 0.5em;
  display: inline-block;
  text-align: center;
  text-align-last: auto;
}
math-type .over-line-symbol > line-border {
  display: block;
  position: relative;
}
math-type .over-line-symbol > line-border > hcomposed-symbol {
  position: absolute;
}
math-type .over-line-symbol > line-border > svg {
  position: absolute;
  width: 100%;
  height: 100%;
}

brace-top-wrapper {
  display: flex;
  flex-direction: row;
  height: 100%;
  font-family: Asana-Math, Asana;
}
brace-top-wrapper > middle-wrapper {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
brace-top-wrapper > middle-wrapper > fixed {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
}
brace-top-wrapper > middle-wrapper > fixed > middle-inside {
  overflow: hidden;
}
brace-top-wrapper first,
brace-top-wrapper middle,
brace-top-wrapper last {
  overflow: hidden;
  position: relative;
}
brace-top-wrapper first {
  min-width: 0.7em;
  width: 0.7em;
}
brace-top-wrapper > middle {
  min-width: 0.6em;
  width: 0.6em;
}
brace-top-wrapper > last {
  min-width: 0.7em;
  width: 0.7em;
}
bracket-top-wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
  font-family: Asana-Math, Asana;
}
bracket-top-wrapper > first,
bracket-top-wrapper middle,
bracket-top-wrapper last {
  overflow: hidden;
  position: relative;
}
bracket-top-wrapper > first {
  height: 0.5em;
  min-height: 0.5em;
}
bracket-top-wrapper middle-wrapper {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
bracket-top-wrapper middle-wrapper > fixed {
  overflow: hidden;
  position: absolute;
  left: 0;
  top: 0;
}
bracket-top-wrapper middle-wrapper > fixed > middle {
  display: block;
  overflow: hidden;
}
bracket-top-wrapper > last {
  height: 0.65em;
  min-height: 0.65em;
}
parenthesis-top-wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
  font-family: Asana-Math, Asana;
}
parenthesis-top-wrapper > first,
parenthesis-top-wrapper middle,
parenthesis-top-wrapper last {
  overflow: hidden;
  position: relative;
  height: 1em;
  min-height: 1em;
}
parenthesis-top-wrapper > first {
  min-height: 0.9em;
  height: 0.9em;
}
parenthesis-top-wrapper middle-wrapper {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
parenthesis-top-wrapper middle-wrapper > fixed {
  position: absolute;
  top: 0;
  left: 0;
}
parenthesis-top-wrapper middle-wrapper > fixed > middle {
  display: block;
  overflow: hidden;
}
parenthesis-top-wrapper > last {
  min-height: 1em;
  height: 1em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .over-brace-symbol {
  position: relative;
}
math-type .over-brace-symbol > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  top: -0.5em;
  left: 50%;
  top: -1.5em;
  margin-left: -0.6em;
}
math-type .over-brace-symbol > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type .over-brace-symbol > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type .over-brace-symbol > top-brace {
  pointer-events: none;
  display: block;
  min-width: 1.1em;
  position: relative;
  clear: both;
  margin-bottom: -0.1em;
  font-style: normal;
  font-weight: normal;
}
math-type .over-brace-symbol > top-brace > brace-top-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  left: 50%;
  transform: translate(-50%, 0);
}
math-type .over-brace-symbol > editarea {
  display: inline-flex;
  width: 100%;
  align-self: center;
  clear: both;
}
math-type .over-brace-symbol > editarea.overValue {
  font-size: 0.7em;
  float: left;
  width: 100%;
  margin-bottom: 0.1em;
}

.icon-hat {
  margin: auto;
  width: 12px;
  font-size: 12px;
}
.icon-hat .square {
  margin-top: -3px;
}

.under-arc-symbol {
  display: inline-block;
}
.under-arc-symbol > editarea {
  display: inline-flex;
}
.under-arc-symbol > symbol {
  display: block;
  width: 100%;
  position: relative;
}
.under-arc-symbol > symbol > svg {
  position: absolute;
  left: 0;
  top: 0;
  display: block;
  width: 100%;
  height: 100%;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .under-line-symbol > editarea {
  display: inline-flex;
}
math-type .under-line-symbol > line-border {
  display: block;
  position: relative;
  float: left;
  width: 100%;
}
math-type .under-line-symbol > line-border > svg {
  position: absolute;
  width: 100%;
  height: 100%;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.under-brace-symbol {
  display: inline-flex;
  flex-flow: column;
  position: relative;
}
math-type compositeblock.under-brace-symbol > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  top: -0.5em;
  left: 50%;
  top: 3em;
}
math-type compositeblock.under-brace-symbol > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type compositeblock.under-brace-symbol > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type compositeblock.under-brace-symbol > bottom-brace {
  pointer-events: none;
  display: block;
  position: relative;
  min-width: 1.3em;
  font-style: normal;
  font-weight: normal;
}
math-type compositeblock.under-brace-symbol > bottom-brace > brace-top-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  left: 50%;
  transform: translate(-50%, 0);
}
math-type compositeblock.under-brace-symbol > editarea {
  margin-left: 0.15em;
  margin-right: 0.15em;
  align-self: center;
}
math-type compositeblock.under-brace-symbol > editarea.underValue {
  font-size: 0.7em;
}
.under-brace-icon {
  width: 12px;
  margin: auto;
  font-size: 12px;
}
.under-brace-icon .brace-wrapper {
  margin-top: -14px;
}


math-type .operator-name > editarea {
  margin-left: 0.2em;
  margin-right: 0.2em;
  display: inline-flex;
}
math-type .operator-name > editarea.close-left {
  margin-left: 0;
}
math-type .operator-name > editarea.close-right {
  margin-right: 0;
}

.math-group > editarea {
  float: left;
}
.group-icon .rectangle {
  width: 23px;
  height: 12px;
  border-style: solid;
  border-width: 1px;
  text-align: center;
  border-color: gray;
  font-family: fantasy;
  color: black;
  padding-top: 1px;
  font-size: 9px;
  line-height: 14px;
  vertical-align: middle;
  margin: auto;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.over-symbol {
  position: relative;
}
math-type compositeblock.over-symbol > symbol {
  font-family: Asana-Math, Asana, Arial;
  height: 8em;
  display: block;
  text-align: center;
  text-align-last: auto;
  position: relative;
}
math-type compositeblock.over-symbol > symbol > inner {
  display: block;
  position: absolute;
  text-align: center;
  text-align-last: auto;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}
math-type compositeblock.over-symbol > symbol.dot > inner.left-sign,
math-type compositeblock.over-symbol > symbol.ring > inner.left-sign {
  transform: translate(-0.07em, 0);
}
math-type compositeblock.over-symbol > symbol.dot > inner.right-sign,
math-type compositeblock.over-symbol > symbol.ring > inner.right-sign {
  transform: translate(0.2em, 0);
}
math-type compositeblock.over-symbol > symbol.dot > inner,
math-type compositeblock.over-symbol > symbol.ring > inner {
  transform: translate(0.05em, 0);
}
math-type compositeblock.over-symbol > symbol.small-hat > inner.left-sign,
math-type compositeblock.over-symbol > symbol.small-tilde > inner.left-sign {
  transform: translate(-0.04em, 0);
}
math-type compositeblock.over-symbol > symbol.small-hat > inner.right-sign,
math-type compositeblock.over-symbol > symbol.small-tilde > inner.right-sign {
  transform: translate(0.15em, 0);
}
math-type compositeblock.over-symbol > symbol.small-hat > inner.ignore-shift,
math-type compositeblock.over-symbol > symbol.small-tilde > inner.ignore-shift {
  transform: translate(0, 0);
}
math-type compositeblock.over-symbol > symbol.small-hat > inner,
math-type compositeblock.over-symbol > symbol.small-tilde > inner {
  transform: translate(0.05em, 0);
}
math-type compositeblock.over-symbol > symbol.acute > inner.left-sign {
  transform: translate(-0.04em, 0);
}
math-type compositeblock.over-symbol > symbol.acute > inner.right-sign {
  transform: translate(0.25em, 0);
}
math-type compositeblock.over-symbol > symbol.acute > inner {
  transform: translate(0.1em, 0);
}
math-type compositeblock.over-symbol > symbol.grave,
math-type compositeblock.over-symbol > symbol.breve,
math-type compositeblock.over-symbol > symbol.acute {
  font-family: 'Times New Roman', Times, serif;
}
math-type compositeblock.over-symbol > symbol.grave > inner.left-sign,
math-type compositeblock.over-symbol > symbol.breve > inner.left-sign,
math-type compositeblock.over-symbol > symbol.check > inner.left-sign {
  transform: translate(-0.07em, 0);
}
math-type compositeblock.over-symbol > symbol.grave > inner.right-sign,
math-type compositeblock.over-symbol > symbol.breve > inner.right-sign,
math-type compositeblock.over-symbol > symbol.check > inner.right-sign {
  transform: translate(0.17em, 0);
}
math-type compositeblock.over-symbol > symbol.ddddot {
  min-width: 0.9em;
}
math-type compositeblock.over-symbol > symbol.dddot {
  min-width: 0.7em;
}

.math-xx > editarea {
  float: left;
}

math-type .big-delimiter-symbol {
  display: inline-flex;
  align-items: center;
  position: relative;
  margin: 0.1em 0;
}
math-type .big-delimiter-symbol big-delimiter.big-open {
  margin-left: 0.09em;
}
math-type .big-delimiter-symbol big-delimiter.big-close {
  margin-right: 0.07em;
}
math-type .big-delimiter-symbol > base-line-indicator {
  height: inherit;
}
math-type .big-delimiter-symbol > big-delimiter > svg {
  height: 100%;
  width: 100%;
}
math-type .big-delimiter-symbol > big-delimiter > bulb {
  left: -10px;
}
math-type .big-delimiter-symbol > big-delimiter > setting {
  width: 158px;
  display: flex;
  position: absolute;
  left: 0;
  top: -40px;
}
math-type .big-delimiter-symbol > big-delimiter > setting > .select-box-container {
  margin-right: 4px;
}
math-type .big-delimiter-symbol > big-delimiter > setting > .select-box-container:last-child {
  margin-right: 0px;
}

select-buttons {
  font-size: 13px;
  color: gray;
  display: block;
}
select-buttons > sb-item {
  display: inline-block;
  padding: 2px 2px;
  cursor: pointer;
  border: 1px solid transparent;
  /*box-sizing: border-box;*/
}
select-buttons > sb-item.selected {
  background-color: white;
  border: 1px solid lightgray;
}
select-buttons > sb-item:hover {
  border: 1px solid lightgray;
}
select-buttons > sb-item.disabled {
  opacity: 0.3;
  cursor: default;
  border: 1px solid transparent;
}
select-buttons > sb-item.disabled:hover {
  background-color: inherit;
  border: 1px solid transparent;
}

tabs-container tab-item {
  color: gray;
}
tabs-container tab-item:hover {
  color: black;
}

expandable-component.button-action {
  cursor: pointer;
  color: gray;
  fill: gray;
}
expandable-component.button-action:hover,
expandable-component.button-action.selected {
  color: black;
  fill: black;
}
expandable-component.button-action:hover label-display,
expandable-component.button-action.selected label-display {
  border: 1px solid #e2e0e0;
}
expandable-component.button-action label-display {
  font-size: 12px;
  padding-top: 5px;
  display: flex;
  border: 1px solid transparent;
  padding-left: 2px;
  padding-right: 2px;
  margin-top: 0px;
  padding-bottom: 4px;
  cursor: pointer;
}
expandable-component.button-action label-display > i {
  padding-left: 5px;
  padding-top: 1px;
}
expandable-component.button-action label-item-container > label-item:hover {
  background-color: #bfe4bd;
}
expandable-component.button-action label-item-container > label-item.ignore-select {
  background-color: inherit;
  cursor: default;
}
expandable-component.button-action.button-style label-display {
  background: white;
  border: 1px solid lightgray;
}
expandable-component.button-action.button-style:hover,
expandable-component.button-action.button-style.selected {
  color: gray;
}
expandable-component.button-action.button-style:hover label-display,
expandable-component.button-action.button-style.selected label-display {
  background: #f7f6f6;
}

g.group-box-move {
  opacity: 0.2;
}
g.group-box-move:hover {
  opacity: 0.8;
}




.math-diagram .intersections-group {
  stroke-width: 2px;
  stroke: black;
  fill: transparent;
  cursor: move;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.math-diagram > math-diagram {
  background: white;
}
math-type compositeblock.math-diagram {
  cursor: default;
  width: 100%;
  /** display block as if inline block, it will be disapear in some cases*/
  display: block;
}
math-type compositeblock.math-diagram .connection-point {
  cursor: crosshair;
}
math-type compositeblock.math-diagram .connection-point g {
  fill-opacity: 0.6;
}
math-type compositeblock.math-diagram .connection-point:hover g {
  fill-opacity: 1;
}
math-type compositeblock.math-diagram .text-diagram-editor editarea.text-mode.non-wrap > line.text-mode {
  font-size: unset;
}
math-type compositeblock.math-diagram .text-diagram-editor editarea.text-mode.non-wrap > line.text-mode > block {
  white-space: pre;
}
math-type compositeblock.math-diagram .text-diagram-editor editarea.text-mode.non-wrap > line.text-mode > blocks > block {
  white-space: pre;
}
math-type compositeblock.math-diagram > math-diagram {
  border: 1px solid transparent;
}
math-type compositeblock.math-diagram > math-diagram > clip-region > zoom-region {
  display: block;
  width: 100%;
  height: 100%;
}
math-type compositeblock.math-diagram > math-diagram > clip-region > zoom-region > svg {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}
math-type compositeblock.math-diagram .add-label {
  fill: gray;
}
math-type compositeblock.math-diagram .add-label:hover {
  fill: black;
}
math-type compositeblock.math-diagram .diagram-editor {
  margin: 0 2px;
}
math-type compositeblock.math-diagram .control-point-guide {
  stroke: lightgray;
  stroke-width: 0.5px;
  pointer-events: none;
}
math-type compositeblock.math-diagram .connection-group {
  stroke: black;
  fill: none;
}
math-type compositeblock.math-diagram .arrow-line {
  cursor: move;
}
math-type compositeblock.math-diagram .mobile-tablet .shape .transparent,
math-type compositeblock.math-diagram .mobile-tablet .composite-shape .transparent {
  stroke-width: 10px;
}
math-type compositeblock.math-diagram .shape,
math-type compositeblock.math-diagram .composite-shape {
  stroke-width: 1px;
  fill: none;
  cursor: move;
}
math-type compositeblock.math-diagram .shape .transparent,
math-type compositeblock.math-diagram .composite-shape .transparent {
  pointer-events: visiblePainted;
  stroke-width: 6px;
  stroke: transparent;
  stroke-dasharray: none;
  fill: none;
}
math-type compositeblock.math-diagram .mobile-tablet .connection.transparent,
math-type compositeblock.math-diagram .mobile-tablet .connection.transparent > line,
math-type compositeblock.math-diagram .mobile-tablet .connection.transparent > path {
  stroke-width: 10px;
}
math-type compositeblock.math-diagram .connection {
  stroke-width: 1px;
  fill: none;
  cursor: move;
}
math-type compositeblock.math-diagram .connection.transparent,
math-type compositeblock.math-diagram .connection.transparent > line,
math-type compositeblock.math-diagram .connection.transparent > path {
  pointer-events: visiblePainted;
  stroke-width: 6px;
  stroke: transparent;
  stroke-dasharray: none;
  fill: none;
}
math-type compositeblock.math-diagram .frame {
  stroke-width: 1px;
  fill: transparent;
}
math-type math-diagram {
  display: block;
  position: relative;
  width: 100%;
  height: 300px;
}
math-type math-diagram position-container {
  position: absolute;
  width: 1px;
  height: 1px;
  display: block;
}
math-type math-diagram dg-editor-container {
  position: absolute;
  min-width: 0.85em;
  border-collapse: border-box;
}
math-type math-diagram coverlayer {
  position: absolute;
  background: transparent;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  cursor: move;
}
math-type math-diagram connection-point {
  position: absolute;
  display: block;
  height: 6px;
  width: 6px;
  background: lightgray;
  border: 1px solid gray;
  bottom: -10px;
  left: 50%;
  margin-left: -3px;
  cursor: e-resize;
}
math-type .diagram-caption > line.text-mode:first-child {
  display: inline;
}
math-type .diagram-caption > line.text-mode:first-child > blocks {
  display: inline;
}


.plot-input-style-settings {
  opacity: 0.5;
}
.plot-input-style-settings:hover {
  opacity: 1;
}

.psa-cn .ps-hint {
  opacity: 0;
  transition: opacity 0.3s linear;
}
.psa-cn:hover .ps-hint {
  opacity: 0.6;
}

.role-toolbar-wrapper.dg-full-view tool-bar too-bar-container {
  justify-content: start;
  width: auto;
  min-width: 0;
}
.role-toolbar-wrapper.dg-full-view diagram-settings {
  width: auto;
}

.dg-items-bar-container item {
  display: inline-block;
  padding: 3px;
  fill: gray;
  stroke: gray;
}
.dg-items-bar-container item,
.dg-items-bar-container item-option {
  border: 1px transparent solid;
}
.dg-items-bar-container item:hover,
.dg-items-bar-container item-option:hover {
  border: 1px #c4c1c1 solid;
  background: white;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.theorem {
  display: block;
}
math-type compositeblock.theorem.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type theorem-name {
  min-width: 20px;
  display: inline;
}
math-type theorem-name > line.text-mode:first-child {
  display: inline;
}
math-type editarea.text-mode.edit-theorem-content {
  min-width: 100px;
  display: inline;
  font-style: italic;
}
math-type editarea.text-mode.edit-theorem-content > line.text-mode:first-child {
  display: inline;
}
math-type editarea.text-mode.edit-theorem-content > line.text-mode:first-child > blocks {
  display: inline;
}
math-type editarea.text-mode.edit-theorem-content > line.text-mode > block {
  font-style: italic;
}
math-type editarea.text-mode.edit-theorem-content > line.text-mode > blocks > block {
  font-style: italic;
}
math-type editarea.text-mode.edit-theorem-content.normal > line.text-mode > block {
  font-style: normal;
}
math-type editarea.text-mode.edit-theorem-content.normal > line.text-mode > blocks > block {
  font-style: normal;
}
math-type editarea.text-mode.edit-theorem-content .qed-symbol {
  line-height: 1em;
}
.deletable {
  cursor: pointer;
}
.deletable:hover {
  color: red;
}

.regular-checkbox:hover {
  background-color: #f3f2f2;
}

@media print {
  code[class*="language-"],
  pre[class*="language-"] {
    text-shadow: none !important;
  }
}
math-type .code-section prefix.code-line-number {
  color: #a9a7a7;
  width: 2.5em;
  display: inline-block;
  flex-shrink: 0;
}
math-type .code-section prefix.code-line-number.prefix-l10 {
  width: 1.5em;
}
math-type .code-section prefix.code-line-number.prefix-l100 {
  width: 2em;
}
math-type .code-section .code-line-blocks-container {
  white-space: pre-wrap;
  white-space: break-spaces;
}
math-type .code-section .code-line-blocks-container block.token {
  white-space: pre-wrap;
  white-space: break-spaces;
}
math-type .code-section line.text-mode.code-section-line {
  display: flex;
  flex-direction: row;
  line-height: 1.5;
}

/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */
.code-section.theme-default editarea {
  color: black;
}
.code-section.theme-default .token.comment,
.code-section.theme-default .token.prolog,
.code-section.theme-default .token.doctype,
.code-section.theme-default .token.cdata {
  color: slategray;
}
.code-section.theme-default .token.punctuation {
  color: #999;
}
.code-section.theme-default .namespace {
  opacity: 0.7;
}
.code-section.theme-default .token.property,
.code-section.theme-default .token.tag,
.code-section.theme-default .token.boolean,
.code-section.theme-default .token.number,
.code-section.theme-default .token.constant,
.code-section.theme-default .token.symbol,
.code-section.theme-default .token.deleted {
  color: #905;
}
.code-section.theme-default .token.selector,
.code-section.theme-default .token.attr-name,
.code-section.theme-default .token.string,
.code-section.theme-default .token.char,
.code-section.theme-default .token.builtin,
.code-section.theme-default .token.inserted {
  color: #690;
}
.code-section.theme-default .token.operator,
.code-section.theme-default .token.entity,
.code-section.theme-default .token.url,
.code-section.theme-default .language-css .token.string,
.code-section.theme-default .style .token.string {
  color: #9a6e3a;
}
.code-section.theme-default .token.atrule,
.code-section.theme-default .token.attr-value,
.code-section.theme-default .token.keyword {
  color: #07a;
}
.code-section.theme-default .token.function,
.code-section.theme-default .token.class-name {
  color: #DD4A68;
}
.code-section.theme-default .token.regex,
.code-section.theme-default .token.important,
.code-section.theme-default .token.important1,
.code-section.theme-default .token.variable {
  color: #e90;
}
.code-section.theme-default .token.important,
.code-section.theme-default .token.bold,
.code-section.theme-default .token.bold1 {
  font-weight: bold;
}
.code-section.theme-default .token.italic,
.code-section.theme-default .token.italic1 {
  font-style: italic;
}
.code-section.theme-default .token.entity {
  cursor: help;
}

/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */
.code-section.theme-tomorrow-night {
  /**
 * prism.js tomorrow night eighties for JavaScript, CoffeeScript, CSS and HTML
 * Based on https://github.com/chriskempson/tomorrow-theme
 * @author Rose Pritchard
 */
}
.code-section.theme-tomorrow-night editarea {
  caret-color: #ccc;
}
.code-section.theme-tomorrow-night editarea {
  color: #ccc;
}
.code-section.theme-tomorrow-night .token.comment,
.code-section.theme-tomorrow-night .token.block-comment,
.code-section.theme-tomorrow-night .token.prolog,
.code-section.theme-tomorrow-night .token.doctype,
.code-section.theme-tomorrow-night .token.cdata {
  color: #999;
}
.code-section.theme-tomorrow-night .token.punctuation {
  color: #ccc;
}
.code-section.theme-tomorrow-night .token.tag,
.code-section.theme-tomorrow-night .token.attr-name,
.code-section.theme-tomorrow-night .token.namespace,
.code-section.theme-tomorrow-night .token.deleted {
  color: #e2777a;
}
.code-section.theme-tomorrow-night .token.function-name {
  color: #6196cc;
}
.code-section.theme-tomorrow-night .token.boolean,
.code-section.theme-tomorrow-night .token.number,
.code-section.theme-tomorrow-night .token.function {
  color: #f08d49;
}
.code-section.theme-tomorrow-night .token.property,
.code-section.theme-tomorrow-night .token.class-name,
.code-section.theme-tomorrow-night .token.constant,
.code-section.theme-tomorrow-night .token.symbol {
  color: #f8c555;
}
.code-section.theme-tomorrow-night .token.selector,
.code-section.theme-tomorrow-night .token.important,
.code-section.theme-tomorrow-night .token.important1,
.code-section.theme-tomorrow-night .token.atrule,
.code-section.theme-tomorrow-night .token.keyword,
.code-section.theme-tomorrow-night .token.builtin {
  color: #cc99cd;
}
.code-section.theme-tomorrow-night .token.string,
.code-section.theme-tomorrow-night .token.char,
.code-section.theme-tomorrow-night .token.attr-value,
.code-section.theme-tomorrow-night .token.regex,
.code-section.theme-tomorrow-night .token.variable {
  color: #7ec699;
}
.code-section.theme-tomorrow-night .token.operator,
.code-section.theme-tomorrow-night .token.entity,
.code-section.theme-tomorrow-night .token.url {
  color: #67cdcc;
}
.code-section.theme-tomorrow-night .token.important,
.code-section.theme-tomorrow-night .token.bold,
.code-section.theme-tomorrow-night .token.bold1 {
  font-weight: bold;
}
.code-section.theme-tomorrow-night .token.italic,
.code-section.theme-tomorrow-night .token.italic1 {
  font-style: italic;
}
.code-section.theme-tomorrow-night .token.entity {
  cursor: help;
}
.code-section.theme-tomorrow-night .token.inserted {
  color: green;
}

editor-container > math-type.dark-mode {
  background: #1e1e1e;
}
math-type.dark-mode {
  background: #1e1e1e;
}
math-type.dark-mode.math-type-for-print {
  -webkit-print-color-adjust: exact;
}
math-type.dark-mode editarea.root-editor {
  color: #e0e0e0;
  fill: #e0e0e0;
  stroke: #e0e0e0;
  border-color: #e0e0e0;
}
math-type.dark-mode editarea.root-editor {
  background: #1e1e1e;
}
math-type.dark-mode .math-container-symbol.selected,
math-type.dark-mode .math-container-symbol.display.selected {
  background-color: #2a352a;
}
math-type.dark-mode .matrix-symbol.gather-symbol.selected {
  background-color: #2a352a;
}
math-type.dark-mode .matrix-symbol.gather-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol.align-symbol.selected {
  background-color: #2a352a;
}
math-type.dark-mode .matrix-symbol.align-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol.matrix-like.selected {
  background-color: #2a352a;
}
math-type.dark-mode .matrix-symbol.matrix-like > matrix > table > tbody > tr.selected:not(.hline) {
  border-top: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol.matrix-like > matrix > table > tbody > tr:last-child.selected {
  border-bottom: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol > matrix > table > tbody > tr > td.selected:not(.vline) {
  border-left: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol > matrix > table > tbody > tr > td:last-child.selected {
  border-right: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol.case-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #525252;
}
math-type.dark-mode selection-wrapper > selection {
  background-color: rgba(33, 150, 243, 0.25);
}
math-type.dark-mode selection-wrapper.inactive > selection {
  background-color: rgba(255, 255, 255, 0.27);
}
math-type.dark-mode editarea.selected {
  outline: 1px solid rgba(177, 174, 174, 0.3);
}
math-type.dark-mode compositeblock.math-diagram > math-diagram {
  background: #1e1e1e;
}
container-layer.dark-mode editor-container {
  background: #1e1e1e;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
editor-container > math-type {
  background: white;
  outline: 1px solid lightgray;
}
math-type {
  display: block;
  position: relative;
  padding: 20px;
  color: black;
  padding-top: 15px;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  outline: none;
  cursor: text;
  text-align: initial;
}
math-type .rcnt {
  color: white;
  font-size: 12px;
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  bottom: 0;
  display: flex;
  flex-direction: row;
}
math-type > .mt-sa {
  position: absolute;
  top: 0;
  left: -100px;
  right: -100px;
  bottom: -400px;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  pointer-events: none;
}
math-type.math-only compositeblock.math-container-symbol {
  width: 100%;
}
math-type.math-only compositeblock.math-container-symbol.selected {
  outline: none;
  background: none;
}
math-type.math-only compositeblock.math-container-symbol > editarea {
  width: 100%;
}
math-type.math-only compositeblock.math-container-symbol > editarea > line {
  justify-content: flex-start;
}
math-type > input:not([type]),
math-type input[type="text"] {
  width: 50px;
}
math-type composition-indicator {
  display: block;
  position: absolute;
  height: 2px;
  min-width: 2px;
  border-bottom: 2px solid gray;
  left: 0;
  top: 0;
}
math-type .focus-element {
  outline: none;
  overflow: hidden;
  width: 0px;
  height: 0px;
  top: 0px;
  left: 0px;
  display: block;
  position: absolute;
  font-size: 40px;
}
.scroll-without-scrollbar {
  scrollbar-width: none;
  /* Firefox */
  -ms-overflow-style: none;
  /* IE 10+ */
}
.scroll-without-scrollbar::-webkit-scrollbar {
  width: 0;
  height: 0;
  display: none;
}
#root,
.main-container {
  width: 100%;
  color: #212121;
}
.sub-text-cursor,
.text-cursor {
  position: absolute;
  color: green;
  /*font-size: 1.2em;*/
  pointer-events: none;
  border-left: 2px solid green;
  display: block;
  top: 0px;
  left: 0px;
  z-index: 10;
}
.sub-text-cursor {
  opacity: 0.4;
}
math-edit-container {
  display: block;
  outline: none;
  position: relative;
  font-family: 'Asana';
}
.root-editor {
  min-height: 500px;
  box-sizing: border-box;
}
.root-editor.restricted-view {
  min-height: unset;
}
.root-editor.test-view {
  min-height: 100px;
}
.menu {
  color: #ffffff;
  text-transform: uppercase;
  text-decoration: none;
  font-family: "HelveticaNeue-Medium", sans-serif;
  font-size: 14px;
  display: inline-block;
  transform: scale(1, 1.5);
  -webkit-transform: scale(1, 1.5);
  /* Safari and Chrome */
  -moz-transform: scale(1, 1.5);
  /* Firefox */
  -ms-transform: scale(1, 1.5);
  /* IE 9+ */
  -o-transform: scale(1, 1.5);
  /* Opera */
}
.setting-group-options {
  font-size: 13px;
  color: gray;
  fill: gray;
}
.setting-group-options > i,
.setting-group-options > svg.icon {
  padding: 3px;
  cursor: pointer;
  border: 1px solid transparent;
  /*box-sizing: border-box;*/
}
.setting-group-options > i.selected,
.setting-group-options > svg.icon.selected {
  background-color: white;
  border: 1px solid lightgray;
}
.setting-group-options > i:hover,
.setting-group-options > svg.icon:hover {
  border: 1px solid lightgray;
}
.setting-group-options > i.disabled,
.setting-group-options > svg.icon.disabled {
  opacity: 0.3;
}
.setting-group-options > i.disabled:hover,
.setting-group-options > svg.icon.disabled:hover {
  background-color: inherit;
  border: 1px solid transparent;
}
math-type .math-text,
math-type .normal-text,
math-type .raw-latex {
  font-family: arial, verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;
}
math-type .math-text editarea.text-mode > line.text-mode > blocks > block,
math-type .normal-text editarea.text-mode > line.text-mode > blocks > block,
math-type .raw-latex editarea.text-mode > line.text-mode > blocks > block {
  white-space: nowrap;
}
.mt-common-dialog {
  box-shadow: 1px 1px 1px 0px #e0dddd;
  background-color: #f7f7f7;
  border: 1px lightgray solid;
  z-index: 14;
  padding: 6px;
  cursor: default;
  font-family: "Segoe UI", Arial, Verdana, sans-serif;
}
disabled-layer {
  display: block;
  position: absolute;
  left: 0;
  top: 1px;
  right: 0;
  bottom: 2px;
  background: rgba(247, 247, 247, 0.66);
  /** consider export button z-index when change this one*/
  z-index: 500;
}
math-type tag-container tag-select-wrapper {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
math-type tag-container tag-box-select {
  position: absolute;
  display: block;
  background-color: green;
  opacity: 0;
  cursor: pointer;
  z-index: 15;
}
math-type tag-container tag-box-select:hover {
  opacity: 0.2;
}
math-type tag-container tag-box-gap {
  position: absolute;
  display: block;
  background-color: white;
  opacity: 0.9;
  z-index: 15;
}
.setting-popup-zindex {
  z-index: 11;
}
svg.selectable {
  cursor: pointer;
  border: 1px solid transparent;
}
svg.selectable.selected {
  background: white;
  border: solid 1px lightgray;
}
svg.selectable:hover {
  border: solid 1px lightgray;
}


@media print {
  @page {
    margin: 0;
  }
  /**
    Convert Preview into main print area
    */
  .math-type-doc,
  .docs-container,
  .modal-dialog-root-container,
  instructions-container {
    display: none !important;
  }
  .print-preview-container {
    position: static !important;
    display: block !important;
    visibility: visible !important;
    width: auto !important;
    height: auto !important;
    z-index: 99999 !important;
  }
  .print-container {
    position: static !important;
    overflow: hidden;
  }
  .print-preview-controls-container {
    display: none !important;
  }
  .math-type-no-print {
    display: none !important;
  }
  area-container.print-page-level {
    margin-left: 0 !important;
    margin-top: 0 !important;
    margin-right: 0 !important;
    margin-bottom: 0 !important;
    border: none !important;
    border-left: none !important;
    border-top: none !important;
    border-right: none !important;
    border-bottom: none !important;
    break-inside: avoid !important;
  }
  .area-container-border {
    border: none !important;
    border-left: none !important;
    border-top: none !important;
    border-right: none !important;
    border-bottom: none !important;
    display: none !important;
  }
  #print-container {
    background-color: transparent !important;
  }
  #print-container > math-type {
    background-color: transparent !important;
  }
  #print-container > math-type > math-edit-container > editarea {
    background-color: transparent !important;
  }
  /*-----------------------------*/
  header,
  .export-bar-container {
    display: none !important;
  }
  math-type {
    padding: 0 !important;
  }
  .print-remove-background {
    background-color: transparent !important;
  }
  document-info-bar {
    display: none !important;
  }
  document-sidebar-container {
    display: none !important;
  }
  body {
    position: relative !important;
  }
  page,
  #root,
  body,
  html {
    height: 100% !important;
    width: 100% !important;
    position: relative !important;
    background: white !important;
    overflow: visible !important;
  }
}
.print-background.math-type-for-print {
  -webkit-print-color-adjust: exact;
}
@media print {
  outline: none !important;
  .npm__react-simple-code-editor__textarea {
    display: none !important;
  }
  math-diagram {
    border: none !important;
  }
  .no-border-on-print {
    border: none !important;
  }
  .setting-select {
    display: none !important;
  }
  .no-print,
  ref-tag.empty-line-tag,
  .text-cursor,
  .sub-text-cursor,
  selection-wrapper,
  message-box-container,
  connection-controls,
  .control-point-guide,
  tool-bar,
  items-bar,
  document-sidebar,
  resize-bar,
  diagram-expander,
  warning-error-region,
  loading-layer,
  resizing-info,
  toc-refresh {
    display: none !important;
  }
  .no-print-outline {
    outline: none !important;
  }
  .selected {
    background: unset !important;
  }
  .math-container-symbol.selected {
    background: unset !important;
  }
  .matrix-symbol.align-symbol {
    background: unset !important;
  }
  .matrix-symbol.gather-symbol {
    background: unset !important;
  }
  tr.selected,
  td.selected {
    border: unset !important;
  }
  tr.selected.hline {
    border-top: 1px solid black !important;
  }
  tr.selected.last-hline {
    border-bottom: 1px solid black !important;
  }
  td.selected.vline {
    border-left: 1px solid black !important;
  }
  td.selected.last-vline {
    border-right: 1px solid black !important;
  }
  .selected {
    outline: unset !important;
  }
  container-layer {
    margin: 0 !important;
    padding: 0 !important;
    background: transparent !important;
    height: initial !important;
    overflow: visible !important;
  }
  editor-container {
    border: none !important;
    margin: 0 !important;
    padding: 0 !important;
    background: transparent !important;
    width: 100% !important;
  }
  content-area {
    padding: 0px !important;
    margin: 0;
    background: transparent !important;
  }
  vcomposed-symbol.non-safari > start {
    margin-bottom: -0.05em !important;
  }
  vcomposed-symbol.non-safari > middle-center {
    margin-top: -0.05em;
    margin-bottom: -0.05em !important;
  }
  vcomposed-symbol.non-safari > middle {
    margin-top: -0.05em;
    margin-bottom: -0.05em !important;
  }
  vcomposed-symbol.non-safari > end {
    margin-top: -0.05em !important;
  }
}
.math-type-for-print {
  outline: none !important;
}
.math-type-for-print .npm__react-simple-code-editor__textarea {
  display: none !important;
}
.math-type-for-print math-diagram {
  border: none !important;
}
.math-type-for-print .no-border-on-print {
  border: none !important;
}
.math-type-for-print .setting-select {
  display: none !important;
}
.math-type-for-print .no-print,
.math-type-for-print ref-tag.empty-line-tag,
.math-type-for-print .text-cursor,
.math-type-for-print .sub-text-cursor,
.math-type-for-print selection-wrapper,
.math-type-for-print message-box-container,
.math-type-for-print connection-controls,
.math-type-for-print .control-point-guide,
.math-type-for-print tool-bar,
.math-type-for-print items-bar,
.math-type-for-print document-sidebar,
.math-type-for-print resize-bar,
.math-type-for-print diagram-expander,
.math-type-for-print warning-error-region,
.math-type-for-print loading-layer,
.math-type-for-print resizing-info,
.math-type-for-print toc-refresh {
  display: none !important;
}
.math-type-for-print .no-print-outline {
  outline: none !important;
}
.math-type-for-print .selected {
  background: unset !important;
}
.math-type-for-print .math-container-symbol.selected {
  background: unset !important;
}
.math-type-for-print .matrix-symbol.align-symbol {
  background: unset !important;
}
.math-type-for-print .matrix-symbol.gather-symbol {
  background: unset !important;
}
.math-type-for-print tr.selected,
.math-type-for-print td.selected {
  border: unset !important;
}
.math-type-for-print tr.selected.hline {
  border-top: 1px solid black !important;
}
.math-type-for-print tr.selected.last-hline {
  border-bottom: 1px solid black !important;
}
.math-type-for-print td.selected.vline {
  border-left: 1px solid black !important;
}
.math-type-for-print td.selected.last-vline {
  border-right: 1px solid black !important;
}
.math-type-for-print .selected {
  outline: unset !important;
}
.math-type-for-print container-layer {
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  height: initial !important;
  overflow: visible !important;
}
.math-type-for-print editor-container {
  border: none !important;
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  width: 100% !important;
}
.math-type-for-print content-area {
  padding: 0px !important;
  margin: 0;
  background: transparent !important;
}
.math-type-for-print vcomposed-symbol.non-safari > start {
  margin-bottom: -0.05em !important;
}
.math-type-for-print vcomposed-symbol.non-safari > middle-center {
  margin-top: -0.05em;
  margin-bottom: -0.05em !important;
}
.math-type-for-print vcomposed-symbol.non-safari > middle {
  margin-top: -0.05em;
  margin-bottom: -0.05em !important;
}
.math-type-for-print vcomposed-symbol.non-safari > end {
  margin-top: -0.05em !important;
}
.justify-single-line {
  display: inline-block;
  text-align-last: justify;
  width: 100%;
}
.rtl-on-line-level {
  direction: rtl;
}

math-type modal-dialog.import-latex math-type editarea.root-editor {
  min-height: 100px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .mobile-keys-support-region {
  position: fixed;
  top: 84px;
  left: 45px;
  color: gray;
  z-index: 11609;
  opacity: 0.9;
  display: flex;
  width: auto;
  z-index: 600;
  cursor: pointer;
}
math-type .mobile-keys-support-region.is-android {
  top: unset;
  bottom: 4px;
  left: 17px;
}
math-type .mobile-keys-support-region.select-only {
  top: 40px;
  left: 25px;
}
math-type .mobile-keys-support-region.select-only .btn-suggestion-box-mobile {
  display: none;
}



.special-symbol-dialog__special-char {
  display: inline-block;
  width: 24px;
  height: 24px;
  line-height: 24px;
  border-bottom: 1px solid #ddd;
  border-right: 1px solid #ddd;
  text-align: center;
  cursor: pointer;
  outline: none;
}
.special-symbol-dialog__special-char:hover {
  background: #bfe4bd;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
context-menu-container {
  position: fixed;
  left: 100px;
  top: 300px;
  z-index: 13;
  box-shadow: 2px 2px 3px 0px #c3c3c3;
  border: 1px solid lightgray;
  width: 200px;
  background: white;
  cursor: default;
  outline: none;
  font-family: "Segoe UI", Arial, Verdana, sans-serif;
}
context-menu-container ct-item {
  display: block;
  padding: 6px 9px;
  font-size: 13px;
  color: gray;
}
context-menu-container ct-item.disabled {
  color: lightgray;
}
context-menu-container ct-item:hover {
  background: #eae9e9;
}
context-menu-container ct-item.hidden {
  display: none;
}
context-menu-container ct-icon {
  width: 20px;
  display: inline-block;
}
context-menu-container ct-separator {
  width: 100%;
  display: block;
  height: 1px;
  margin-top: 2px;
  margin-bottom: 2px;
  border-top: 1px solid lightgray;
}

/* Collection default theme */
/* Grid default theme */
/* Table default theme */









/* List default theme */



math-type .symbol-container,
.auto-complete-external-area .symbol-container {
  display: flex;
  flex-direction: row;
  min-height: 25px;
  padding-left: 4px;
  padding-right: 12px;
  align-items: center;
  cursor: pointer;
}
math-type .symbol-container.selected,
.auto-complete-external-area .symbol-container.selected {
  background-color: #bfe4bd;
}
math-type .symbol-friendly-name,
.auto-complete-external-area .symbol-friendly-name {
  flex-grow: 1;
  font-family: Asana;
  /*padding-top: 6px;*/
}
math-type .symbol-icon,
.auto-complete-external-area .symbol-icon {
  /*padding-top: 6px;*/
  margin-right: 15px;
  min-width: 20px;
  text-align: center;
}
math-type .short-cut,
.auto-complete-external-area .short-cut {
  text-align: center;
  color: gray;
  /*vertical-align: middle;*/
  /*line-height: 20px;*/
  margin: 0 2px 0 2px;
  font-size: 12px;
  display: flex;
  align-items: center;
}
math-type .short-cut span,
.auto-complete-external-area .short-cut span {
  font-size: 10px;
}
math-type .hidden,
.auto-complete-external-area .hidden {
  display: none;
}







/**different context*/
/**different context*/
selection-wrapper {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
  user-select: none;
  pointer-events: none;
  z-index: 9;
}
selection-wrapper > selection {
  display: block;
  position: absolute;
  background-color: rgba(0, 126, 255, 0.15);
  user-select: none;
  width: 100px;
  height: 100px;
  transform-origin: 0 0;
}
selection-wrapper.inactive > selection {
  background-color: rgba(58, 57, 57, 0.13);
}

region-highlight-container {
  user-select: none;
  pointer-events: none;
  display: block;
  position: absolute;
  width: 0px;
  height: 0px;
  top: 0;
  left: 0;
  border: 1px solid lightgoldenrodyellow;
  opacity: 0.2;
}
region-highlight-container > rhc-all > rh-rect {
  display: block;
  position: absolute;
  background: orange;
}
region-highlight-container > rh-selected-rect {
  display: block;
  position: absolute;
  background: red;
}

.math-template-btb.btn-normal {
  background: transparent;
  margin-left: 0;
  font-size: 12px;
  border: none;
}
.math-template-btb.btn-normal:hover {
  background: white;
}
.math-template-name-item:hover {
  background: #f7f7f7;
}

.math-template-tree .tree-node-name {
  white-space: nowrap;
}
.math-template-tree .tree-node-name:hover {
  background: #f7f7f7;
}

math-type compositeblock.bib-bibliography {
  width: 100%;
  display: block;
}
math-type compositeblock.bib-cite {
  display: inline;
  white-space: break-spaces;
}
math-type compositeblock.bib-cite > editarea.text-mode {
  display: inline;
}
math-type compositeblock.bib-cite > editarea.text-mode > line.text-mode {
  display: inline;
}
math-type compositeblock.bib-cite > editarea.text-mode > line.text-mode > blocks {
  display: inline;
}
.csl-context {
  white-space: pre-wrap;
}
.csl-context.csl-cite div {
  display: inline;
}
.csl-context div.csl-left-margin {
  float: left;
}
.csl-context div.csl-block {
  font-weight: bold;
}
.csl-context div.csl-right-inline {
  margin-left: 2.5em;
}
.csl-context div.csl-indent {
  margin-top: 0.5em;
  margin-left: 2em;
  padding-bottom: 0.2em;
  padding-left: 0.5em;
  border-left: 5px solid #ccc;
}

.caption-ref-select .role-item:hover {
  background: #edf9ec;
}

.footnote-mt-container {
  position: relative;
}
.footnote-mt-container .more-option-box {
  position: absolute;
  left: -25px;
  top: 0;
  width: 30px;
  bottom: 0;
  display: none;
}
.footnote-mt-container .more-option-box > div {
  background: #f7f7f7;
  border: 1px solid #d6d3d3;
  padding: 0 0.2em;
  cursor: pointer;
  color: gray;
  display: inline-block;
}
.footnote-mt-container.hover-select:hover .more-option-box {
  display: block;
}
.mt-doc-fn > math-edit-container > editarea > area-container > line > first-line-prefix {
  padding-right: 0.3em;
}
.mt-doc-fn > math-edit-container > editarea > area-container > line.has-rtl {
  direction: rtl;
}
.mt-doc-fn > math-edit-container > editarea > area-container > line.has-rtl > first-line-prefix {
  padding-left: 0.3em;
}
.blocks-inline > math-edit-container > editarea > area-container > line > blocks {
  display: inline;
}

.lang-name:hover {
  background: #f7f7f7;
}
.lang-name.selected {
  background: #e1e8f5;
}
.custom-lange-area input::placeholder,
.custom-lange-area textarea::placeholder {
  color: lightgray;
}

.page-print-item {
  position: relative;
}
.page-print-item:hover .page-print-item-hover {
  display: block;
}
.page-print-item-hover {
  display: none;
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 10px;
  background: #f7f6f6;
  z-index: 10;
  padding: 5px;
  font-size: 0.8em;
  white-space: nowrap;
  color: gray;
  border: 1px solid lightgray;
}

.settings-show-hide {
  background: rgba(255, 255, 255, 0.61);
}
.settings-show-hide:hover {
  background: white;
}
.group-symbol-collapsed {
  display: block;
  border: 1px dotted lightgray;
  padding-top: 0.1em;
  padding-bottom: 0.1em;
}
.role-math-mode-group.math-mode-group-expanded .settings-show-hide,
.role-text-mode-group-inline.text-mode-group-inline-expanded .settings-show-hide {
  display: none;
}
.role-math-mode-group.math-mode-group-expanded:hover,
.role-text-mode-group-inline.text-mode-group-inline-expanded:hover {
  outline: 1px solid lightgray;
}
.role-math-mode-group.math-mode-group-expanded:hover .settings-show-hide,
.role-text-mode-group-inline.text-mode-group-inline-expanded:hover .settings-show-hide {
  display: flex;
}

math-type compositeblock.text-super-script-symbol,
math-type compositeblock.text-sub-script-symbol {
  display: inline;
}
math-type compositeblock.text-super-script-symbol > editarea.text-mode,
math-type compositeblock.text-sub-script-symbol > editarea.text-mode {
  display: inline;
}
math-type compositeblock.text-super-script-symbol > editarea.text-mode > line.text-mode,
math-type compositeblock.text-sub-script-symbol > editarea.text-mode > line.text-mode {
  display: inline;
}
math-type compositeblock.text-super-script-symbol > editarea.text-mode > line.text-mode > blocks,
math-type compositeblock.text-sub-script-symbol > editarea.text-mode > line.text-mode > blocks {
  display: inline;
}
math-type .text-super-script-symbol {
  vertical-align: super;
}
math-type .text-sub-script-symbol {
  vertical-align: sub;
}

compositeblock.section-ref {
  display: inline;
}
compositeblock.section-ref > .section-ref-border {
  display: inline;
  white-space: pre-wrap;
}
compositeblock.section-ref > div {
  display: inline;
}



icon-dropdown-items icon-dropdown-item:hover {
  background: #eae9e9;
}
icon-dropdown ii-icon {
  fill: gray;
}
icon-dropdown:hover {
  color: #4e4d4d;
}
icon-dropdown:hover ii-icon {
  fill: #4e4d4d;
}

resizable-container {
  display: block;
  position: relative;
  min-height: 0;
  flex-shrink: 0;
}





a.fce {
  cursor: pointer;
}
a.fce:hover svg {
  fill: #2d4373;
}
a.fce svg {
  fill: #3b5998;
}
a.fce i {
  text-align: center;
  color: white;
}
a.gg {
  cursor: pointer;
}
a.gg:hover svg {
  fill: #c23321;
}
a.gg svg {
  fill: #dd4b39;
}
a.gg i {
  text-align: center;
  color: white;
}
a.twr {
  cursor: pointer;
}
a.twr:hover svg {
  fill: #2795e9;
}
a.twr svg {
  fill: #55acee;
}
a.twr i {
  text-align: center;
  color: white;
}
a.gh {
  cursor: pointer;
}
a.gh:hover svg {
  fill: #2b2b2b;
}
a.gh svg {
  fill: #444;
}
a.gh i {
  text-align: center;
  color: white;
}





modal-dialog.swift.document-name modal-container.mt-common-dialog {
  width: 500px;
  max-width: 95vw;
}
modal-dialog.swift.document-name document-name {
  width: 100%;
  display: flex;
  flex-direction: column;
}
modal-dialog.swift.document-name document-name label {
  display: block;
  font-size: 13px;
}
modal-dialog.swift.document-name document-name textarea {
  width: auto;
  display: block;
  margin: 5px 0px;
  height: 39px;
  outline: none;
  border: 1px solid lightgray;
  resize: vertical;
}

.dock-tab-content {
  flex: 1;
  min-height: 0;
  min-width: 0;
  display: none;
}
.dock-tab-content.active {
  display: flex;
}

quick-start editarea.root-editor {
  min-height: 100px;
}
quick-start > qs-math-type-container > math-type:hover {
  border: 1px solid gray;
}
quick-start > qs-math-type-container > math-type tool-bar {
  display: none;
}
quick-start > qs-math-type-container > math-type items-bar {
  display: none;
  left: -60px;
  top: 0px;
  box-shadow: 0px 1px 2px 0px #4c4949;
}





/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**Context Level 1*/
/**both Level 1 and 2 Context */
/**Context Level 2 inside docsContainerZIndex*/
document-info-container document-info-bar {
  display: block;
  position: absolute;
  right: 15px;
  bottom: 5px;
  background: #f7f7f7;
  box-shadow: 1px 1px 1px 0px #e0dddd;
  border: 1px lightgray solid;
  font-size: 12px;
  padding: 0px;
  color: gray;
  opacity: 0.8;
  z-index: 4;
}
document-info-container document-info-bar:hover {
  opacity: 1;
}
document-info-container modal-container button.ok.btn-primary {
  display: none;
}
.Popover-body {
  font-size: 12px;
  padding: 10px;
  background: #4CAF50;
  box-shadow: #888686 1px 1px 1px 1px;
  color: white;
  max-width: 250px;
}
.Popover-tip {
  fill: #4CAF50;
}

/**Context Level 1*/
/**both Level 1 and 2 Context */
/**Context Level 2 inside docsContainerZIndex*/
.doc-toolbar-container {
  position: relative;
  background: #f7f7f7;
  top: 0;
  left: 0;
  width: 100%;
  border: 1px lightgray solid;
  margin-left: -2px;
  z-index: 6;
}
.doc-toolbar-container > tool-bar {
  position: relative;
  top: 0;
  left: 0;
  display: block;
  padding-left: 0px;
  min-width: 770px;
  width: 770px;
  margin: auto;
  background: transparent;
  box-shadow: none;
  border: none;
  height: 35px;
}











/**Context Level 1*/
/**both Level 1 and 2 Context */
/**Context Level 2 inside docsContainerZIndex*/


</style><style>/* @font-face {
  font-family: 'FontAwesome';
  src: format('woff'), url('fonts/icomoon.svg?erlpdm#icomoon') format('svg');
  font-weight: normal;
  font-style: normal;
} */

[class^="fa-"], [class*=" fa-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  /* font-family: 'FontAwesome' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none; */
  /* line-height: 1; */
  /* Better Font Rendering =========== */
  /* -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale; */
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.fa-plus:before {
  content: "\f067";
}
.fa-user:before {
  content: "\f007";
}
.fa-check:before {
  content: "\f00c";
}
.fa-close:before {
  content: "\f00d";
}
.fa-remove:before {
  content: "\f00d";
}
.fa-times:before {
  content: "\f00d";
}
.fa-search-plus:before {
  content: "\f00e";
}
.fa-search-minus:before {
  content: "\f010";
}
.fa-cog:before {
  content: "\f013";
}
.fa-gear:before {
  content: "\f013";
}
.fa-trash-o:before {
  content: "\f014";
}
.fa-file-o:before {
  content: "\f016";
}
.fa-refresh:before {
  content: "\f021";
}
.fa-font:before {
  content: "\f031";
}
.fa-bold:before {
  content: "\f032";
}
.fa-italic:before {
  content: "\f033";
}
.fa-align-left:before {
  content: "\f036";
}
.fa-align-center:before {
  content: "\f037";
}
.fa-align-right:before {
  content: "\f038";
}
.fa-dedent:before {
  content: "\f03b";
}
.fa-outdent:before {
  content: "\f03b";
}
.fa-indent:before {
  content: "\f03c";
}
.fa-image:before {
  content: "\f03e";
}
.fa-photo:before {
  content: "\f03e";
}
.fa-picture-o:before {
  content: "\f03e";
}
.fa-pencil:before {
  content: "\f040";
}
.fa-edit:before {
  content: "\f044";
}
.fa-pencil-square-o:before {
  content: "\f044";
}
.fa-share-square-o:before {
  content: "\f045";
}
.fa-arrows:before {
  content: "\f047";
}
.fa-chevron-left:before {
  content: "\f053";
}
.fa-chevron-right:before {
  content: "\f054";
}
.fa-times-circle:before {
  content: "\f057";
}
.fa-info-circle:before {
  content: "\f05a";
}
.fa-arrow-left:before {
  content: "\f060";
}
.fa-arrow-right:before {
  content: "\f061";
}
.fa-arrow-up:before {
  content: "\f062";
}
.fa-arrow-down:before {
  content: "\f063";
}
.fa-mail-forward:before {
  content: "\f064";
}
.fa-share:before {
  content: "\f064";
}
.fa-exclamation-circle:before {
  content: "\f06a";
}
.fa-exclamation-triangle:before {
  content: "\f071";
}
.fa-warning:before {
  content: "\f071";
}
.fa-chevron-up:before {
  content: "\f077";
}
.fa-chevron-down:before {
  content: "\f078";
}
.fa-folder:before {
  content: "\f07b";
}
.fa-folder-open:before {
  content: "\f07c";
}
.fa-twitter:before {
  content: "\f099";
}
.fa-twr:before {
  content: "\f099";
}
.fa-facebook:before {
  content: "\f09a";
}
.fa-fce:before {
  content: "\f09a";
}
.fa-facebook-f:before {
  content: "\f09a";
}
.fa-github:before {
  content: "\f09b";
}
.fa-gh:before {
  content: "\f09b";
}
.fa-cut:before {
  content: "\f0c4";
}
.fa-scissors:before {
  content: "\f0c4";
}
.fa-copy:before {
  content: "\f0c5";
}
.fa-files-o:before {
  content: "\f0c5";
}
.fa-bars:before {
  content: "\f0c9";
}
.fa-navicon:before {
  content: "\f0c9";
}
.fa-reorder:before {
  content: "\f0c9";
}
.fa-list-ul:before {
  content: "\f0ca";
}
.fa-list-ol:before {
  content: "\f0cb";
}
.fa-strikethrough:before {
  content: "\f0cc";
}
.fa-underline:before {
  content: "\f0cd";
}
.fa-table:before {
  content: "\f0ce";
}
.fa-magic:before {
  content: "\f0d0";
}
.fa-caret-down:before {
  content: "\f0d7";
}
.fa-caret-right:before {
  content: "\f0da";
}
.fa-sort-desc:before {
  content: "\f0dd";
}
.fa-sort-down:before {
  content: "\f0dd";
}
.fa-clipboard:before {
  content: "\f0ea";
}
.fa-paste:before {
  content: "\f0ea";
}
.fa-angle-double-left:before {
  content: "\f100";
}
.fa-angle-double-right:before {
  content: "\f101";
}
.fa-angle-double-up:before {
  content: "\f102";
}
.fa-angle-double-down:before {
  content: "\f103";
}
.fa-circle:before {
  content: "\f111";
}
.fa-mail-reply:before {
  content: "\f112";
}
.fa-reply:before {
  content: "\f112";
}
.fa-exclamation:before {
  content: "\f12a";
}
.fa-eraser:before {
  content: "\f12d";
}
.fa-ellipsis-h:before {
  content: "\f141";
}
.fa-ellipsis-v:before {
  content: "\f142";
}
.fa-file:before {
  content: "\f15b";
}
.fa-file-text:before {
  content: "\f15c";
}
.fa-google:before {
  content: "\f1a0";
}
.fa-gg:before {
  content: "\f1a0";
}
.fa-trash:before {
  content: "\f1f8";
}
.fa-i-cursor:before {
  content: "\f246";
}
.fa-hand-paper-o:before {
  content: "\f256";
}
.fa-hand-stop-o:before {
  content: "\f256";
}
</style><style>.cb--iframe--aMNCL_E1x046f6Be3ICM {
  all: unset;
  position: fixed;
  right: 0;
  top: 0;
  height: 100%;
  width: 352px;
  z-index: 1000000;
  background: white;
  border: none;
  box-shadow: -3px 2px 5px 2px rgba(0, 0, 0, 0.25);

  transition: right 0.3s ease-out;
}

.cb--closed--lebfAyUbHvSjo3AjhXsJ {
  right: -352px;
}

.cb--hidden--zswHA1e_s5V1Po8KlfTc {
  display: none;
}
</style><style>.cb--openCloseButton--oh3mkDsZMOZh8k0F040F,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F *:not(path) {
  all: unset;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F {
  position: fixed;
  right: 0px;
  z-index: 1000001;

  /* override default button styles */
  margin: 0;
  padding: 0;
  border: none;
  cursor: pointer;

  transition: right 0.3s ease-out;
  border-radius: 2px 0 0 2px;
  text-align: center;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F button {
  /* override default button styles */
  margin: 0;
  padding: 0;
  border: none;
  cursor: pointer;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz .cb--openToggleButton--mqbvYBMC__Itqt46E4EE {
  height: 48px;
  width: 48px;
  border-radius: 4px 0 0 4px;
  background: #0160ff;
}
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz .cb--whiteBackgroundWrapper--alUDtlB95PILj6sYYEyB {
  height: 48px;
  width: 48px;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX {
  right: 352px;
  width: 32px;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz {
  box-shadow: -2px 2px 5px 0px rgba(0, 0, 0, 0.25);
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX .cb--whiteBackgroundWrapper--alUDtlB95PILj6sYYEyB {
  background: white;
  border-radius: 2px 0 0 2px;
  box-shadow: -2px 2px 5px 0px rgba(0, 0, 0, 0.25);
  display: block;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX .cb--openToggleButton--mqbvYBMC__Itqt46E4EE,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX .cb--dismissButton--_Kw5IoLfNW6HCHmKxRfL {
  height: 32px;
  width: 32px;
  background: none;
}

.cb--logoContainer--Xe9DoJlDRdjn9fzukx3a svg {
  fill: white;
  padding: 8px;
}

.cb--closeIconContainer--S9Gso8D9iNvh_BhjjODH svg,
.cb--dismissButton--_Kw5IoLfNW6HCHmKxRfL svg,
.cb--gripperIcon--haVTZsHtE1KPXDZXKj03 svg {
  fill: #666666;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX .cb--logoContainer--Xe9DoJlDRdjn9fzukx3a,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz .cb--closeIconContainer--S9Gso8D9iNvh_BhjjODH,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz .cb--dismissButton--_Kw5IoLfNW6HCHmKxRfL {
  display: none;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F .cb--dismissButton--_Kw5IoLfNW6HCHmKxRfL svg {
  /* Shrink X icon size, it is too large compared to other icons at same width */
  width: 24px;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F .cb--gripperIcon--haVTZsHtE1KPXDZXKj03 {
  height: 24px;
  width: 32px;
  padding: 0;
  margin-top: 4px;
  margin-left: auto;
  margin-right: auto;
  display: none;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F:hover .cb--gripperIcon--haVTZsHtE1KPXDZXKj03,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--dragging--gCDPU69j53T3Du6wkUGE .cb--gripperIcon--haVTZsHtE1KPXDZXKj03 {
  display: block;
}
</style><style>.cb--how-to-open-ftux--lJiFBsjeGgv20UWXQQDq {
  all: unset;
  position: fixed;
  right: 0;
  top: 0;
  z-index: 1000000;
  width: 352px;
  background: white;
  border: none;
  box-shadow: -3px 2px 5px 2px rgba(0, 0, 0, 0.25);
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  color: black;

  font-family: "Roboto", Arial, sans-serif !important;
  font-size: 16px !important;
  font-weight: 400 !important;
  line-height: 24px !important;
}

.cb--close-icon--_TFa6uTtJfnGgIJTXFfY {
  all: unset;
  cursor: pointer;
  height: 24px;
  width: 24px;
  padding: 4px;
  border-radius: 4px;
  margin-left: auto;
  background: white;
}

.cb--ftux-message--Eza1NHUnXuU6o5z9q9RE {
  margin: 0 20px 20px 20px;
}

.cb--cb-icon--EmIuD7INmg1Wo_QQRXk0 {
  display: inline-block;
  height: 24px;
  width: 24px;
  border-radius: 4px;
  background: #0160ff;
  color: white;
  vertical-align: bottom;
}

.cb--cb-icon--EmIuD7INmg1Wo_QQRXk0 svg {
  fill: white;
  margin: 4px;
}
</style></head><body style="overflow:auto;background:rgb(255, 255, 255);width:auto;height:auto;"><editor-container style="display:block;margin:auto;width:794px;"><math-type style="user-select:text;" class=" math-type-for-print "><math-edit-container><editarea class="root-editor" style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 17px;"><area-baseline aria-hidden="true">a</area-baseline><area-container><line class="root text-mode selected align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 1.73em; font-weight: bold;">ExpressJS</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 1.2em; font-weight: bold;"><div data-id="n0.8065233223440293" class="anchor-tag-border no-border-on-print" id="n0.8065233223440293"><span>Table of Content</span></div></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="table-of-content inline"><toc-wrapper><editarea class="edit-area toc-ea no-area-container text-mode"><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.13230592167513766" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.13230592167513766" style="display: inline-block; white-space: pre;">1. </span></compositeblock><block>Intro</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 600.641px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L600.640625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.935170866909481" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.935170866909481" style="display: inline-block; white-space: pre;">1.1. </span></compositeblock><block>Getting Started</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 511.664px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L511.6640625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.5191684034884698" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.5191684034884698" style="display: inline-block; white-space: pre;">2. </span></compositeblock><block>Routing</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 578.844px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L578.84375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.38871932670388465" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.38871932670388465" style="display: inline-block; white-space: pre;">2.1. </span></compositeblock><block>Routers</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 567.102px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L567.1015625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.34111517383006285" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.34111517383006285" style="display: inline-block; white-space: pre;">3. </span></compositeblock><block>HTTP Methods</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 521.297px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L521.296875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7634910680671244" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7634910680671244" style="display: inline-block; white-space: pre;">4. </span></compositeblock><block>URL Building</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 538.672px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L538.671875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.503117559101137" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.503117559101137" style="display: inline-block; white-space: pre;">4.1. </span></compositeblock><block>Pattern Matched Routes</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 446.773px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L446.7734375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.11586148111409322" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.11586148111409322" style="display: inline-block; white-space: pre;">5. </span></compositeblock><block>Middleware</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 554.297px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L554.296875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.445506694011662" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.445506694011662" style="display: inline-block; white-space: pre;">5.1. </span></compositeblock><block>Order of Middleware Calls</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 436.266px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L436.265625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.26542068294209187" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.26542068294209187" style="display: inline-block; white-space: pre;">5.2. </span></compositeblock><block>Third-party Middleware</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 454.945px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L454.9453125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.8274349462362008" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.8274349462362008" style="display: inline-block; white-space: pre;">5.2.1. </span></compositeblock><block>body-parser</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 525.461px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L525.4609375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.14754561257655063" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.14754561257655063" style="display: inline-block; white-space: pre;">5.2.2. </span></compositeblock><block>cookie-parser</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 515.383px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L515.3828125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.21028486046436812" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.21028486046436812" style="display: inline-block; white-space: pre;">5.2.3. </span></compositeblock><block>express-session</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 503.977px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L503.9765625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6969862115960047" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6969862115960047" style="display: inline-block; white-space: pre;">6. </span></compositeblock><block>Templating</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 554.906px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L554.90625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.8397913621976244" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.8397913621976244" style="display: inline-block; white-space: pre;">6.1. </span></compositeblock><block>Important Features of Pug</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 432.305px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L432.3046875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.22738752724382916" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.22738752724382916" style="display: inline-block; white-space: pre;">6.1.1. </span></compositeblock><block>Simple Tags</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 521.773px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L521.7734375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7843120316324959" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7843120316324959" style="display: inline-block; white-space: pre;">6.1.2. </span></compositeblock><block>Comments</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 532.805px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L532.8046875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7484147037361722" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7484147037361722" style="display: inline-block; white-space: pre;">6.1.3. </span></compositeblock><block>Attributes</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 537.367px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L537.3671875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.8247850201994243" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.8247850201994243" style="display: inline-block; white-space: pre;">6.1.4. </span></compositeblock><block>Passing Values to Templates</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 405.273px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L405.2734375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.007914477970212608" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.007914477970212608" style="display: inline-block; white-space: pre;">6.1.5. </span></compositeblock><block>Conditionals</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 520.922px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L520.921875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.17681142275202688" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.17681142275202688" style="display: inline-block; white-space: pre;">6.1.6. </span></compositeblock><block>Include &amp; Components</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 445.289px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L445.2890625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9145974308295056" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9145974308295056" style="display: inline-block; white-space: pre;">7. </span></compositeblock><block>Serving Static Files</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 497.961px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L497.9609375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7583393558479258" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7583393558479258" style="display: inline-block; white-space: pre;">7.1. </span></compositeblock><block>Multiple Static Directories</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 434.906px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L434.90625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line></editarea></toc-wrapper></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.13230592167513766" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.13230592167513766" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Intro</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Express is a minimal and flexible Node.js web application framework that provides a robust set of features for web and mobile applications. It is an open source framework developed and maintained by the Node.js foundation.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>ExpressJS is a web application framework that provides you with a simple API to build websites, web apps and back ends. With ExpressJS, you need not worry about low level protocols, processes, etc.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Why ExpressJS?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Unlike its competitors like Rails and Django, which have an opinionated way of building applications, Express has no "best way" to do something. It is very flexible and pluggable.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Pug</block><block> → Pug (earlier known as Jade) is a terse language for writing HTML templates.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Mongoose</block><block> → Mongoose is a client API for node.js which makes it easy to access our database from our Express application.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.935170866909481" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.935170866909481" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">1.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Getting Started</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block class="role-hyper-link" data-hyper-link-url="https://expressjs.com/en/starter/installing.html" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="https://expressjs.com/en/starter/installing.html" target="_blank" style="color: inherit; text-decoration: inherit;">Installation</a></block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block class="role-hyper-link" data-hyper-link-url="https://expressjs.com/en/starter/hello-world.html" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="https://expressjs.com/en/starter/hello-world.html" target="_blank" style="color: inherit; text-decoration: inherit;">Hello World Example</a></block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block class="role-hyper-link" data-hyper-link-url="https://expressjs.com/en/starter/generator.html" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="https://expressjs.com/en/starter/generator.html" target="_blank" style="color: inherit; text-decoration: inherit;">Express Generator</a></block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block class="role-hyper-link" data-hyper-link-url="https://expressjs.com/en/starter/basic-routing.html" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="https://expressjs.com/en/starter/basic-routing.html" target="_blank" style="color: inherit; text-decoration: inherit;">Basic Routing</a></block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block class="role-hyper-link" data-hyper-link-url="https://expressjs.com/en/starter/static-files.html" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="https://expressjs.com/en/starter/static-files.html" target="_blank" style="color: inherit; text-decoration: inherit;">Static Files</a></block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block class="role-hyper-link" data-hyper-link-url="https://expressjs.com/en/starter/examples.html" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="https://expressjs.com/en/starter/examples.html" target="_blank" style="color: inherit; text-decoration: inherit;">More Examples</a></block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.5191684034884698" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5191684034884698" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Routing</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Web frameworks provide resources such as HTML pages, scripts, images, etc. at different routes.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The app.method(path, handler) method is used to define routes in an Express application.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>It can be applied to any one of the HTTP verbs – get, set, put, delete.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Path</block><block> is the route at which the request will run.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Handler</block><block> is a </block><block style="font-weight: bold; color: rgb(189, 16, 224);">callback</block><block> function that executes when a matching request type is found on the relevant route. For example,</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(189, 16, 224);">What is a Callback Function?</block><block style="font-style: italic; color: rgb(128, 128, 128);"> A callback function is a function passed into another function as an argument, which is then invoked inside the outer function to complete some kind of routine or action. See </block><block class="role-hyper-link" data-hyper-link-url="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" style="text-decoration: underline; font-style: italic; color: rgb(128, 128, 128);"><a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" target="_blank" style="color: inherit; text-decoration: inherit;">this page</a></block><block style="font-style: italic; color: rgb(128, 128, 128);"> for more info. </block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/hello'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"Hello World!"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(0, 0, 0); font-style: italic; flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we run our application and go to </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">localhost:3000/hello</block><block>, the server receives a get request at route "</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/hello</block><block>", our Express app executes the callback function attached to this route and sends "Hello World!" as the response.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can also have multiple different methods at the same route. For example,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/hello'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"Hello World!"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/hello'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"You just called the post method at '/hello'!\n"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>A special method, </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(248, 54, 78); background-color: rgba(245, 166, 35, 0.2);">all</block><block>, is provided by Express to handle all types of http methods at a particular route using the same function. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>This method is generally used for defining middleware.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">all</block><block class="punctuation token">(</block><block class="string token">'/test'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"HTTP method doesn't have any effect on this route!"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.38871932670388465" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.38871932670388465" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">2.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Routers</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Defining routes like above is very tedious to maintain. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To separate the routes from our main </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> file, we will use </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(248, 54, 78);">Express.Router</block><block>. Create a new file called </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">things.js</block><block> and type the following in it.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> router </block><block class="operator token">=</block><block class=" token"> express</block><block class="punctuation token">.</block><block class="function token">Router</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'GET route on things.'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'POST route on things.'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//export this router to use in our index.js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">module</block><block class="punctuation token">.</block><block class=" token">exports </block><block class="operator token">=</block><block class=" token"> router</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now to use this router in our </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block>, type in the following before the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">app.listen</block><block> function call.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'Express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> things </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'./things.js'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//both index.js and things.js should be in same directory</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="string token">'/things'</block><block class="punctuation token">,</block><block class=" token"> things</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">app.use</block><block> function call on route '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/things</block><block>' attaches the things router with this route. Now whatever requests our app gets at the '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/things</block><block>', will be handled by our </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">things.js </block><block>router. The '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/</block><block>' route in </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">things.js</block><block> is actually a subroute of '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/things</block><block>'. Visit </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">localhost:3000/things/</block><block> and you will see the following output → </block><block style="font-style: italic;">"GET route on things."</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You should define your routes relating to an entity in a single file and include it using the above method in your </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> file.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.34111517383006285" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.34111517383006285" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>HTTP Methods</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following table lists the most used HTTP methods −</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 623.844px; height: 362.63px; position: relative;"><img src="image-resources/35e5686f-8eba-4ed3-a6b7-99ad49ecca2b.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.7634910680671244" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7634910680671244" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>URL Building</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can now define routes, but those are static or fixed. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To use the </block><block style="font-weight: bold; color: rgb(208, 2, 27);">dynamic routes</block><block>, we </block><block style="font-weight: bold;">SHOULD</block><block> provide different types of routes. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Using dynamic routes allows us to </block><block style="font-weight: bold;">pass parameters</block><block> and process based on them.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here is an example of a dynamic route.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>To test this go to </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">http://localhost:3000/123</block><block>. </block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/:id'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'The id you specified is '</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You can replace '123' in the URL with anything else and the change will reflect in the response.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/things/:name/:id'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'id: '</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">+</block><block class=" token"> </block><block class="string token">' and name: '</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You can use the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(248, 54, 78); background-color: rgba(245, 166, 35, 0.2);">req.params</block><block> object to access all the parameters you pass in the url. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Note that the above 2 are different paths. They will never overlap. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Also if you want to execute code when you get '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/things</block><block>' then you need to define it separately.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.503117559101137" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.503117559101137" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">4.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Pattern Matched Routes</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You can also use </block><block style="font-weight: bold;">regex</block><block> </block><block style="font-weight: bold;">to restrict URL parameter matching</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us assume you need the id to be a 5-digit long number. You can use the following route definition:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/things/:id([0-9]{5})'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'id: '</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Note that this will only match the requests that have a 5-digit long id. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You can use more complex regexes to match/validate your routes. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>If none of your routes match the request, you'll get a "</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">Cannot GET &lt;your-request-route&gt;</block><block>" message as response. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This message be replaced by a 404 not found page using this simple route.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//Other routes here</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'*'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'Sorry, this is an invalid URL.'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(128, 128, 128); font-style: italic; flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(144, 19, 254);">Note:</block><block style="font-style: italic; color: rgb(128, 128, 128);"> This should be placed after all your routes, as Express matches routes from start to end of the index.js file, including the external routers you required.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.11586148111409322" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.11586148111409322" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">5. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Middleware</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Middleware functions are functions that have access to the request object (</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">req</block><block>), the response object (</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">res</block><block>), and the next middleware function in the application’s request-response cycle. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>These functions are used to </block><block style="font-weight: bold;">modify</block><block> </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">req</block><block> and </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">res</block><block> objects for tasks like parsing request bodies, adding response headers, etc.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here is a simple example of a middleware function in action:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//Simple request time logger</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="parameter punctuation token">,</block><block class="parameter token"> next</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class="string token">"A new request received at "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> Date</block><block class="punctuation token">.</block><block class="function token">now</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="comment token">//This function call is very important. It tells that more processing is</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="comment token">//required for the current request and is in the next middleware</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">function</block><block class=" token"> route handler</block><block class="punctuation token">.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">next</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The above middleware is called for every request on the server. So after every request, we will get the following message in the console:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">A new request received at </block><block class="number token">1467267512545</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To restrict it to a specific route (and all its subroutes), provide that route as the first argument of </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">app.use()</block><block>. For Example,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//Middleware function to log request protocol</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="string token">'/things'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="parameter punctuation token">,</block><block class="parameter token"> next</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class="string token">"A request for things received at "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> Date</block><block class="punctuation token">.</block><block class="function token">now</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">next</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">// Route handler that sends the response</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/things'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'Things'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now whenever you request any subroute of '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/things</block><block>', only then it will log the time.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.445506694011662" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.445506694011662" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">5.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Order of Middleware Calls</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>One of the most important things about middleware in Express is </block><block style="font-weight: bold;">the order in which they are written/included in your file</block><block>; the order in which they are executed, given that the route matches also needs to be considered.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic;">For example</block><block>, in the following code snippet, the first function executes first, then the route handler and then the end function. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>This example summarizes how to use middleware before and after route handler; also how a route handler can be used as a middleware itself.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//First middleware before response is sent</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="parameter punctuation token">,</block><block class="parameter token"> next</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class="string token">"Start"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">next</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//Route handler</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="parameter punctuation token">,</block><block class="parameter token"> next</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"Middle"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">next</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class="string token">'End'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>When we visit '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/</block><block>' after running this code, we receive the response as Middle and on our console → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">Start, End</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following diagram summarizes what we have learned about middleware:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 499.5px; height: 195.5px; position: relative;"><img src="image-resources/07495c78-7b08-49c0-af87-7e5115516f2b.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's discuss some of the most commonly used community created middleware.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.26542068294209187" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.26542068294209187" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">5.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Third-party Middleware</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>A list of Third party middleware for Express is available </block><block class="role-hyper-link" data-hyper-link-url="http://expressjs.com/en/resources/middleware.html" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="http://expressjs.com/en/resources/middleware.html" target="_blank" style="color: inherit; text-decoration: inherit;">here</a></block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Following are some of the most commonly used middleware.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.8274349462362008" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8274349462362008" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">5.2.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>body-parser</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is used to parse the </block><block style="font-weight: bold;">body</block><block> of requests which have payloads attached to them. To mount body parser, we need to install it using </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">npm install --save body-parser</block><block> and to mount it, include the following lines in your </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> bodyParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'body-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//To parse URL encoded data</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">urlencoded</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token"> extended</block><block class="punctuation token">:</block><block class=" token"> </block><block class="boolean token">false</block><block class=" token"> </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//To parse json data</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.14754561257655063" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.14754561257655063" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">5.2.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>cookie-parser</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>It parses </block><block style="font-style: italic;">Cookie</block><block> </block><block style="font-weight: bold;">header</block><block> and populate </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">req.cookies</block><block> with an object keyed by cookie names. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To mount cookie parser, we need to install it using </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">npm install --save cookie-parser</block><block> and to mount it, include the following lines in your </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> cookieParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'cookie-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">cookieParser</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.21028486046436812" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.21028486046436812" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">5.2.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>express-session</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>It creates a session middleware with the given options. We will discuss its usage in the Sessions section.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.6969862115960047" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6969862115960047" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">6. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Templating</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Pug</block><block> is a templating engine for Express. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Templating engines are used to remove the cluttering of our server code with HTML, concatenating strings wildly to existing HTML templates. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Pug</block><block> is a very powerful templating engine which has a variety of features including </block><block style="font-weight: bold;">filters</block><block>, </block><block style="font-weight: bold;">includes</block><block>, </block><block style="font-weight: bold;">inheritance</block><block>, </block><block style="font-weight: bold;">interpolation</block><block>, etc. There is a lot of ground to cover on this.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To use Pug with Express, we need to install it → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">npm install --save pug</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now that </block><block style="font-weight: bold;">Pug</block><block> is installed, set it as the templating engine for your app. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>You don't need to '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">require</block><block>' it. Add the following code to your </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> file.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">set</block><block class="punctuation token">(</block><block class="string token">'view engine'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">'pug'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">set</block><block class="punctuation token">(</block><block class="string token">'views'</block><block class="punctuation token">,</block><block class="string token">'./views'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now create a new directory called </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(248, 54, 78);">views</block><block>. Inside that create a file called </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">first_view.pug</block><block>, and enter the following data in it.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">doctype html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"Hello Pug"</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      p</block><block class="punctuation token">.</block><block class=" token">greetings#people Hello World</block><block class="operator token">!</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To run this page, add the following route to your app:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/first_template'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'first_view'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You will get the output as − Hello World! Pug converts this very simple looking markup to html. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We don’t need to keep track of closing our tags, no need to use class and id keywords, rather use '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">.</block><block>' and '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">#</block><block>' to define them.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="doctype token">&lt;!DOCTYPE html&gt;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="tag tag punctuation token">&lt;</block><block class="tag tag token">html</block><block class="tag punctuation token">&gt;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="tag tag punctuation token">&lt;</block><block class="tag tag token">head</block><block class="tag punctuation token">&gt;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="tag tag punctuation token">&lt;</block><block class="tag tag token">title</block><block class="tag punctuation token">&gt;</block><block class=" token">Hello Pug</block><block class="tag tag punctuation token">&lt;/</block><block class="tag tag token">title</block><block class="tag punctuation token">&gt;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="tag tag punctuation token">&lt;/</block><block class="tag tag token">head</block><block class="tag punctuation token">&gt;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="tag tag punctuation token">&lt;</block><block class="tag tag token">body</block><block class="tag punctuation token">&gt;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="tag tag punctuation token">&lt;</block><block class="tag tag token">p</block><block class="tag token"> </block><block class="tag attr-name token">class</block><block class="tag token"> </block><block class="tag attr-value punctuation token">=</block><block class="tag attr-value token"> </block><block class="tag attr-value punctuation token">"</block><block class="tag attr-value token">greetings</block><block class="tag attr-value punctuation token">"</block><block class="tag token"> </block><block class="tag attr-name token">id</block><block class="tag token"> </block><block class="tag attr-value punctuation token">=</block><block class="tag attr-value token"> </block><block class="tag attr-value punctuation token">"</block><block class="tag attr-value token">people</block><block class="tag attr-value punctuation token">"</block><block class="tag punctuation token">&gt;</block><block class=" token">Hello World!</block><block class="tag tag punctuation token">&lt;/</block><block class="tag tag token">p</block><block class="tag punctuation token">&gt;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="tag tag punctuation token">&lt;/</block><block class="tag tag token">body</block><block class="tag punctuation token">&gt;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="tag tag punctuation token">&lt;/</block><block class="tag tag token">html</block><block class="tag punctuation token">&gt;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(128, 128, 128); font-style: italic; flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(144, 19, 254);">Note:</block><block style="font-style: italic; color: rgb(128, 128, 128);"> Pug is capable of doing much more than simplifying HTML markup.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8397913621976244" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8397913621976244" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">6.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Important Features of Pug</block></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.22738752724382916" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.22738752724382916" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.1.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Simple Tags</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Tags are nested according to their indentation. Like in the above example, </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">&lt;title&gt;</block><block> was indented within the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">&lt;head&gt;</block><block> tag, so it was inside it. But the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">&lt;body&gt;</block><block> tag was on the same indentation, so it was a sibling of the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">&lt;head&gt;</block><block> tag.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">We don’t need to close tags</block><block>, as soon as Pug encounters the next tag on same or outer indentation level, it closes the tag for us.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To put text inside of a tag, we have 3 methods:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Space separated</block><block> → </block></blocks></line><line class="root text-mode indent-1 has-indent list-item full-line-block-inside" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-default" style="display: block; border: 1px solid lightgray; background: rgb(238, 238, 237); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">h1 Welcome to Pug</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Piped text</block><block> →</block></blocks></line><line class="root text-mode indent-1 has-indent list-item full-line-block-inside" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-default" style="display: block; border: 1px solid lightgray; background: rgb(238, 238, 237); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">div</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="operator token">|</block><block class=" token"> To insert multiline text, </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="operator token">|</block><block class=" token"> You can use the pipe operator.</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Block of text</block><block> → </block></blocks></line><line class="root text-mode indent-1 has-indent list-item full-line-block-inside" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-default" style="display: block; border: 1px solid lightgray; background: rgb(238, 238, 237); padding: 10px; font-size: 14px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">div.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   But that gets tedious </block><block class="keyword token">if</block><block class=" token"> you have a lot of text.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   You can use </block><block class="string token">"."</block><block class=" token"> at the end of tag to denote block of text.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   To put tags inside this block, simply enter tag </block><block class="keyword token">in</block><block class=" token"> a new line and </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   indent it accordingly.</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.7843120316324959" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7843120316324959" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.1.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Comments</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Pug uses the same syntax as JavaScript(</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">//</block><block>) for creating comments. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item full-line-block-inside" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>These comments are converted to the html comments(</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">&lt;!--comment--&gt;</block><block>). For example: </block><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-default" style="display: block; border: 1px solid lightgray; background: rgb(238, 238, 237); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//This is a Pug comment</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item full-line-block-inside" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This comment gets converted to the following.</block><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-default" style="display: block; border: 1px solid lightgray; background: rgb(238, 238, 237); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">&lt;!--This is a Pug comment--&gt;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.7484147037361722" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7484147037361722" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.1.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Attributes</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To define attributes, we use a comma separated list of attributes, in parenthesis. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Class and ID attributes have special representations. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following line of code covers defining attributes, classes and id for a given html tag.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item full-line-block-inside" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;">• </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">div</block><block class="punctuation token">.</block><block class=" token">container</block><block class="punctuation token">.</block><block class=" token">column</block><block class="punctuation token">.</block><block class=" token">main</block><block class="function token">#division</block><block class="punctuation token">(</block><block class=" token">width </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"100"</block><block class="punctuation token">,</block><block class=" token"> height </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"100"</block><block class="punctuation token">)</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This line of code, gets converted to the following.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;">• </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item full-line-block-inside" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;">• </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="operator token">&lt;</block><block class=" token">div </block><block class="keyword token">class</block><block class=" token"> </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"container column main"</block><block class=" token"> id </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"division"</block><block class=" token"> width </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"100"</block><block class=" token"> height </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"100"</block><block class="operator token">&gt;</block><block class="operator token">&lt;</block><block class="operator token">/</block><block class=" token">div</block><block class="operator token">&gt;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.8247850201994243" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8247850201994243" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.1.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Passing Values to Templates</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>When we render a Pug template, we can actually pass it a value from our route handler, which we can then use in our template. Create a new route handler with the following.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/dynamic_view'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'dynamic'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"TutorialsPoint"</block><block class="punctuation token">,</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      url</block><block class="punctuation token">:</block><block class="string token">"http://www.tutorialspoint.com"</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>And create a new view file in views directory, called </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">dynamic.pug</block><block>, with the following code:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="assign-left variable token">title</block><block class="operator token">=</block><block class=" token">name</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="assign-left variable token">h1</block><block class="operator token">=</block><block class=" token">name</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      a</block><block class="punctuation token">(</block><block class=" token">href </block><block class="operator token">=</block><block class=" token"> url</block><block class="punctuation token">)</block><block class=" token"> URL</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can also use these passed variables within text. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To insert passed variables in between text of a tag, we use </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">#{variableName}</block><block> syntax. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic;">For example,</block><block> in the above example, if we wanted to put Greetings from TutorialsPoint, then we could have done the following:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title </block><block class="operator token">=</block><block class=" token"> name</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      h1 Greetings from </block><block class="comment token">#{name}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      a</block><block class="punctuation token">(</block><block class=" token">href </block><block class="operator token">=</block><block class=" token"> url</block><block class="punctuation token">)</block><block class=" token"> URL</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>his method of using values is called </block><block style="font-weight: bold; color: rgb(208, 2, 27);">interpolation</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.007914477970212608" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.007914477970212608" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.1.5. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Conditionals</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can use conditional statements and looping constructs as well.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Consider the following:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>If a User is logged in, the page should display "</block><block style="font-weight: bold;">Hi, User</block><block>" and if not, then the "</block><block style="font-weight: bold;">Login/Sign Up</block><block>" link. To achieve this, we can define a simple template like:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;">– </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title Simple template</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      if</block><block class="punctuation token">(</block><block class=" token">user</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         h1 Hi, </block><block class="comment token">#{user.name}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">else</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         a</block><block class="punctuation token">(</block><block class=" token">href </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"/sign_up"</block><block class="punctuation token">)</block><block class=" token"> Sign Up</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>When we render this using our routes, we can pass an object as in the following program:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'/dynamic'</block><block class="punctuation token">,</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   user</block><block class="punctuation token">:</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Ayush"</block><block class="punctuation token">,</block><block class=" token"> age</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"20"</block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.17681142275202688" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.17681142275202688" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.1.6. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Include &amp; Components</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Pug</block><block> provides a very intuitive way to create components for a web page. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic;">For example,</block><block> if you see a news website, the header with logo and categories is always fixed. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Instead of copying that to every view we create, we can use the </block><block style="font-weight: bold;">include</block><block> feature. Following example shows how we can use this feature.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;">• </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(245, 166, 35);">header.pug</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">div.header.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   I'm the header </block><block class="keyword token">for</block><block class=" token"> this website.</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(245, 166, 35);">content.pug</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title Simple template</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      include ./header.pug</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      h3 I'm the main content</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      include ./footer.pug</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(245, 166, 35);">footer.pug</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">div.footer.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   I'm the footer </block><block class="keyword token">for</block><block class=" token"> this website.</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Create a route for this as follows:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/components'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">    res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'content'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.9145974308295056" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.9145974308295056" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">7. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Serving Static Files</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Static files are files that clients download as they are from the server. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Create a new directory, </block><block style="font-weight: bold; color: rgb(208, 2, 27);">public</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Express, by default does not allow you to serve static files</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You </block><block style="font-weight: bold;">need to enable it</block><block> using the following built-in middleware.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">express</block><block class="punctuation token">.</block><block class="function token">static</block><block class="punctuation token">(</block><block class="string token">'public'</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(144, 19, 254);">Note:</block><block style="font-style: italic; color: rgb(128, 128, 128);"> Express looks up the files relative to the static directory, so the name of the static directory is not part of the URL</block><block style="color: rgb(128, 128, 128);">.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Note that the root route is now set to your public dir, so all static files you load will be considering public as root. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To test that this is working fine, add any image file in your new public dir and change its name to "</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">testimage.jpg</block><block>". </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>In your views, create a new view and include this file like:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      h3 Testing static </block><block class="function token">file</block><block class=" token"> serving:</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      img</block><block class="punctuation token">(</block><block class=" token">src </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"/testimage.jpg"</block><block class=" token">, alt </block><block class="operator token">=</block><block class=" token"> "Testing Image</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.7583393558479258" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7583393558479258" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">7.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Multiple Static Directories</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can also set multiple static assets directories using the following program:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">express</block><block class="punctuation token">.</block><block class="function token">static</block><block class="punctuation token">(</block><block class="string token">'public'</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">express</block><block class="punctuation token">.</block><block class="function token">static</block><block class="punctuation token">(</block><block class="string token">'images'</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.1786407012131257" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.1786407012131257" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">7.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Virtual Path Prefix</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can also provide a path prefix for serving static files. For example, if you want to provide a path prefix like '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/static</block><block>', you need to include the following code in your </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> file.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="string token">'/static'</block><block class="punctuation token">,</block><block class=" token"> express</block><block class="punctuation token">.</block><block class="function token">static</block><block class="punctuation token">(</block><block class="string token">'public'</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now whenever you need to include a file, for example, a script file called main.js residing in your public directory, use the following script tag:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="tag tag punctuation token">&lt;</block><block class="tag tag token">script</block><block class="tag token"> </block><block class="tag attr-name token">src</block><block class="tag token"> </block><block class="tag attr-value punctuation token">=</block><block class="tag attr-value token"> </block><block class="tag attr-value punctuation token">"</block><block class="tag attr-value token">/static/main.js</block><block class="tag attr-value punctuation token">"</block><block class="tag token"> </block><block class="tag punctuation token">/&gt;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This technique can come in handy when providing multiple directories as static files. These prefixes can help distinguish between multiple directories.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.40434916112364727" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.40434916112364727" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">8. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Form Data</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Forms are an integral part of the web. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Almost every website we visit offers us forms that submit or fetch some information for us. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To get started with forms, we will first install the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">body-parser </block><block>(for parsing JSON and url-encoded data) and </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">multer </block><block>(for parsing multipart/form data) middleware.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Replace your </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> file contents with the following code:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> bodyParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'body-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> multer </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'multer'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> upload </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">multer</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'form'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">set</block><block class="punctuation token">(</block><block class="string token">'view engine'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">'pug'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">set</block><block class="punctuation token">(</block><block class="string token">'views'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">'./views'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">// for parsing application/json</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">// for parsing application/xwww-</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">urlencoded</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token"> extended</block><block class="punctuation token">:</block><block class=" token"> </block><block class="boolean token">true</block><block class=" token"> </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//form-urlencoded</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">// for parsing multipart/form-data</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">upload</block><block class="punctuation token">.</block><block class="function token">array</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">express</block><block class="punctuation token">.</block><block class="function token">static</block><block class="punctuation token">(</block><block class="string token">'public'</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"recieved your request!"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>After importing the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">body-parser</block><block> and </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">multer</block><block>, we will use the body-parser for parsing json and </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">x-www-form-urlencoded</block><block> header requests, while we will use </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">multer</block><block> for parsing multipart/form-data.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us create an html form to test this out. Create a new view called </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(248, 54, 78);">form.pug</block><block> with the following code:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title Form Tester</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      form</block><block class="punctuation token">(</block><block class=" token">action </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"/"</block><block class=" token">, method </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"POST"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         div</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            label</block><block class="punctuation token">(</block><block class=" token">for </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"say"</block><block class="punctuation token">)</block><block class=" token"> Say:</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"say"</block><block class=" token"> value </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"Hi"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         br</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         div</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            label</block><block class="punctuation token">(</block><block class=" token">for </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"to"</block><block class="punctuation token">)</block><block class=" token"> To:</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"to"</block><block class=" token"> value </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"Express forms"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         br</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         button</block><block class="punctuation token">(</block><block class=" token">type </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"submit"</block><block class="punctuation token">)</block><block class=" token"> Send my greetings</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Run your server using the following → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">nodemon index.js</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Have a look at your console; it will show you the body of your request as a JavaScript object as in the following screenshot:</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 604.25px; height: 85.46px; position: relative;"><img src="image-resources/cab28abe-4cf8-4dc7-927c-d55fe97a76b9.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">req.body</block><block> object contains your parsed request body. To use fields from that object, just use them like normal JS objects.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is the most recommended way to send a request. There are many other ways, but those are irrelevant to cover here, because our Express app will handle all those requests in the same way. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To read more about different ways to make a request, have a look at </block><block class="role-hyper-link" data-hyper-link-url="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Forms/Sending_forms_through_JavaScript" target="_blank" style="color: inherit; text-decoration: inherit;">this page</a></block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.1810195724501813" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.1810195724501813" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">9. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Database, Mongoose</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>In order to use Mongo with Express, </block><block style="font-weight: bold;">we need a client API for node</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>There are multiple options for us, but for this tutorial, we will stick to </block><block class="role-hyper-link" data-hyper-link-url="http://mongoosejs.com/" style="text-decoration: underline; font-weight: bold; color: rgb(208, 2, 27);"><a href="http://mongoosejs.com/" target="_blank" style="color: inherit; text-decoration: inherit;">Mongoose</a></block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Mongoose</block><block> is used for </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Document Modeling</block><block> in Node for MongoDB. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>For document modeling, we create a </block><block style="font-weight: bold;">Model</block><block> (much like a class in document oriented programming), and then we produce documents using this Model (like we create documents of a class in OOP). </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>All our processing will be done on these "</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">documents</block><block>", then finally, we will write these documents in our database.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.36104554284938306" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.36104554284938306" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Setting Up Mongoose</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>After installing Mongo, you can install Mongoose:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">npm install </block><block class="operator token">--</block><block class=" token">save mongoose</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Before we start using mongoose, we have to create a database using the Mongo shell. To create a new database, open your terminal and enter "</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">mongo</block><block>". A Mongo shell will start, enter the following code:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">use my_db</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(128, 128, 128); font-style: italic; flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(144, 19, 254);">Note:</block><block style="font-style: italic; color: rgb(128, 128, 128);"> Whenever you open up the mongo shell, it will default to "</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">test</block><block style="font-style: italic; color: rgb(128, 128, 128);">" db and you will have to change to your database using the same command as above.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;">• </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To use Mongoose, we will require it in our </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> file and then connect to the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">mongodb</block><block> service running on </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">mongodb://localhost</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> mongoose </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'mongoose'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">mongoose</block><block class="punctuation token">.</block><block class="function token">connect</block><block class="punctuation token">(</block><block class="string token">'mongodb://localhost/my_db'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now our app is connected to our database, let us </block><block style="font-weight: bold;">create a new Model</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This </block><block style="font-weight: bold;">model will act as a collection</block><block> in our database. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To create a new Model, use the following code, before defining any route.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following code defines the schema for a person and is used to create a Mongoose Model </block><block style="font-weight: bold;">Person</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> personSchema </block><block class="operator token">=</block><block class=" token"> mongoose</block><block class="punctuation token">.</block><block class="function token">Schema</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   name</block><block class="punctuation token">:</block><block class=" token"> String</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   age</block><block class="punctuation token">:</block><block class=" token"> Number</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   nationality</block><block class="punctuation token">:</block><block class=" token"> String</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> Person </block><block class="operator token">=</block><block class=" token"> mongoose</block><block class="punctuation token">.</block><block class="function token">model</block><block class="punctuation token">(</block><block class="string token">"Person"</block><block class="punctuation token">,</block><block class=" token"> personSchema</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.1521934372867576" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.1521934372867576" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Saving Documents</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, we will create a new html form. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This form will help you get the details of a person and save it to our database. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To create the form, create a new view file called </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">person.pug</block><block> in views directory with the following content:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   title Person</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      form</block><block class="punctuation token">(</block><block class=" token">action </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"/person"</block><block class=" token">, method </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"POST"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      div</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         label</block><block class="punctuation token">(</block><block class=" token">for </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"name"</block><block class="punctuation token">)</block><block class=" token"> Name: </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"name"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      br</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      div</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         label</block><block class="punctuation token">(</block><block class=" token">for </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"age"</block><block class="punctuation token">)</block><block class=" token"> Age: </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"age"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      br</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      div</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         label</block><block class="punctuation token">(</block><block class=" token">for </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"nationality"</block><block class="punctuation token">)</block><block class=" token"> Nationality: </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"nationality"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      br</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      button</block><block class="punctuation token">(</block><block class=" token">type </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"submit"</block><block class="punctuation token">)</block><block class=" token"> Create new person</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Also add a new get route in </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> to render this document:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/person'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'person'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Note that this is not working yet</block><block> → We will now define a </block><block style="font-weight: bold;">post</block><block> route handler at '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/person</block><block>' which will handle this request.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/person'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">var</block><block class=" token"> personInfo </block><block class="operator token">=</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">;</block><block class=" token"> </block><block class="comment token">//Get the parsed information</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class="operator token">!</block><block class=" token">personInfo</block><block class="punctuation token">.</block><block class=" token">name </block><block class="operator token">||</block><block class=" token"> </block><block class="operator token">!</block><block class=" token">personInfo</block><block class="punctuation token">.</block><block class=" token">age </block><block class="operator token">||</block><block class=" token"> </block><block class="operator token">!</block><block class=" token">personInfo</block><block class="punctuation token">.</block><block class=" token">nationality</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'show_message'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Sorry, you provided worng info"</block><block class="punctuation token">,</block><block class=" token"> type</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"error"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">var</block><block class=" token"> newPerson </block><block class="operator token">=</block><block class=" token"> </block><block class="keyword token">new</block><block class=" token"> </block><block class="class-name token">Person</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         name</block><block class="punctuation token">:</block><block class=" token"> personInfo</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         age</block><block class="punctuation token">:</block><block class=" token"> personInfo</block><block class="punctuation token">.</block><block class=" token">age</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         nationality</block><block class="punctuation token">:</block><block class=" token"> personInfo</block><block class="punctuation token">.</block><block class=" token">nationality</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">    </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      newPerson</block><block class="punctuation token">.</block><block class="function token">save</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> Person</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">err</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'show_message'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Database error"</block><block class="punctuation token">,</block><block class=" token"> type</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"error"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">else</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'show_message'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">               message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"New person added"</block><block class="punctuation token">,</block><block class=" token"> type</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"success"</block><block class="punctuation token">,</block><block class=" token"> person</block><block class="punctuation token">:</block><block class=" token"> personInfo</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>In the above code, if we receive any empty field or do not receive any field, we will send an error response. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>But if we receive a well-formed document, then we create a </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">newPerson</block><block> document from </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">Person</block><block> model and save it to our DB using the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">newPerson.save()</block><block> function. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is defined in Mongoose and accepts a callback as argument. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This callback has 2 arguments – error and response. These arguments will render the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">show_message</block><block> view.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To show the response from this route, we will also need to create a </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">show_message</block><block> view. Create a new view with the following code:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title Person</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">type </block><block class="operator token">==</block><block class=" token"> </block><block class="string token">"error"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="function token">h3</block><block class="punctuation token">(</block><block class=" token">style </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"color:red"</block><block class="punctuation token">)</block><block class=" token"> #</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">else</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         h3 New person</block><block class="punctuation token">,</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            name</block><block class="punctuation token">:</block><block class=" token"> #</block><block class="punctuation token">{</block><block class=" token">person</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">}</block><block class="punctuation token">,</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            age</block><block class="punctuation token">:</block><block class=" token"> #</block><block class="punctuation token">{</block><block class=" token">person</block><block class="punctuation token">.</block><block class=" token">age</block><block class="punctuation token">}</block><block class=" token"> and </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            nationality</block><block class="punctuation token">:</block><block class=" token"> #</block><block class="punctuation token">{</block><block class=" token">person</block><block class="punctuation token">.</block><block class=" token">nationality</block><block class="punctuation token">}</block><block class=" token"> added</block><block class="operator token">!</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.09627809389666364" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.09627809389666364" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Retrieving Documents</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Mongoose provides a lot of functions for retrieving documents, we will focus on 3 of those. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>All these functions also take a callback as the last parameter, and just like the save function, their arguments are error and response.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.6781939353815711" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6781939353815711" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.3.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.find(conditions, callback)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This function finds all the documents matching the fields in conditions object. Same operators used in Mongo also work in mongoose. For example,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">find</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This will fetch all the documents from the person's collection.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">find</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Ayush"</block><block class="punctuation token">,</block><block class=" token"> age</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">20</block><block class="punctuation token">}</block><block class="punctuation token">,</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can also provide projection we need, i.e., the fields we need. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>For example, if we want only the names of people whose nationality is "Indian", we use:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">find</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">nationality</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Indian"</block><block class="punctuation token">}</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">"name"</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.686665795034881" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.686665795034881" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.3.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.findOne(conditions, callback)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This function always fetches a single, most relevant document. It has the same exact arguments as </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">Model.find()</block><block style="font-family: &quot;Computer Modern Sans&quot;, serif; color: rgb(0, 0, 0);">.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.7692951446679172" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7692951446679172" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.3.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.findById(id, callback)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This function takes in the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">_id</block><block> (defined by mongo) as the first argument, an optional projection string and a callback to handle the response. For example,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">findById</block><block class="punctuation token">(</block><block class="string token">"507f1f77bcf86cd799439011"</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us now create a route to view all people records:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> mongoose </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'mongoose'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">mongoose</block><block class="punctuation token">.</block><block class="function token">connect</block><block class="punctuation token">(</block><block class="string token">'mongodb://localhost/my_db'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> personSchema </block><block class="operator token">=</block><block class=" token"> mongoose</block><block class="punctuation token">.</block><block class="function token">Schema</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   name</block><block class="punctuation token">:</block><block class=" token"> String</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   age</block><block class="punctuation token">:</block><block class=" token"> Number</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   nationality</block><block class="punctuation token">:</block><block class=" token"> String</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> Person </block><block class="operator token">=</block><block class=" token"> mongoose</block><block class="punctuation token">.</block><block class="function token">model</block><block class="punctuation token">(</block><block class="string token">"Person"</block><block class="punctuation token">,</block><block class=" token"> personSchema</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/people'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   Person</block><block class="punctuation token">.</block><block class="function token">find</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.9066922209720415" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.9066922209720415" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Updating Documents</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Mongoose provides 3 functions to update documents.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.6734134093280015" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6734134093280015" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.4.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.update(condition, updates, callback)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This function takes a conditions and updates an object as input and applies the changes to all the documents matching the conditions in the collection. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>For example, following code will update the nationality "American" in all Person documents:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">update</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">age</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">25</block><block class="punctuation token">}</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">nationality</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"American"</block><block class="punctuation token">}</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.3451391281487759" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.3451391281487759" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.4.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.findOneAndUpdate(condition, updates, callback)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>It finds one document based on the query and updates that according to the second argument. It also takes a callback as last argument. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us perform the following example to understand the function:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">findOneAndUpdate</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Ayush"</block><block class="punctuation token">}</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">age</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">40</block><block class="punctuation token">}</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.7978591465784323" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7978591465784323" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.4.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.findByIdAndUpdate(id, updates, callback)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This function updates a single document identified by its id. For example,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">findByIdAndUpdate</block><block class="punctuation token">(</block><block class="string token">"507f1f77bcf86cd799439011"</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"James"</block><block class="punctuation token">}</block><block class="punctuation token">,</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us now create a route to update people. This will be a </block><block style="font-weight: bold;">PUT</block><block> route with the id as a parameter and details in the payload.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> mongoose </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'mongoose'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">mongoose</block><block class="punctuation token">.</block><block class="function token">connect</block><block class="punctuation token">(</block><block class="string token">'mongodb://localhost/my_db'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> personSchema </block><block class="operator token">=</block><block class=" token"> mongoose</block><block class="punctuation token">.</block><block class="function token">Schema</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   name</block><block class="punctuation token">:</block><block class=" token"> String</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   age</block><block class="punctuation token">:</block><block class=" token"> Number</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   nationality</block><block class="punctuation token">:</block><block class=" token"> String</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> Person </block><block class="operator token">=</block><block class=" token"> mongoose</block><block class="punctuation token">.</block><block class="function token">model</block><block class="punctuation token">(</block><block class="string token">"Person"</block><block class="punctuation token">,</block><block class=" token"> personSchema</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">put</block><block class="punctuation token">(</block><block class="string token">'/people/:id'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   Person</block><block class="punctuation token">.</block><block class="function token">findByIdAndUpdate</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">,</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">err</block><block class="punctuation token">)</block><block class=" token"> res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Error in updating person with id "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class=" token">response</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To test this route, enter the following in your terminal (replace the id with an id from your created </block><block style="font-weight: bold;">people</block><block>). This will update the document associated with the id provided in the route with the above details.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="function token">curl</block><block class=" token"> -X PUT --data </block><block class="string token">"name = James&amp;age = 20&amp;nationality = American</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="string token">"</block><block class=" token">http://localhost:3000/people/507f1f77bcf86cd799439011</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.6119258701241204" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6119258701241204" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.5. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Deleting Documents</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We have 3 functions here, exactly like update.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.9179500279922975" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.9179500279922975" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.5.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.remove(condition, [callback])</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This function takes a condition object as input and removes all documents matching the conditions. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>For example, if we need to remove all people aged 20, use the following syntax:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">remove</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">age</block><block class="punctuation token">:</block><block class="number token">20</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.7172561919471433" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7172561919471433" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.5.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.findOneAndRemove(condition, [callback])</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This functions removes a </block><block style="font-weight: bold;">single</block><block>, most relevant document according to conditions object. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us execute the following code to understand the same.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">findOneAndRemove</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Ayush"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.6514371824576127" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6514371824576127" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.5.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model.findByIdAndRemove(condition, [callback])</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This function removes a single document identified by its id. For example,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">Person</block><block class="punctuation token">.</block><block class="function token">findByIdAndRemove</block><block class="punctuation token">(</block><block class="string token">"507f1f77bcf86cd799439011"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us now create a route to delete people from our database.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> mongoose </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'mongoose'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">mongoose</block><block class="punctuation token">.</block><block class="function token">connect</block><block class="punctuation token">(</block><block class="string token">'mongodb://localhost/my_db'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> personSchema </block><block class="operator token">=</block><block class=" token"> mongoose</block><block class="punctuation token">.</block><block class="function token">Schema</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   name</block><block class="punctuation token">:</block><block class=" token"> String</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   age</block><block class="punctuation token">:</block><block class=" token"> Number</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   nationality</block><block class="punctuation token">:</block><block class=" token"> String</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> Person </block><block class="operator token">=</block><block class=" token"> mongoose</block><block class="punctuation token">.</block><block class="function token">model</block><block class="punctuation token">(</block><block class="string token">"Person"</block><block class="punctuation token">,</block><block class=" token"> personSchema</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">delete</block><block class="punctuation token">(</block><block class="string token">'/people/:id'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   Person</block><block class="punctuation token">.</block><block class="function token">findByIdAndRemove</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> response</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">err</block><block class="punctuation token">)</block><block class=" token"> res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Error in deleting record id "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">else</block><block class=" token"> res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Person with id "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">+</block><block class=" token"> </block><block class="string token">" removed."</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To check the output, use the following curl command. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This will remove the person with given id producing the following message → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">{message: "Person with id 507f1f77bcf86cd799439011 removed."}</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="function token">curl</block><block class=" token"> -X DELETE http://localhost:3000/people/507f1f77bcf86cd799439011</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.45723690768009806" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.45723690768009806" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">10. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Cookies</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Cookies are simple, small files/data that are sent to client with a server request and stored on the client side. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Every time the user loads the website back, this cookie is sent with the request. </block><block style="font-weight: bold;">This helps us keep track of the user’s actions</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following are the numerous </block><block style="font-weight: bold;">uses of the HTTP Cookies</block><block>:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Session management</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Personalization (recommendation systems)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>User tracking</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To use cookies with Express, we need the cookie-parser middleware. To install it, use the following code:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="function token">npm</block><block class=" token"> </block><block class="function token">install</block><block class=" token"> --save cookie-parser</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now to use cookies with Express, we will require the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">cookie-parser</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">cookie-parser</block><block> is a </block><block style="font-weight: bold;">middleware</block><block> which parses cookies attached to the client request object. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To use it, we will require it in our </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> file; this can be used the same way as we use other middleware. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here, we will use the following code:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> cookieParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'cookie-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">cookieParser</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">cookie-parser</block><block> parses Cookie header and populates </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">req.cookies</block><block> with an object keyed by the cookie names. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To set a new cookie, let us define a new route in your Express app like:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">cookie</block><block class="punctuation token">(</block><block class="string token">'name'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'cookie set'</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block><block class="comment token">//Sets name = express</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">To check if your cookie is set or not</block><block>, just go to your browser, fire up the console, and enter → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78); background-color: rgba(155, 155, 155, 0.2);">console.log(document.cookie);</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You will get the output like: </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">"name = express"</block><block> (you may have more cookies set maybe due to extensions in your browser).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The browser also sends back cookies every time it queries the server. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">To view cookies from your server</block><block>, on the server console in a route, add the following code to that route → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78); background-color: rgba(155, 155, 155, 0.2);">console.log('Cookies: ', req.cookies);</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Next time you send a request to this route, you will receive the following output → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">Cookies: { name: 'express' }</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5666046100621291" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5666046100621291" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">10.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Adding Cookie Expiration Time</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You can add cookies that expire. To add a cookie that expires, just pass an object with property 'expire' set to the time when you want it to expire. For example,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//Expires after 360000 ms from the time it is set.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">res</block><block class="punctuation token">.</block><block class="function token">cookie</block><block class="punctuation token">(</block><block class=" token">name</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">'value'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">expire</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">360000</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> Date</block><block class="punctuation token">.</block><block class="function token">now</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Another way to set expiration time is using '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">maxAge</block><block>' property. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Using this property, we can provide relative time instead of absolute time. Following is an example of this method.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//This cookie also expires after 360000 ms from the time it is set.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">res</block><block class="punctuation token">.</block><block class="function token">cookie</block><block class="punctuation token">(</block><block class=" token">name</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">'value'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">maxAge</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">360000</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8271765798122801" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8271765798122801" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">10.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Deleting an Existing Cookie</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To delete a cookie, use the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">clearCookie</block><block> function. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>For example, if you need to clear a cookie named foo, use the following code.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/clear_cookie_foo'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">clearCookie</block><block class="punctuation token">(</block><block class="string token">'foo'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'cookie foo cleared'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.08433724130271181" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.08433724130271181" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">11. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Sessions</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">HTTP is stateless</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>In order to associate a request to any other request, you need a way to store user data between HTTP requests. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Cookies and URL parameters are both suitable ways to transport data between the client and the server</block><block> → </block><block style="font-weight: bold;">But they are both readable and on the client side</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Sessions</block><block style="font-weight: bold;"> solve exactly this problem</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You assign the client an ID and it makes all further requests using that ID. Information associated with the client is stored on the server linked to this ID.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We will need the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">express-session</block><block>, so install it using the following code.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">npm install </block><block class="operator token">--</block><block class=" token">save express</block><block class="operator token">-</block><block class=" token">session</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We will put the session and </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">cookie-parser</block><block> middleware in place. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>In this example, we will use the default store for storing sessions, i.e., </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(248, 54, 78);">MemoryStore</block><block>. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Never use this in production environments</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The session middleware handles all things for us, i.e., creating the session, setting the session cookie and creating the session object in </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">req</block><block> object.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Whenever we make a request from the same client again, we will have their session information stored with us (given that the server was not restarted). </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can add more properties to the session object. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>In the following example, we will </block><block style="font-weight: bold;">create a view counter for a client</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> cookieParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'cookie-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> session </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express-session'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">cookieParser</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">session</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">secret</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Shh, its a secret!"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">page_views</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">page_views</block><block class="operator token">++</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"You visited this page "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">page_views </block><block class="operator token">+</block><block class=" token"> </block><block class="string token">" times"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">page_views </block><block class="operator token">=</block><block class=" token"> </block><block class="number token">1</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"Welcome to this page for the first time!"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>What the above code does is, when a user visits the site, it creates a new session for the user and assigns them a cookie. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Next time the user comes, the cookie is checked and the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">page_view</block><block> session variable is updated accordingly.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.08535541923518408" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.08535541923518408" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">12. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Authentication</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Authentication is a process in which the credentials provided are compared to those on file in a database of authorized users' information on a local operating system or within an authentication server. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>If the credentials match, the process is completed and the user is granted authorization for access.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>For us to create an authentication system, we will need to create a </block><block style="font-weight: bold;">sign up page</block><block> and a </block><block style="font-weight: bold;">user-password store</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following code creates an account for us and stores it in memory. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is just for the purpose of demo; it is recommended that a persistent storage (database or files) is always used to store user information.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> bodyParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'body-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> multer </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'multer'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> upload </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">multer</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> session </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express-session'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> cookieParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'cookie-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">set</block><block class="punctuation token">(</block><block class="string token">'view engine'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">'pug'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">set</block><block class="punctuation token">(</block><block class="string token">'views'</block><block class="punctuation token">,</block><block class="string token">'./views'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">urlencoded</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token"> extended</block><block class="punctuation token">:</block><block class=" token"> </block><block class="boolean token">true</block><block class=" token"> </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">upload</block><block class="punctuation token">.</block><block class="function token">array</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">cookieParser</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">session</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">secret</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Your secret key"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> Users </block><block class="operator token">=</block><block class=" token"> </block><block class="punctuation token">[</block><block class="punctuation token">]</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/signup'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'signup'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/signup'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">||</block><block class=" token"> </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">password</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="string token">"400"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"Invalid details!"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      Users</block><block class="punctuation token">.</block><block class="function token">filter</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">user</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">user</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">===</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'signup'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">               message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"User Already Exists! Login or choose another user id"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">var</block><block class=" token"> newUser </block><block class="operator token">=</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">,</block><block class=" token"> password</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">password</block><block class="punctuation token">}</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      Users</block><block class="punctuation token">.</block><block class="function token">push</block><block class="punctuation token">(</block><block class=" token">newUser</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">user </block><block class="operator token">=</block><block class=" token"> newUser</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">redirect</block><block class="punctuation token">(</block><block class="string token">'/protected_page'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now for the signup form, create a new view called </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">signup.jade</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title Signup</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      if</block><block class="punctuation token">(</block><block class=" token">message</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         h4 </block><block class="comment token">#{message}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         form</block><block class="punctuation token">(</block><block class=" token">action </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"/signup"</block><block class=" token"> method </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"POST"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"id"</block><block class=" token"> </block><block class="builtin class-name token">type</block><block class=" token"> </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"text"</block><block class=" token"> required placeholder </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"User ID"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"password"</block><block class=" token"> </block><block class="builtin class-name token">type</block><block class=" token"> </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"password"</block><block class=" token"> required placeholder </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"Password"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         button</block><block class="punctuation token">(</block><block class=" token">type </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"Submit"</block><block class="punctuation token">)</block><block class=" token"> Sign me up</block><block class="operator token">!</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We have set the required attribute for both fields, so HTML5 enabled browsers will not let us submit this form until we provide both id and password. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>If someone tries to register using a curl request without a User ID or Password, an error will be displayed. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Create a new file called </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">protected_page.pug</block><block> in views with the following content:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title Protected page</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      div Hey </block><block class="comment token">#{id}, How are you doing today?</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      div Want to log out?</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      div Logout</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This page should only be visible if the user has just signed up or logged in. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us now define its route and also routes to log in and log out:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> bodyParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'body-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> multer </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'multer'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> upload </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">multer</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> session </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express-session'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> cookieParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'cookie-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">set</block><block class="punctuation token">(</block><block class="string token">'view engine'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="string token">'pug'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">set</block><block class="punctuation token">(</block><block class="string token">'views'</block><block class="punctuation token">,</block><block class="string token">'./views'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">urlencoded</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token"> extended</block><block class="punctuation token">:</block><block class=" token"> </block><block class="boolean token">true</block><block class=" token"> </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">upload</block><block class="punctuation token">.</block><block class="function token">array</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">cookieParser</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">session</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">secret</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Your secret key"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> Users </block><block class="operator token">=</block><block class=" token"> </block><block class="punctuation token">[</block><block class="punctuation token">]</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/signup'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'signup'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/signup'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">||</block><block class=" token"> </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">password</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="string token">"400"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"Invalid details!"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      Users</block><block class="punctuation token">.</block><block class="function token">filter</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">user</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">user</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">===</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'signup'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">               message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"User Already Exists! Login or choose another user id"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">var</block><block class=" token"> newUser </block><block class="operator token">=</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">,</block><block class=" token"> password</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">password</block><block class="punctuation token">}</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      Users</block><block class="punctuation token">.</block><block class="function token">push</block><block class="punctuation token">(</block><block class=" token">newUser</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">user </block><block class="operator token">=</block><block class=" token"> newUser</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">redirect</block><block class="punctuation token">(</block><block class="string token">'/protected_page'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">function</block><block class=" token"> </block><block class="function token">checkSignIn</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">user</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="function token">next</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token">     </block><block class="comment token">//If session exists, proceed to page</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">var</block><block class=" token"> err </block><block class="operator token">=</block><block class=" token"> </block><block class="keyword token">new</block><block class=" token"> </block><block class="class-name token">Error</block><block class="punctuation token">(</block><block class="string token">"Not logged in!"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">user</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="function token">next</block><block class="punctuation token">(</block><block class=" token">err</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token">  </block><block class="comment token">//Error, trying to access unauthorized page!</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/protected_page'</block><block class="punctuation token">,</block><block class=" token"> checkSignIn</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'protected_page'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">user</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">}</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/login'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'login'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/login'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">Users</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">||</block><block class=" token"> </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">password</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'login'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Please enter both id and password"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      Users</block><block class="punctuation token">.</block><block class="function token">filter</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">user</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">user</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">===</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">&amp;&amp;</block><block class=" token"> user</block><block class="punctuation token">.</block><block class=" token">password </block><block class="operator token">===</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">password</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class=" token">user </block><block class="operator token">=</block><block class=" token"> user</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            res</block><block class="punctuation token">.</block><block class="function token">redirect</block><block class="punctuation token">(</block><block class="string token">'/protected_page'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">render</block><block class="punctuation token">(</block><block class="string token">'login'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Invalid credentials!"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/logout'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   req</block><block class="punctuation token">.</block><block class=" token">session</block><block class="punctuation token">.</block><block class="function token">destroy</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class="string token">"user logged out."</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">redirect</block><block class="punctuation token">(</block><block class="string token">'/login'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="string token">'/protected_page'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="parameter punctuation token">,</block><block class="parameter token"> next</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">console</block><block class="punctuation token">.</block><block class="function token">log</block><block class="punctuation token">(</block><block class=" token">err</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="comment token">//User should be authenticated! Redirect him to log in.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">redirect</block><block class="punctuation token">(</block><block class="string token">'/login'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We have created a middleware function </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">checkSignIn</block><block> to check if the user is signed in. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">protected_page</block><block> uses this function. </block><block style="font-weight: bold;">To log the user out, we destroy the session</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;">• </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us now create the </block><block style="font-weight: bold;">login page</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Name the view as </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">login.pug</block><block> and enter the contents:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">html</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   head</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      title Signup</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   body</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">message</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         h4 #</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="function token">form</block><block class="punctuation token">(</block><block class=" token">action </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"/login"</block><block class=" token"> method </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"POST"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="function token">input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"id"</block><block class=" token"> type </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"text"</block><block class=" token"> required placeholder </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"User ID"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="function token">input</block><block class="punctuation token">(</block><block class=" token">name </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"password"</block><block class=" token"> type </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"password"</block><block class=" token"> required placeholder </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"Password"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="function token">button</block><block class="punctuation token">(</block><block class=" token">type </block><block class="operator token">=</block><block class=" token"> </block><block class="string token">"Submit"</block><block class="punctuation token">)</block><block class=" token"> Log </block><block class="keyword token">in</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.1679471124715637" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.1679471124715637" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">13. </prefix><blocks><baselineblock class="inline"></baselineblock><block>RESTful APIs</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">An API is always needed</block><block> to create mobile applications, single page applications, use </block><block style="font-weight: bold;">AJAX calls</block><block> and provide data to clients. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>An </block><block style="font-weight: bold;">popular architectural style</block><block> of how to structure and name these APIs and the endpoints is called </block><block style="font-weight: bold; color: rgb(208, 2, 27);">REST</block><block> (Representational Transfer State). </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">HTTP 1.1</block><block> was designed keeping </block><block style="font-weight: bold;">REST</block><block> principles in mind. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">REST</block><block> was introduced by Roy Fielding in 2000 in his Paper Fielding Dissertations.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">RESTful URIs</block><block> and methods provide us with almost all information we need to process a request. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The table given below summarizes how the various verbs should be used and how URIs should be named. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We will be creating a movies API towards the end; let us now discuss how it will be structured.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 677.438px; height: 298.43px; position: relative;"><img src="image-resources/7fcd6823-74b1-44a2-ad21-d1af7eb1bd10.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us now create this API in Express. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We will be using JSON as our transport data format as it is easy to work with in JavaScript and has other benefits. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Replace your </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">index.js</block><block> file with the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">movies.js</block><block> file as in the following program.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> bodyParser </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'body-parser'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> multer </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'multer'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> upload </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">multer</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="function token">cookieParser</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">bodyParser</block><block class="punctuation token">.</block><block class="function token">urlencoded</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token"> extended</block><block class="punctuation token">:</block><block class=" token"> </block><block class="boolean token">true</block><block class=" token"> </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class=" token">upload</block><block class="punctuation token">.</block><block class="function token">array</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//Require the Router we defined in movies.js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> movies </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'./movies.js'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//Use the Router on the sub route /movies</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="string token">'/movies'</block><block class="punctuation token">,</block><block class=" token"> movies</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now that we have our application set up, let us concentrate on creating the API.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Start by setting up the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">movies.js</block><block> file. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We are not using a database to store the movies but are storing them in memory; so every time the server restarts, the movies added by us will vanish. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This can easily be mimicked using a database or a file (using node </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">fs</block><block> module).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Once you import Express then, create a Router and export it using </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">module.exports</block><block>:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> router </block><block class="operator token">=</block><block class=" token"> express</block><block class="punctuation token">.</block><block class="function token">Router</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> movies </block><block class="operator token">=</block><block class=" token"> </block><block class="punctuation token">[</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">101</block><block class="punctuation token">,</block><block class=" token"> name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Fight Club"</block><block class="punctuation token">,</block><block class=" token"> year</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">1999</block><block class="punctuation token">,</block><block class=" token"> rating</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">8.1</block><block class="punctuation token">}</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">102</block><block class="punctuation token">,</block><block class=" token"> name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Inception"</block><block class="punctuation token">,</block><block class=" token"> year</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">2010</block><block class="punctuation token">,</block><block class=" token"> rating</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">8.7</block><block class="punctuation token">}</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">103</block><block class="punctuation token">,</block><block class=" token"> name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"The Dark Knight"</block><block class="punctuation token">,</block><block class=" token"> year</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">2008</block><block class="punctuation token">,</block><block class=" token"> rating</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">9</block><block class="punctuation token">}</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">104</block><block class="punctuation token">,</block><block class=" token"> name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"12 Angry Men"</block><block class="punctuation token">,</block><block class=" token"> year</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">1957</block><block class="punctuation token">,</block><block class=" token"> rating</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">8.9</block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">]</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//Routes will go here</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">module</block><block class="punctuation token">.</block><block class=" token">exports </block><block class="operator token">=</block><block class=" token"> router</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.6152687913960552" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6152687913960552" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">13.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>GET Route</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us define the GET route for getting all the movies:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class=" token">movies</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To test out if this is working fine, run your app, then open your terminal and enter:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="function token">curl</block><block class=" token"> -i -H </block><block class="string token">"Accept: application/json"</block><block class=" token"> -H </block><block class="string token">"Content-Type: application/json"</block><block class=" token"> -X GET </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">localhost:3000/movies</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following response will be displayed:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">[</block><block class="punctuation token">{</block><block class="string token">"id"</block><block class=" token">:101,</block><block class="string token">"name"</block><block class="builtin class-name token">:</block><block class="string token">"Fight Club"</block><block class=" token">,</block><block class="string token">"year"</block><block class=" token">:1999,</block><block class="string token">"rating"</block><block class=" token">:8.1</block><block class="punctuation token">}</block><block class=" token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">{</block><block class="string token">"id"</block><block class=" token">:102,</block><block class="string token">"name"</block><block class="builtin class-name token">:</block><block class="string token">"Inception"</block><block class=" token">,</block><block class="string token">"year"</block><block class=" token">:2010,</block><block class="string token">"rating"</block><block class=" token">:8.7</block><block class="punctuation token">}</block><block class=" token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">{</block><block class="string token">"id"</block><block class=" token">:103,</block><block class="string token">"name"</block><block class="builtin class-name token">:</block><block class="string token">"The Dark Knight"</block><block class=" token">,</block><block class="string token">"year"</block><block class=" token">:2008,</block><block class="string token">"rating"</block><block class=" token">:9</block><block class="punctuation token">}</block><block class=" token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">{</block><block class="string token">"id"</block><block class=" token">:104,</block><block class="string token">"name"</block><block class="builtin class-name token">:</block><block class="string token">"12 Angry Men"</block><block class=" token">,</block><block class="string token">"year"</block><block class=" token">:1957,</block><block class="string token">"rating"</block><block class=" token">:8.9</block><block class="punctuation token">}</block><block class="punctuation token">]</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We have a route to get all the movies. Let us now create a route to get a specific movie by its id.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/:id([0-9]{3,})'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">var</block><block class=" token"> currMovie </block><block class="operator token">=</block><block class=" token"> movies</block><block class="punctuation token">.</block><block class="function token">filter</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">movie</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">movie</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">==</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">return</block><block class=" token"> </block><block class="boolean token">true</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">currMovie</block><block class="punctuation token">.</block><block class=" token">length </block><block class="operator token">==</block><block class=" token"> </block><block class="number token">1</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class=" token">currMovie</block><block class="punctuation token">[</block><block class="number token">0</block><block class="punctuation token">]</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="number token">404</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class="comment token">//Set status to 404 as movie was not found</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Not Found"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This will get us the movies according to the id that we provided. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To check the output, use the following command in your terminal</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="function token">curl</block><block class=" token"> -i -H </block><block class="string token">"Accept: application/json"</block><block class=" token"> -H </block><block class="string token">"Content-Type: application/json"</block><block class=" token"> -X GET </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">localhost:3000/movies/101</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You'll get the following response:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">{</block><block class="string token">"id"</block><block class=" token">:101,</block><block class="string token">"name"</block><block class="builtin class-name token">:</block><block class="string token">"Fight Club"</block><block class=" token">,</block><block class="string token">"year"</block><block class=" token">:1999,</block><block class="string token">"rating"</block><block class=" token">:8.1</block><block class="punctuation token">}</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>If you visit an invalid route, it will produce a cannot </block><block style="font-weight: bold;">GET error</block><block> while if you visit a valid route with an id that doesn’t exist, it will produce a </block><block style="font-weight: bold;">404 error</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5996077779270913" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5996077779270913" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">13.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>POST Route</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Use the following route to handle the </block><block style="font-weight: bold;">POST</block><block>ed data:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="comment token">//Check if all fields are provided and are valid:</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]{4}$/g</block><block class="punctuation token">)</block><block class=" token"> </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]\.[0-9]$/g</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="number token">400</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Bad Request"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">var</block><block class=" token"> newId </block><block class="operator token">=</block><block class=" token"> movies</block><block class="punctuation token">[</block><block class=" token">movies</block><block class="punctuation token">.</block><block class=" token">length</block><block class="operator token">-</block><block class="number token">1</block><block class="punctuation token">]</block><block class="punctuation token">.</block><block class=" token">id</block><block class="operator token">+</block><block class="number token">1</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      movies</block><block class="punctuation token">.</block><block class="function token">push</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         id</block><block class="punctuation token">:</block><block class=" token"> newId</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         name</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         year</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         rating</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"New movie created."</block><block class="punctuation token">,</block><block class=" token"> location</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"/movies/"</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> newId</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This will create a new movie and store it in the movies variable. To check this route, enter the following code in your terminal:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="function token">curl</block><block class=" token"> -X POST --data </block><block class="string token">"name = Toy%20story&amp;year = 1995&amp;rating = 8.5"</block><block class=" token"> http://localhost:3000/movies</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following response will be displayed:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">{</block><block class="string token">"message"</block><block class="builtin class-name token">:</block><block class="string token">"New movie created."</block><block class=" token">,</block><block class="string token">"location"</block><block class="builtin class-name token">:</block><block class="string token">"/movies/105"</block><block class="punctuation token">}</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To test if this was added to the movies object, Run the get request for </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">/movies/105</block><block> again. The following response will be displayed:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">{</block><block class="string token">"id"</block><block class=" token">:105,</block><block class="string token">"name"</block><block class="builtin class-name token">:</block><block class="string token">"Toy story"</block><block class=" token">,</block><block class="string token">"year"</block><block class="builtin class-name token">:</block><block class="string token">"1995"</block><block class=" token">,</block><block class="string token">"rating"</block><block class="builtin class-name token">:</block><block class="string token">"8.5"</block><block class="punctuation token">}</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.40282513684753285" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.40282513684753285" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">13.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>PUT Route</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The PUT route is almost the same as the POST route. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We will be specifying the id for the object that'll be updated/created. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Create the route in the following way:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">put</block><block class="punctuation token">(</block><block class="string token">'/:id'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="comment token">//Check if all fields are provided and are valid:</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]{4}$/g</block><block class="punctuation token">)</block><block class=" token"> </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]\.[0-9]$/g</block><block class="punctuation token">)</block><block class=" token"> </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]{3,}$/g</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="number token">400</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Bad Request"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="comment token">//Gets us the index of movie with given id.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">var</block><block class=" token"> updateIndex </block><block class="operator token">=</block><block class=" token"> movies</block><block class="punctuation token">.</block><block class="function token">map</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">movie</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">return</block><block class=" token"> movie</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">indexOf</block><block class="punctuation token">(</block><block class="function token">parseInt</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">updateIndex </block><block class="operator token">===</block><block class=" token"> </block><block class="operator token">-</block><block class="number token">1</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="comment token">//Movie not found, create new</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         movies</block><block class="punctuation token">.</block><block class="function token">push</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            id</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            name</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            year</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            rating</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"New movie created."</block><block class="punctuation token">,</block><block class=" token"> location</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"/movies/"</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="comment token">//Update existing movie</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         movies</block><block class="punctuation token">[</block><block class=" token">updateIndex</block><block class="punctuation token">]</block><block class=" token"> </block><block class="operator token">=</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            id</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            name</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            year</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            rating</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="punctuation token">}</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Movie id "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">+</block><block class=" token"> </block><block class="string token">" updated."</block><block class="punctuation token">,</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            location</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"/movies/"</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This route will perform the function specified in the above table. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>It will update the object with new details if it exists. If it doesn't exist, it will create a new object. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To check the route, use the following curl command. This will update an existing movie. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To create a new Movie, just change the id to a non-existing id.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">curl </block><block class="operator token">-</block><block class="constant token">X</block><block class=" token"> </block><block class="constant token">PUT</block><block class=" token"> </block><block class="operator token">--</block><block class=" token">data </block><block class="string token">"name = Toy%20story&amp;year = 1995&amp;rating = 8.5"</block><block class=" token"> </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">http</block><block class="punctuation token">:</block><block class="operator token">/</block><block class="operator token">/</block><block class=" token">localhost</block><block class="punctuation token">:</block><block class="number token">3000</block><block class="operator token">/</block><block class=" token">movies</block><block class="operator token">/</block><block class="number token">101</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.10372925592025473" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.10372925592025473" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">13.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>DELETE Route</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Use the following code to create a delete route.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">delete</block><block class="punctuation token">(</block><block class="string token">'/:id'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">var</block><block class=" token"> removeIndex </block><block class="operator token">=</block><block class=" token"> movies</block><block class="punctuation token">.</block><block class="function token">map</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">movie</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">return</block><block class=" token"> movie</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">indexOf</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block><block class="comment token">//Gets us the index of movie with given id.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">removeIndex </block><block class="operator token">===</block><block class=" token"> </block><block class="operator token">-</block><block class="number token">1</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Not found"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      movies</block><block class="punctuation token">.</block><block class="function token">splice</block><block class="punctuation token">(</block><block class=" token">removeIndex</block><block class="punctuation token">,</block><block class=" token"> </block><block class="number token">1</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Movie id "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">+</block><block class=" token"> </block><block class="string token">" removed."</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Check the route in the same way as we checked the other routes. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>On successful deletion(for example id 105), you will get the following output → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">{message: "Movie id 105 removed."}</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Finally, our </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">movies.js</block><block> file will look like the following:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> router </block><block class="operator token">=</block><block class=" token"> express</block><block class="punctuation token">.</block><block class="function token">Router</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> movies </block><block class="operator token">=</block><block class=" token"> </block><block class="punctuation token">[</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">101</block><block class="punctuation token">,</block><block class=" token"> name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Fight Club"</block><block class="punctuation token">,</block><block class=" token"> year</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">1999</block><block class="punctuation token">,</block><block class=" token"> rating</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">8.1</block><block class="punctuation token">}</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">102</block><block class="punctuation token">,</block><block class=" token"> name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Inception"</block><block class="punctuation token">,</block><block class=" token"> year</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">2010</block><block class="punctuation token">,</block><block class=" token"> rating</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">8.7</block><block class="punctuation token">}</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">103</block><block class="punctuation token">,</block><block class=" token"> name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"The Dark Knight"</block><block class="punctuation token">,</block><block class=" token"> year</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">2008</block><block class="punctuation token">,</block><block class=" token"> rating</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">9</block><block class="punctuation token">}</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">{</block><block class=" token">id</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">104</block><block class="punctuation token">,</block><block class=" token"> name</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"12 Angry Men"</block><block class="punctuation token">,</block><block class=" token"> year</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">1957</block><block class="punctuation token">,</block><block class=" token"> rating</block><block class="punctuation token">:</block><block class=" token"> </block><block class="number token">8.9</block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">]</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/:id([0-9]{3,})'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">var</block><block class=" token"> currMovie </block><block class="operator token">=</block><block class=" token"> movies</block><block class="punctuation token">.</block><block class="function token">filter</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">movie</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">movie</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">==</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">return</block><block class=" token"> </block><block class="boolean token">true</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">currMovie</block><block class="punctuation token">.</block><block class=" token">length </block><block class="operator token">==</block><block class=" token"> </block><block class="number token">1</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class=" token">currMovie</block><block class="punctuation token">[</block><block class="number token">0</block><block class="punctuation token">]</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="number token">404</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token">  </block><block class="comment token">//Set status to 404 as movie was not found</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Not Found"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">post</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="comment token">//Check if all fields are provided and are valid:</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]{4}$/g</block><block class="punctuation token">)</block><block class=" token"> </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]\.[0-9]$/g</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="number token">400</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Bad Request"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">var</block><block class=" token"> newId </block><block class="operator token">=</block><block class=" token"> movies</block><block class="punctuation token">[</block><block class=" token">movies</block><block class="punctuation token">.</block><block class=" token">length</block><block class="operator token">-</block><block class="number token">1</block><block class="punctuation token">]</block><block class="punctuation token">.</block><block class=" token">id</block><block class="operator token">+</block><block class="number token">1</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      movies</block><block class="punctuation token">.</block><block class="function token">push</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         id</block><block class="punctuation token">:</block><block class=" token"> newId</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         name</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         year</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         rating</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"New movie created."</block><block class="punctuation token">,</block><block class=" token"> location</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"/movies/"</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> newId</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">put</block><block class="punctuation token">(</block><block class="string token">'/:id'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="comment token">//Check if all fields are provided and are valid:</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]{4}$/g</block><block class="punctuation token">)</block><block class=" token"> </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]\.[0-9]$/g</block><block class="punctuation token">)</block><block class=" token"> </block><block class="operator token">||</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="operator token">!</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">.</block><block class="function token">toString</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">match</block><block class="punctuation token">(</block><block class="regex token">/^[0-9]{3,}$/g</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="number token">400</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Bad Request"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="comment token">//Gets us the index of movie with given id.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">var</block><block class=" token"> updateIndex </block><block class="operator token">=</block><block class=" token"> movies</block><block class="punctuation token">.</block><block class="function token">map</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">movie</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="keyword token">return</block><block class=" token"> movie</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">indexOf</block><block class="punctuation token">(</block><block class="function token">parseInt</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">updateIndex </block><block class="operator token">===</block><block class=" token"> </block><block class="operator token">-</block><block class="number token">1</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="comment token">//Movie not found, create new</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         movies</block><block class="punctuation token">.</block><block class="function token">push</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            id</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            name</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            year</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            rating</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"New movie created."</block><block class="punctuation token">,</block><block class=" token"> location</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"/movies/"</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="comment token">//Update existing movie</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         movies</block><block class="punctuation token">[</block><block class=" token">updateIndex</block><block class="punctuation token">]</block><block class=" token"> </block><block class="operator token">=</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            id</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            name</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">name</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            year</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">year</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            rating</block><block class="punctuation token">:</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">body</block><block class="punctuation token">.</block><block class=" token">rating</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         </block><block class="punctuation token">}</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">         res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Movie id "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">+</block><block class=" token"> </block><block class="string token">" updated."</block><block class="punctuation token">,</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">            location</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"/movies/"</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">router</block><block class="punctuation token">.</block><block class="function token">delete</block><block class="punctuation token">(</block><block class="string token">'/:id'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">var</block><block class=" token"> removeIndex </block><block class="operator token">=</block><block class=" token"> movies</block><block class="punctuation token">.</block><block class="function token">map</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">movie</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="keyword token">return</block><block class=" token"> movie</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">indexOf</block><block class="punctuation token">(</block><block class=" token">req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id</block><block class="punctuation token">)</block><block class="punctuation token">;</block><block class=" token"> </block><block class="comment token">//Gets us the index of movie with given id.</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">if</block><block class="punctuation token">(</block><block class=" token">removeIndex </block><block class="operator token">===</block><block class=" token"> </block><block class="operator token">-</block><block class="number token">1</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">json</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Not found"</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block><block class=" token"> </block><block class="keyword token">else</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      movies</block><block class="punctuation token">.</block><block class="function token">splice</block><block class="punctuation token">(</block><block class=" token">removeIndex</block><block class="punctuation token">,</block><block class=" token"> </block><block class="number token">1</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="punctuation token">{</block><block class=" token">message</block><block class="punctuation token">:</block><block class=" token"> </block><block class="string token">"Movie id "</block><block class=" token"> </block><block class="operator token">+</block><block class=" token"> req</block><block class="punctuation token">.</block><block class=" token">params</block><block class="punctuation token">.</block><block class=" token">id </block><block class="operator token">+</block><block class=" token"> </block><block class="string token">" removed."</block><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="punctuation token">}</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">module</block><block class="punctuation token">.</block><block class=" token">exports </block><block class="operator token">=</block><block class=" token"> router</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.4107214584006674" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.4107214584006674" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">14. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Scaffolding</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Scaffolding</block><block> allows us to easily </block><block style="font-weight: bold;">create a skeleton for a web application</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>We manually create our public directory, add middleware, create separate route files, etc. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">A scaffolding tool sets up all these things for us</block><block> so that we can directly get started with building our application.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold;">scaffolder</block><block> we will use is called </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Yeoman</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>It is a </block><block style="font-weight: bold;">scaffolding tool built for Node.js</block><block> but also has generators for several other frameworks (like flask, rails, Django, etc.). </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To install Yeoman, enter the following command in your terminal → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78); background-color: rgba(155, 155, 155, 0.2);">npm install -g yeoman</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Yeoman</block><block> uses </block><block style="font-weight: bold; color: rgb(208, 2, 27);">generators</block><block> to scaffold out applications. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To check out the generators available on npm to use with </block><block style="font-weight: bold;">Yeoman</block><block>, you can click on </block><block class="role-hyper-link" data-hyper-link-url="http://yeoman.io/generators/" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="http://yeoman.io/generators/" target="_blank" style="color: inherit; text-decoration: inherit;">this link</a></block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>In this tutorial, we will use the '</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">generator-express-simple</block><block>'. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To install this generator, enter the following command in your terminal → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78); background-color: rgba(155, 155, 155, 0.2);">npm install -g generator-express-simple</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>To use this generator, enter the following command → </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78); background-color: rgba(155, 155, 155, 0.2);">yo express-simple test-app</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>You will be asked a few simple questions like what things you want to use with your app.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>It will then create a new application for you, install all the dependencies, add few pages to your application(home page, 404 not found page, etc.) and give you a directory structure to work on.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(128, 128, 128); font-style: italic; flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(144, 19, 254);">Note:</block><block style="font-style: italic; color: rgb(128, 128, 128);"> This generator creates a very simple structure for us. Explore the many generators available for Express and choose the one that fits you right. Steps to working with all generators is the same.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.06365554785289718" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.06365554785289718" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">15. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Error Handling</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Error handling in Express is done using middleware</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>But this middleware has </block><block style="font-weight: bold;">special properties</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The error handling middleware are defined in the same way as other middleware functions, except that error-handling functions </block><block style="font-weight: bold;">MUST have four arguments</block><block> instead of three – </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; font-weight: bold; color: rgb(248, 54, 78);">err, req, res, next</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic;">For example,</block><block> to send a response on any error, we can use:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="parameter punctuation token">,</block><block class="parameter token"> next</block><block class="punctuation token">)</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   console</block><block class="punctuation token">.</block><block class="function token">error</block><block class="punctuation token">(</block><block class=" token">err</block><block class="punctuation token">.</block><block class=" token">stack</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="number token">500</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">'Something broke!'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Till now we were handling errors in the routes itself. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold;">error handling middleware allows us to separate our error logic and send responses accordingly</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">next()</block><block> method we discussed in middleware takes us to next middleware/route handler.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>For error handling, we have the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">next(err)</block><block> function. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>A call to this function skips all middleware and matches us to the next error handler for that route. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let us understand this through an example.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> express </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">require</block><block class="punctuation token">(</block><block class="string token">'express'</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">var</block><block class=" token"> app </block><block class="operator token">=</block><block class=" token"> </block><block class="function token">express</block><block class="punctuation token">(</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">get</block><block class="punctuation token">(</block><block class="string token">'/'</block><block class="punctuation token">,</block><block class=" token"> </block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="punctuation token">)</block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="comment token">//Create an error and pass it to the next function</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">var</block><block class=" token"> err </block><block class="operator token">=</block><block class=" token"> </block><block class="keyword token">new</block><block class=" token"> </block><block class="class-name token">Error</block><block class="punctuation token">(</block><block class="string token">"Something went wrong"</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="function token">next</block><block class="punctuation token">(</block><block class=" token">err</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">/*</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token"> * other route handlers and middleware here</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token"> * ....</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token"> */</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="comment token">//An error handling middleware</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">use</block><block class="punctuation token">(</block><block class="keyword token">function</block><block class="punctuation token">(</block><block class="parameter token">err</block><block class="parameter punctuation token">,</block><block class="parameter token"> req</block><block class="parameter punctuation token">,</block><block class="parameter token"> res</block><block class="parameter punctuation token">,</block><block class="parameter token"> next</block><block class="punctuation token">)</block><block class=" token"> </block><block class="punctuation token">{</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">status</block><block class="punctuation token">(</block><block class="number token">500</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   res</block><block class="punctuation token">.</block><block class="function token">send</block><block class="punctuation token">(</block><block class="string token">"Oops, something went wrong."</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="punctuation token">}</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">app</block><block class="punctuation token">.</block><block class="function token">listen</block><block class="punctuation token">(</block><block class="number token">3000</block><block class="punctuation token">)</block><block class="punctuation token">;</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>This error handling middleware can be strategically placed after routes or contain conditions to detect error types and respond to the clients accordingly.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.4029508181874283" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.4029508181874283" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">16. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Best Practices</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Unlike Django and Rails which have a defined way of doing things, file structure, etc., Express does not follow a defined way → This means you can structure the application the way you like. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>But as your application grows in size, it is very difficult to maintain it if it doesn't have a well-defined structure. In this chapter, we will look at the generally used directory structures and separation of concerns to build our applications.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>First, we will discuss the </block><block style="font-weight: bold;">best practices for creating node and Express applications</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Always begin a node project using </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">npm init</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Always install dependencies with a </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">--save</block><block> or </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">--save-dev</block><block>. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>This will ensure that if you move to a different platform, you can just </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">run npm install</block><block> to install all dependencies.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Stick with lowercase file names and </block><block style="font-weight: bold;">camelCase</block><block> variables. If you look at any npm module, its named in lowercase and separated with dashes. Whenever you require these modules, use camelCase.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Don’t push </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(248, 54, 78);">node_modules</block><block> to your repositories. Instead npm installs everything on development machines.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Use a </block><block style="font-weight: bold;">config file</block><block> to store variables</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">– </prefix><blocks><baselineblock class="inline"></baselineblock><block>Group and isolate routes to their own file. For example, take the CRUD operations in the movies example we saw in the REST API page.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8981230668711833" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8981230668711833" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">16.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Directory Structure</block></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.15398467615700873" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.15398467615700873" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">16.1.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Websites</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>Express does not have a community defined structure for creating applications. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>The following is a majorly used project structure for a website.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 12px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">test</block><block class="operator token">-</block><block class=" token">project</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   node_modules</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   config</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      db</block><block class="punctuation token">.</block><block class=" token">js                </block><block class="comment token">//Database connection and configuration</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      credentials</block><block class="punctuation token">.</block><block class=" token">js       </block><block class="comment token">//Passwords/API keys for external services used by your app</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      config</block><block class="punctuation token">.</block><block class=" token">js            </block><block class="comment token">//Other environment variables</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   models</block><block class="operator token">/</block><block class=" token">                 </block><block class="comment token">//For mongoose schemas</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      users</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      things</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   routes</block><block class="operator token">/</block><block class=" token">                 </block><block class="comment token">//All routes for different entities in different files </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      users</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      things</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   views</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      index</block><block class="punctuation token">.</block><block class=" token">pug</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      </block><block class="number token">404.</block><block class=" token">pug</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">        </block><block class="operator token">...</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">public</block><block class="operator token">/</block><block class=" token">                 </block><block class="comment token">//All static content being served</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      images</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      css</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      javascript</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   app</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   routes</block><block class="punctuation token">.</block><block class=" token">js               </block><block class="comment token">//Require all routes in this and then require this file in </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   app</block><block class="punctuation token">.</block><block class=" token">js </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">package</block><block class="punctuation token">.</block><block class=" token">json</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(128, 128, 128); font-style: italic; flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(144, 19, 254);">Note:</block><block style="font-style: italic; color: rgb(128, 128, 128);"> There are other approaches to build websites with Express as well. You can build a website using the </block><block style="font-weight: bold; font-style: italic; color: rgb(0, 0, 0);">MVC design pattern</block><block style="font-style: italic; color: rgb(128, 128, 128);">. For more information, you can visit </block><block class="role-hyper-link" data-hyper-link-url="https://www.terlici.com/2014/08/25/best-practices-express-structure.html" style="text-decoration: underline; font-style: italic; color: rgb(74, 144, 226);"><a href="https://www.terlici.com/2014/08/25/best-practices-express-structure.html" target="_blank" style="color: inherit; text-decoration: inherit;">this link</a></block><block style="font-style: italic; color: rgb(128, 128, 128);">.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.39351959362545086" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.39351959362545086" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">16.1.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>RESTful APIs</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>APIs are simpler to design; they don't need a public or a views directory. Use the following structure to build APIs:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 12px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">test</block><block class="operator token">-</block><block class=" token">project</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   node_modules</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   config</block><block class="operator token">/</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      db</block><block class="punctuation token">.</block><block class=" token">js                </block><block class="comment token">//Database connection and configuration</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      credentials</block><block class="punctuation token">.</block><block class=" token">js       </block><block class="comment token">//Passwords/API keys for external services used by your app</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   models</block><block class="operator token">/</block><block class=" token">                 </block><block class="comment token">//For mongoose schemas</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      users</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      things</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   routes</block><block class="operator token">/</block><block class=" token">                 </block><block class="comment token">//All routes for different entities in different files </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      users</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">      things</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   app</block><block class="punctuation token">.</block><block class=" token">js</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   routes</block><block class="punctuation token">.</block><block class=" token">js               </block><block class="comment token">//Require all routes in this and then require this file in </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   app</block><block class="punctuation token">.</block><block class=" token">js </block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">   </block><block class="keyword token">package</block><block class="punctuation token">.</block><block class=" token">json</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.48164579679277675" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.48164579679277675" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">17. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Resources</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">• </prefix><blocks><baselineblock class="inline"></baselineblock><block>TutorialsPoint</block></blocks></line></area-container></editarea><div></div></math-edit-container></math-type></editor-container></body></html>