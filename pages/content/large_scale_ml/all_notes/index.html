<!doctype html><html style="overflow:auto;height:auto;width:auto;"><head><title>all_notes</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><style>@font-face {
	font-family: Asana;
	src: url("fonts/Asana-Math.otf") format("opentype");
}

@font-face {
	font-family: Asana-Math;
	src: url("fonts/Asana-math-mode.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathbb;
	src: url("fonts/types-generated/Asana-mathbb.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathit;
	src: url("fonts/types-generated/Asana-mathit.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathcal;
	src: url("fonts/types-generated/Asana-mathcal.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathscr;
	src: url("fonts/types-generated/Asana-mathscr.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathfrak;
	src: url("fonts/types-generated/Asana-mathfrak.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathsf;
	src: url("fonts/types-generated/Asana-mathsf.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathtt;
	src: url("fonts/types-generated/Asana-mathtt.otf") format("opentype");
}

@font-face {
	font-family: Asana-Mathrm;
	src: url("fonts/types-generated/Asana-mathrm.otf") format("opentype");
}

@font-face {
	font-family: 'FontAwesome';
	src: url('fonts/icomoon.eot');
	src: url('fonts/icomoon.eot') format('embedded-opentype'), url('fonts/icomoon.woff') format('woff'), url('fonts/icomoon.ttf') format('truetype'), url('fonts/icomoon.svg') format('svg');
	font-weight: normal;
	font-style: normal;
}

/**
Latin Modern
**/

@font-face {
	font-family: LatinModern;
	src: url("fonts/latinmodern-math.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Math;
	src: url("fonts/latinmodern-math-mode.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathbb;
	src: url("fonts/types-generated/latinmodern-mathbb.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathit;
	src: url("fonts/types-generated/latinmodern-mathit.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathcal;
	src: url("fonts/types-generated/latinmodern-mathcal.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathscr;
	src: url("fonts/types-generated/latinmodern-mathscr.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathfrak;
	src: url("fonts/types-generated/latinmodern-mathfrak.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathsf;
	src: url("fonts/types-generated/latinmodern-mathsf.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathtt;
	src: url("fonts/types-generated/latinmodern-mathtt.otf") format("opentype");
}

@font-face {
	font-family: LatinModern-Mathrm;
	src: url("fonts/types-generated/latinmodern-mathrm.otf") format("opentype");
}

/***********************************************************/

/**
Thicker Latin Modern
**/

@font-face {
	font-family: ThickerLm;
	src: url("fonts/thickerlm-math.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Math;
	src: url("fonts/thickerlm-math-mode.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathbb;
	src: url("fonts/types-generated/thickerlm-mathbb.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathit;
	src: url("fonts/types-generated/thickerlm-mathit.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathcal;
	src: url("fonts/types-generated/thickerlm-mathcal.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathscr;
	src: url("fonts/types-generated/thickerlm-mathscr.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathfrak;
	src: url("fonts/types-generated/thickerlm-mathfrak.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathsf;
	src: url("fonts/types-generated/thickerlm-mathsf.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathtt;
	src: url("fonts/types-generated/thickerlm-mathtt.otf") format("opentype");
}

@font-face {
	font-family: ThickerLm-Mathrm;
	src: url("fonts/types-generated/thickerlm-mathrm.otf") format("opentype");
}

/***********************************************************/

/* Computer Modern */

@font-face {
	font-family: 'Computer Modern Sans';
	src: url('fonts/others-text-mode/computer-modern/Sans/cmunss.otf') format("opentype");
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Sans';
	src: url('fonts/others-text-mode/computer-modern/Sans/cmunsx.otf') format("opentype");
	font-weight: bold;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Sans';
	src: url('fonts/others-text-mode/computer-modern/Sans/cmunsi.otf') format("opentype");
	font-weight: normal;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Sans';
	src: url('fonts/others-text-mode/computer-modern/Sans/cmunso.otf') format("opentype");
	font-weight: bold;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Serif';
	src: url('fonts/others-text-mode/computer-modern/Serif/cmunrm.otf') format("opentype");
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Serif';
	src: url('fonts/others-text-mode/computer-modern/Serif/cmunbx.otf') format("opentype");
	font-weight: bold;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Serif';
	src: url('fonts/others-text-mode/computer-modern/Serif/cmunti.otf') format("opentype");
	font-weight: normal;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Serif';
	src: url('fonts/others-text-mode/computer-modern/Serif/cmunbi.otf') format("opentype");
	font-weight: bold;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Typewriter';
	src: url('fonts/others-text-mode/computer-modern/Typewriter/cmuntt.otf') format("opentype");
	font-weight: normal;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Typewriter';
	src: url('fonts/others-text-mode/computer-modern/Typewriter/cmuntb.otf') format("opentype");
	font-weight: bold;
	font-style: normal;
}

@font-face {
	font-family: 'Computer Modern Typewriter';
	src: url('fonts/others-text-mode/computer-modern/Typewriter/cmunit.otf') format("opentype");
	font-weight: normal;
	font-style: italic;
}

@font-face {
	font-family: 'Computer Modern Typewriter';
	src: url('fonts/others-text-mode/computer-modern/Typewriter/cmuntx.otf') format("opentype");
	font-weight: bold;
	font-style: italic;
}

/**/

/**
Sans Math + Liberation Font
**/

@font-face {
	font-family: Sans;
	src: url("fonts/Sans-Math.otf") format("opentype");
}

@font-face {
	font-family: Sans-Math;
	src: url("fonts/Sans-Math-mode.otf") format("opentype");
}

@font-face {
	font-family: Sans-Bold;
	src: url("fonts/types-generated/Sans-bold.otf") format("opentype");
	font-weight: bold;
}

@font-face {
	font-family: Sans-Mathbb;
	src: url("fonts/types-generated/Asana-mathbb.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathit;
	src: url("fonts/types-generated/Sans-mathit.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathcal;
	src: url("fonts/types-generated/Asana-mathcal.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathscr;
	src: url("fonts/types-generated/Asana-mathscr.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathfrak;
	src: url("fonts/types-generated/Asana-mathfrak.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathsf;
	src: url("fonts/types-generated/Asana-mathsf.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathtt;
	src: url("fonts/types-generated/Asana-mathtt.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathrm;
	src: url("fonts/types-generated/Asana-mathrm.otf") format("opentype");
}

@font-face {
	font-family: Sans-Mathbf;
	src: url("fonts/types-generated/Sans-mathbf.otf") format("opentype");
	font-weight: bold;
}

/***********************************************************/</style><style>

compositeblock {
  display: inline-block;
  position: relative;
  text-align: left;
  unicode-bidi: isolate;
}
compositeblock.middle {
  vertical-align: middle;
}
latex-symbol-icon {
  display: inline-block;
  padding: 2px;
  border: 1px solid transparent;
  cursor: pointer;
}
latex-symbol-icon:hover,
latex-symbol-icon.selected {
  background: white;
  border: 1px solid lightgray;
}
inline {
  display: inline-block;
}
base-line-indicator {
  display: inline-block;
  overflow: hidden;
  width: 0px;
  height: inherit;
}

math-type .constant-text > constant-text {
  margin-left: 0.2em;
  margin-right: 0.2em;
}
math-type .constant-text > constant-text.close-left {
  margin-left: 0;
}
math-type .constant-text > constant-text.close-right {
  margin-right: 0;
}



/**different context*/
/**different context*/
math-type ref-tag {
  position: absolute;
  right: 5px;
  top: 50%;
  transform: translate(0, -50%);
  z-index: 8;
  cursor: pointer;
}
math-type ref-tag > label {
  cursor: pointer;
}
math-type ref-tag:hover {
  text-decoration: underline;
}
math-type ref-tag.line-tag {
  transition: background 0.4s;
}
math-type ref-tag.empty-line-tag {
  opacity: 0.5;
  animation: fadein 0.5s;
}
math-type tr.math-row ref-tag {
  left: calc(100% + 20px);
  right: unset;
}
@keyframes fadein {
  0% {
    opacity: 0;
  }
  70% {
    opacity: 0;
  }
  100% {
    opacity: 0.5;
  }
}







.color-picker no-color-select {
  display: block;
  text-align: center;
  /* width: 100%; */
  /* height: 20px; */
  background: white;
  border: 1px solid lightgray;
  margin-bottom: 2px;
  color: gray;
  padding: 2px;
  cursor: default;
  border-radius: 0;
  padding-bottom: 2px;
  margin-bottom: 3px;
  margin-left: -1px;
  margin-right: -1px;
  font-size: 13px;
}
.color-picker no-color-select:hover {
  color: black;
}
.color-picker color-select {
  position: absolute;
  top: 30px;
  left: 0px;
  background: white;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type editarea.no-area-container,
math-type editarea.text-mode,
math-type area-container,
math-type .print-as-area-container {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
math-type editarea.no-area-container > line,
math-type editarea.text-mode > line,
math-type area-container > line,
math-type .print-as-area-container > line {
  min-width: 0.3em;
  position: relative;
  display: block;
  width: 100%;
  align-items: baseline;
  flex-wrap: wrap;
  box-sizing: border-box;
  flex-wrap: nowrap;
  line-height: 1.2;
  white-space: nowrap;
}
math-type editarea.no-area-container > line block,
math-type editarea.text-mode > line block,
math-type area-container > line block,
math-type .print-as-area-container > line block {
  white-space: pre;
}
math-type editarea.no-area-container > line.single-block > blocks > baselineblock,
math-type editarea.text-mode > line.single-block > blocks > baselineblock,
math-type area-container > line.single-block > blocks > baselineblock,
math-type .print-as-area-container > line.single-block > blocks > baselineblock {
  display: none;
}
math-type editarea.no-area-container > line > blocks,
math-type editarea.text-mode > line > blocks,
math-type area-container > line > blocks,
math-type .print-as-area-container > line > blocks {
  /**
            Different between inline and inline-block is about whether Section Text will be wrap in next wrapped line 
            */
  display: inline-block;
  text-align: left;
}
math-type editarea.no-area-container > line.root,
math-type editarea.text-mode > line.root,
math-type area-container > line.root,
math-type .print-as-area-container > line.root,
math-type editarea.no-area-container > line.text-mode,
math-type editarea.text-mode > line.text-mode,
math-type area-container > line.text-mode,
math-type .print-as-area-container > line.text-mode {
  display: block;
  font-style: normal;
}
math-type editarea.no-area-container > line.root > prefix,
math-type editarea.text-mode > line.root > prefix,
math-type area-container > line.root > prefix,
math-type .print-as-area-container > line.root > prefix,
math-type editarea.no-area-container > line.text-mode > prefix,
math-type editarea.text-mode > line.text-mode > prefix,
math-type area-container > line.text-mode > prefix,
math-type .print-as-area-container > line.text-mode > prefix {
  white-space: pre;
  display: inline-block;
  cursor: default;
  text-align: left;
}
math-type editarea.no-area-container > line.root > blocks,
math-type editarea.text-mode > line.root > blocks,
math-type area-container > line.root > blocks,
math-type .print-as-area-container > line.root > blocks,
math-type editarea.no-area-container > line.text-mode > blocks,
math-type editarea.text-mode > line.text-mode > blocks,
math-type area-container > line.text-mode > blocks,
math-type .print-as-area-container > line.text-mode > blocks {
  /** should not wrap here*/
  align-items: baseline;
  box-sizing: border-box;
}
math-type editarea.no-area-container > line.root > blocks > block,
math-type editarea.text-mode > line.root > blocks > block,
math-type area-container > line.root > blocks > block,
math-type .print-as-area-container > line.root > blocks > block,
math-type editarea.no-area-container > line.text-mode > blocks > block,
math-type editarea.text-mode > line.text-mode > blocks > block,
math-type area-container > line.text-mode > blocks > block,
math-type .print-as-area-container > line.text-mode > blocks > block {
  white-space: pre-wrap;
  white-space: break-spaces;
}
math-type editarea.no-area-container > line.root.full-line-block-inside > prefix,
math-type editarea.text-mode > line.root.full-line-block-inside > prefix,
math-type area-container > line.root.full-line-block-inside > prefix,
math-type .print-as-area-container > line.root.full-line-block-inside > prefix,
math-type editarea.no-area-container > line.text-mode.full-line-block-inside > prefix,
math-type editarea.text-mode > line.text-mode.full-line-block-inside > prefix,
math-type area-container > line.text-mode.full-line-block-inside > prefix,
math-type .print-as-area-container > line.text-mode.full-line-block-inside > prefix {
  float: left;
  vertical-align: top;
}
math-type editarea.no-area-container > line.root.full-line-block-inside > blocks,
math-type editarea.text-mode > line.root.full-line-block-inside > blocks,
math-type area-container > line.root.full-line-block-inside > blocks,
math-type .print-as-area-container > line.root.full-line-block-inside > blocks,
math-type editarea.no-area-container > line.text-mode.full-line-block-inside > blocks,
math-type editarea.text-mode > line.text-mode.full-line-block-inside > blocks,
math-type area-container > line.text-mode.full-line-block-inside > blocks,
math-type .print-as-area-container > line.text-mode.full-line-block-inside > blocks {
  display: block;
  width: 100%;
}
math-type editarea.no-area-container > line.root.full-line-block-inside > blocks > baselineblock,
math-type editarea.text-mode > line.root.full-line-block-inside > blocks > baselineblock,
math-type area-container > line.root.full-line-block-inside > blocks > baselineblock,
math-type .print-as-area-container > line.root.full-line-block-inside > blocks > baselineblock,
math-type editarea.no-area-container > line.text-mode.full-line-block-inside > blocks > baselineblock,
math-type editarea.text-mode > line.text-mode.full-line-block-inside > blocks > baselineblock,
math-type area-container > line.text-mode.full-line-block-inside > blocks > baselineblock,
math-type .print-as-area-container > line.text-mode.full-line-block-inside > blocks > baselineblock {
  display: inline-block;
  float: left;
}
math-type editarea.no-area-container > line.root.has-rtl.align-justify,
math-type editarea.text-mode > line.root.has-rtl.align-justify,
math-type area-container > line.root.has-rtl.align-justify,
math-type .print-as-area-container > line.root.has-rtl.align-justify,
math-type editarea.no-area-container > line.text-mode.has-rtl.align-justify,
math-type editarea.text-mode > line.text-mode.has-rtl.align-justify,
math-type area-container > line.text-mode.has-rtl.align-justify,
math-type .print-as-area-container > line.text-mode.has-rtl.align-justify {
  direction: rtl;
}
math-type editarea.no-area-container > line.root.section,
math-type editarea.text-mode > line.root.section,
math-type area-container > line.root.section,
math-type .print-as-area-container > line.root.section,
math-type editarea.no-area-container > line.text-mode.section,
math-type editarea.text-mode > line.text-mode.section,
math-type area-container > line.text-mode.section,
math-type .print-as-area-container > line.text-mode.section {
  text-align: left;
}
math-type editarea.no-area-container > line.root.section > blocks,
math-type editarea.text-mode > line.root.section > blocks,
math-type area-container > line.root.section > blocks,
math-type .print-as-area-container > line.root.section > blocks,
math-type editarea.no-area-container > line.text-mode.section > blocks,
math-type editarea.text-mode > line.text-mode.section > blocks,
math-type area-container > line.text-mode.section > blocks,
math-type .print-as-area-container > line.text-mode.section > blocks {
  /**
                    Different between inline and inline-block is about whether Section Text will be wrap in next wrapped line 
                    */
  display: inline;
}
math-type editarea.no-area-container > line.root.section.has-rtl,
math-type editarea.text-mode > line.root.section.has-rtl,
math-type area-container > line.root.section.has-rtl,
math-type .print-as-area-container > line.root.section.has-rtl,
math-type editarea.no-area-container > line.text-mode.section.has-rtl,
math-type editarea.text-mode > line.text-mode.section.has-rtl,
math-type area-container > line.text-mode.section.has-rtl,
math-type .print-as-area-container > line.text-mode.section.has-rtl {
  direction: rtl;
}
math-type editarea.no-area-container > line.root.section.has-rtl > prefix,
math-type editarea.text-mode > line.root.section.has-rtl > prefix,
math-type area-container > line.root.section.has-rtl > prefix,
math-type .print-as-area-container > line.root.section.has-rtl > prefix,
math-type editarea.no-area-container > line.text-mode.section.has-rtl > prefix,
math-type editarea.text-mode > line.text-mode.section.has-rtl > prefix,
math-type area-container > line.text-mode.section.has-rtl > prefix,
math-type .print-as-area-container > line.text-mode.section.has-rtl > prefix {
  direction: rtl;
  order: 1;
}
math-type editarea.no-area-container > line.root.theorem,
math-type editarea.text-mode > line.root.theorem,
math-type area-container > line.root.theorem,
math-type .print-as-area-container > line.root.theorem,
math-type editarea.no-area-container > line.text-mode.theorem,
math-type editarea.text-mode > line.text-mode.theorem,
math-type area-container > line.text-mode.theorem,
math-type .print-as-area-container > line.text-mode.theorem {
  padding-top: 0.3em;
  padding-bottom: 0.3em;
}
math-type editarea.no-area-container > line > prefix,
math-type editarea.text-mode > line > prefix,
math-type area-container > line > prefix,
math-type .print-as-area-container > line > prefix {
  text-align: right;
}
math-type editarea.no-area-container > line.has-indent,
math-type editarea.text-mode > line.has-indent,
math-type area-container > line.has-indent,
math-type .print-as-area-container > line.has-indent {
  display: flex;
  justify-content: flex-start;
}
math-type editarea.no-area-container > line.has-rtl.has-indent > prefix,
math-type editarea.text-mode > line.has-rtl.has-indent > prefix,
math-type area-container > line.has-rtl.has-indent > prefix,
math-type .print-as-area-container > line.has-rtl.has-indent > prefix {
  direction: rtl;
  order: 1;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-0,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-0,
math-type area-container > line.has-rtl.has-indent.indent-0,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-0 {
  padding-left: 0;
  padding-right: 30px;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-1,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-1,
math-type area-container > line.has-rtl.has-indent.indent-1,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-1 {
  padding-left: 0;
  padding-right: 65px;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-2,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-2,
math-type area-container > line.has-rtl.has-indent.indent-2,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-2 {
  padding-left: 0;
  padding-right: 105px;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-3,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-3,
math-type area-container > line.has-rtl.has-indent.indent-3,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-3 {
  padding-left: 0;
  padding-right: 145px;
}
math-type editarea.no-area-container > line.has-rtl.has-indent.indent-4,
math-type editarea.text-mode > line.has-rtl.has-indent.indent-4,
math-type area-container > line.has-rtl.has-indent.indent-4,
math-type .print-as-area-container > line.has-rtl.has-indent.indent-4 {
  padding-left: 0;
  padding-right: 185px;
}
math-type editarea.no-area-container > line.indent-0,
math-type editarea.text-mode > line.indent-0,
math-type area-container > line.indent-0,
math-type .print-as-area-container > line.indent-0 {
  padding-left: 30px;
}
math-type editarea.no-area-container > line.indent-1,
math-type editarea.text-mode > line.indent-1,
math-type area-container > line.indent-1,
math-type .print-as-area-container > line.indent-1 {
  padding-left: 65px;
}
math-type editarea.no-area-container > line.indent-2,
math-type editarea.text-mode > line.indent-2,
math-type area-container > line.indent-2,
math-type .print-as-area-container > line.indent-2 {
  padding-left: 105px;
}
math-type editarea.no-area-container > line.indent-3,
math-type editarea.text-mode > line.indent-3,
math-type area-container > line.indent-3,
math-type .print-as-area-container > line.indent-3 {
  padding-left: 145px;
}
math-type editarea.no-area-container > line.indent-4,
math-type editarea.text-mode > line.indent-4,
math-type area-container > line.indent-4,
math-type .print-as-area-container > line.indent-4 {
  padding-left: 185px;
}
math-type editarea.no-area-container > line.math-container-selected,
math-type editarea.text-mode > line.math-container-selected,
math-type area-container > line.math-container-selected,
math-type .print-as-area-container > line.math-container-selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type editarea.no-area-container > line.math-container,
math-type editarea.text-mode > line.math-container,
math-type area-container > line.math-container,
math-type .print-as-area-container > line.math-container {
  font-family: 'Asana';
  justify-content: center;
  text-align: center;
  text-align-last: auto;
  display: flex;
}
math-type editarea.no-area-container > line.math-container block,
math-type editarea.text-mode > line.math-container block,
math-type area-container > line.math-container block,
math-type .print-as-area-container > line.math-container block {
  white-space: pre;
}
math-type editarea.no-area-container > line.align-center,
math-type editarea.text-mode > line.align-center,
math-type area-container > line.align-center,
math-type .print-as-area-container > line.align-center {
  text-align: center;
  text-align-last: auto;
}
math-type editarea.no-area-container > line.align-center.has-indent,
math-type editarea.text-mode > line.align-center.has-indent,
math-type area-container > line.align-center.has-indent,
math-type .print-as-area-container > line.align-center.has-indent {
  justify-content: center;
}
math-type editarea.no-area-container > line.align-center.section,
math-type editarea.text-mode > line.align-center.section,
math-type area-container > line.align-center.section,
math-type .print-as-area-container > line.align-center.section {
  text-align: center;
  text-align-last: auto;
}
math-type editarea.no-area-container > line.align-center > blocks,
math-type editarea.text-mode > line.align-center > blocks,
math-type area-container > line.align-center > blocks,
math-type .print-as-area-container > line.align-center > blocks {
  text-align: center;
  text-align-last: auto;
}
math-type editarea.no-area-container > line.align-justify,
math-type editarea.text-mode > line.align-justify,
math-type area-container > line.align-justify,
math-type .print-as-area-container > line.align-justify {
  text-align: justify;
}
math-type editarea.no-area-container > line.align-justify.section,
math-type editarea.text-mode > line.align-justify.section,
math-type area-container > line.align-justify.section,
math-type .print-as-area-container > line.align-justify.section {
  text-align: justify;
}
math-type editarea.no-area-container > line.align-justify > blocks,
math-type editarea.text-mode > line.align-justify > blocks,
math-type area-container > line.align-justify > blocks,
math-type .print-as-area-container > line.align-justify > blocks {
  text-align: justify;
}
math-type editarea.no-area-container > line.align-left,
math-type editarea.text-mode > line.align-left,
math-type area-container > line.align-left,
math-type .print-as-area-container > line.align-left {
  text-align: left;
}
math-type editarea.no-area-container > line.align-left > blocks,
math-type editarea.text-mode > line.align-left > blocks,
math-type area-container > line.align-left > blocks,
math-type .print-as-area-container > line.align-left > blocks {
  text-align: left;
}
math-type editarea.no-area-container > line.align-right,
math-type editarea.text-mode > line.align-right,
math-type area-container > line.align-right,
math-type .print-as-area-container > line.align-right {
  text-align: right;
}
math-type editarea.no-area-container > line.align-right.has-indent,
math-type editarea.text-mode > line.align-right.has-indent,
math-type area-container > line.align-right.has-indent,
math-type .print-as-area-container > line.align-right.has-indent {
  justify-content: flex-end;
}
math-type editarea.no-area-container > line.align-right.section,
math-type editarea.text-mode > line.align-right.section,
math-type area-container > line.align-right.section,
math-type .print-as-area-container > line.align-right.section {
  text-align: right;
}
math-type editarea.no-area-container > line.align-right > blocks,
math-type editarea.text-mode > line.align-right > blocks,
math-type area-container > line.align-right > blocks,
math-type .print-as-area-container > line.align-right > blocks {
  text-align: right;
}
math-type editarea.no-area-container > line > blocks > block,
math-type editarea.text-mode > line > blocks > block,
math-type area-container > line > blocks > block,
math-type .print-as-area-container > line > blocks > block {
  display: inline;
}
math-type editarea.no-area-container,
math-type area-container {
  align-items: initial;
}
math-type editarea.root-editor {
  align-items: initial;
  display: block;
  color: black;
  fill: black;
  stroke: black;
  border-color: black;
}
math-type editarea.root-editor.read-only {
  cursor: default;
}
math-type editarea.root-editor.read-only block {
  cursor: default;
}
math-type editarea.root-editor > area-container {
  display: block;
}
math-type area-container {
  width: 100%;
}
math-type block {
  cursor: text;
}
math-type editarea {
  box-sizing: border-box;
  display: flex;
  overflow-x: visible;
  align-items: center;
  justify-content: center;
  flex-direction: row;
  flex-wrap: nowrap;
}
math-type editarea block {
  cursor: text;
}
math-type editarea.high-order {
  position: relative;
  z-index: 10;
}
math-type editarea.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type editarea.bordered {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type editarea.center > area-container > line,
math-type editarea.center > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
math-type editarea.left > area-container > line,
math-type editarea.left > line {
  justify-content: flex-start;
  text-align: left;
}
math-type editarea.right > area-container > line,
math-type editarea.right > line {
  justify-content: flex-end;
  text-align: right;
}
math-type editarea > area-baseline {
  width: 0;
  overflow: hidden;
  display: inline-block;
  float: left;
}
math-type setting.mt-common-dialog.line-tag-setting {
  transform: translate(0, -100%);
  position: absolute;
  font-family: serif;
  font-size: 11px;
  top: -4px;
  left: -10px;
  outline: none;
}
math-type setting.mt-common-dialog.line-tag-setting i {
  font-style: normal;
  padding: 1px 3px;
}
baselineblock {
  height: 0px;
  display: inline-block;
  width: 0;
  overflow: hidden;
}
baselineblock.inline {
  display: inline;
}
emptyblock {
  white-space: pre;
}
composite {
  display: inline-block;
}
block.Binary {
  padding: 0 0.2em;
}
block.Relation {
  padding: 0 0.3em;
}
block.Punctuation {
  padding-right: 0.2em;
}




check-box-wrapper {
  display: block;
  font-size: 11px;
  color: gray;
  cursor: pointer;
}
check-box-wrapper.disabled {
  color: lightgray;
}
check-box-wrapper.disabled check-box-rect {
  border: 1px solid #e2e1e1;
  color: lightgray;
}
check-box-wrapper.disabled check-box-rect:hover {
  border: 1px solid #e2e1e1;
}
check-box-wrapper.mobile-tablet check-box-rect {
  margin-top: -3px;
  width: 16px;
  height: 15px;
  font-size: 13px;
}
check-box-wrapper.mobile-tablet check-box-rect > i {
  left: 2px;
  top: 1px;
}
check-box-wrapper check-box-rect {
  width: 1.4em;
  height: 1.35em;
  border: 1px solid #c3c2c2;
  position: relative;
  display: inline-flex;
  font-size: 11px;
  color: green;
  background: white;
  justify-content: center;
  align-items: center;
}
check-box-wrapper check-box-rect:hover {
  border: 1px solid gray;
}
check-box-wrapper.unchecked check-box-rect > i {
  visibility: hidden;
}

vcomposed-symbol {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
  flex-direction: column;
}
vcomposed-symbol > start {
  display: block;
  float: left;
  overflow: hidden;
  margin-bottom: -0.02em;
}
vcomposed-symbol > middle-center {
  overflow: hidden;
  margin-top: -0.02em;
  margin-bottom: -0.02em;
}
vcomposed-symbol > middle {
  display: block;
  flex-grow: 1;
  position: relative;
  overflow: hidden;
  margin-top: -0.02em;
  margin-bottom: -0.02em;
}
vcomposed-symbol > middle > fixed {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
}
vcomposed-symbol > middle > fixed > inside {
  display: block;
  overflow: hidden;
}
vcomposed-symbol > end {
  margin-top: -0.02em;
  display: block;
  overflow: hidden;
}


.open-brace,
.close-brace {
  padding: 0 0.1em;
  width: 0.5em;
  min-width: 0.5em;
}
.open-brace > start,
.close-brace > start {
  min-height: 0.75em;
  height: 0.75em;
}
.open-brace > middle-center,
.close-brace > middle-center {
  min-height: 0.6em;
  height: 0.6em;
}
.open-brace > end,
.close-brace > end {
  min-height: 0.75em;
  height: 0.75em;
}
.open-bracket,
.close-bracket {
  width: 0.43em;
  min-width: 0.43em;
}
.open-bracket > start,
.close-bracket > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-bracket > end,
.close-bracket > end {
  height: 0.7em;
  min-height: 0.7em;
}
.open-parenthesis,
.close-parenthesis {
  width: 0.45em;
  min-width: 0.45em;
}
.open-parenthesis > start,
.close-parenthesis > start {
  min-height: 0.85em;
  height: 0.85em;
}
.open-parenthesis > end,
.close-parenthesis > end {
  min-height: 0.8em;
  height: 0.8em;
}
.open-floor,
.close-floor {
  width: 0.45em;
  min-width: 0.45em;
}
.open-floor > end,
.close-floor > end {
  height: 0.35em;
  min-height: 0.35em;
}
.open-ceil,
.close-ceil {
  width: 0.45em;
  min-width: 0.45em;
}
.open-ceil > start,
.close-ceil > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-vert,
.close-vert {
  width: 0.3em;
  min-width: 0.3em;
}
.open-Vert,
.close-Vert {
  width: 0.5em;
  min-width: 0.5em;
}
.open-uparrow,
.close-uparrow {
  width: 0.45em;
  min-width: 0.45em;
}
.open-uparrow > start,
.close-uparrow > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-downarrow,
.close-downarrow {
  width: 0.45em;
  min-width: 0.45em;
}
.open-downarrow > end,
.close-downarrow > end {
  height: 0.4em;
  min-height: 0.4em;
}
.open-updownarrow,
.close-updownarrow {
  width: 0.45em;
  min-width: 0.45em;
}
.open-updownarrow > start,
.close-updownarrow > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-updownarrow > end,
.close-updownarrow > end {
  height: 0.4em;
  min-height: 0.4em;
}
.open-Uparrow,
.close-Uparrow {
  width: 0.7em;
  min-width: 0.7em;
}
.open-Uparrow > start,
.close-Uparrow > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-Downarrow,
.close-Downarrow {
  width: 0.7em;
  min-width: 0.7em;
}
.open-Downarrow > end,
.close-Downarrow > end {
  height: 0.5em;
  min-height: 0.5em;
}
.open-Updownarrow,
.close-Updownarrow {
  width: 0.6em;
  min-width: 0.6em;
}
.open-Updownarrow > start,
.close-Updownarrow > start {
  height: 0.5em;
  min-height: 0.5em;
}
.open-Updownarrow > end,
.close-Updownarrow > end {
  height: 0.5em;
  min-height: 0.5em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
opensymbolblock,
closesymbolblock,
.middle-vert-symbol {
  display: inline-flex;
  align-items: center;
  position: relative;
  text-align: left;
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}
opensymbolblock.normal,
closesymbolblock.normal,
.middle-vert-symbol.normal {
  margin-top: 0;
  margin-bottom: 0;
}
opensymbolblock > hidden-span,
closesymbolblock > hidden-span,
.middle-vert-symbol > hidden-span {
  visibility: hidden;
  width: 0px;
}
opensymbolblock[type='brace'],
closesymbolblock[type='brace'],
.middle-vert-symbol[type='brace'] {
  margin-left: 0.05em;
  margin-right: 0.05em;
  overflow: visible;
}
opensymbolblock[type='brace'] > svg,
closesymbolblock[type='brace'] > svg,
.middle-vert-symbol[type='brace'] > svg {
  overflow: visible;
  width: 0.5em;
  height: 100%;
}
opensymbolblock[type='parenthesis'] > svg,
closesymbolblock[type='parenthesis'] > svg,
.middle-vert-symbol[type='parenthesis'] > svg {
  width: 0.5em;
  height: 100%;
}
opensymbolblock[type='bracket'] > svg,
closesymbolblock[type='bracket'] > svg,
.middle-vert-symbol[type='bracket'] > svg {
  width: 0.5em;
  height: 100%;
}
opensymbolblock[type='angle'].sm-1 > svg,
closesymbolblock[type='angle'].sm-1 > svg,
.middle-vert-symbol[type='angle'].sm-1 > svg {
  width: 0.3em;
}
opensymbolblock[type='angle'].sm-2 > svg,
closesymbolblock[type='angle'].sm-2 > svg,
.middle-vert-symbol[type='angle'].sm-2 > svg {
  width: 0.45em;
}
opensymbolblock[type='angle'] > svg,
closesymbolblock[type='angle'] > svg,
.middle-vert-symbol[type='angle'] > svg {
  width: 0.6em;
  height: 100%;
}
opensymbolblock[type='slash'] > svg,
closesymbolblock[type='slash'] > svg,
.middle-vert-symbol[type='slash'] > svg {
  width: 0.7em;
  height: 100%;
}
opensymbolblock > bracket-span,
closesymbolblock > bracket-span,
.middle-vert-symbol > bracket-span {
  display: block;
}
opensymbolblock > vcomposed-symbol,
closesymbolblock > vcomposed-symbol,
.middle-vert-symbol > vcomposed-symbol,
opensymbolblock > bracket-span,
closesymbolblock > bracket-span,
.middle-vert-symbol > bracket-span {
  height: 100%;
  width: 100%;
  font-style: normal;
}
opensymbolblock > brace-span,
closesymbolblock > brace-span,
.middle-vert-symbol > brace-span {
  visibility: hidden;
  display: inline-block;
  padding: 0 0.1em;
}
opensymbolblock,
.middle-vert-symbol {
  margin-left: 0.07em;
}
opensymbolblock.normal,
.middle-vert-symbol.normal {
  margin-left: 0;
}
opensymbolblock[type='vert'],
.middle-vert-symbol[type='vert'],
opensymbolblock.middle-vert-symbol,
.middle-vert-symbol.middle-vert-symbol {
  margin-left: 0.05em;
  margin-right: 0.05em;
}
opensymbolblock[type='vert'] > svg,
.middle-vert-symbol[type='vert'] > svg,
opensymbolblock.middle-vert-symbol > svg,
.middle-vert-symbol.middle-vert-symbol > svg {
  width: 0.4em;
  height: 100%;
}
opensymbolblock[type='parenthesis'] > svg,
.middle-vert-symbol[type='parenthesis'] > svg {
  margin-right: -0.1em;
}
closesymbolblock {
  margin-right: 0.07em;
}
closesymbolblock.normal {
  margin-right: 0;
}
closesymbolblock[type='vert'] {
  margin-left: 0.05em;
  margin-right: 0.05em;
}
closesymbolblock[type='vert'] > svg {
  width: 0.4em;
  height: 100%;
}
closesymbolblock[type='parenthesis'] > svg {
  margin-left: -0.1em;
}

opensymbolblock[type=empty] > empty,
closesymbolblock[type=empty] > empty {
  width: 2px;
  height: 100%;
  display: block;
}
opensymbolblock[type=empty] > empty.normal-size,
closesymbolblock[type=empty] > empty.normal-size {
  height: 1em;
}
opensymbolblock[type=empty] > empty.line-selected,
closesymbolblock[type=empty] > empty.line-selected {
  background-color: lightgray;
}

.dirac-bracket-symbol > div > .oangle,
.dirac-bracket-symbol > div > .cangle {
  align-self: stretch;
  width: 0.55em;
  position: relative;
  margin-top: 0.1em;
  margin-bottom: -0.1em;
}
.dirac-bracket-symbol > div > .oangle > svg,
.dirac-bracket-symbol > div > .cangle > svg {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.dirac-bracket-symbol > div > .vert {
  align-self: stretch;
  width: 0.25em;
  position: relative;
  margin-top: 0.1em;
  margin-bottom: -0.1em;
}
.dirac-bracket-symbol > div > .vert > svg {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.dirac-bracket-symbol > div > editarea.first {
  min-width: 0.3em;
  padding-right: 0.1em;
}
.dirac-bracket-symbol > div > editarea.last {
  min-width: 0.3em;
  padding-left: 0.1em;
}
.dirac-bracket-symbol > div > editarea.middle {
  min-width: 0.3em;
  padding-left: 0.1em;
  padding-right: 0.1em;
}

cancel-symbol > editarea {
  display: inline-flex;
}
cancel-symbol > svg {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: visible;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.frac-slashed-symbol.frac-inline {
  font-size: 0.75em;
}
math-type compositeblock.fraction-symbol {
  margin-left: 0.1em;
  margin-right: 0.1em;
  vertical-align: baseline;
}
math-type compositeblock.fraction-symbol.frac-inline {
  font-size: 0.75em;
}
math-type compositeblock.fraction-symbol > .enumerator {
  float: left;
  width: 100%;
  clear: both;
}
math-type compositeblock.fraction-symbol > .denominator {
  margin-top: -5px;
  float: left;
  width: 100%;
}
math-type compositeblock.fraction-symbol > .frac-line {
  clear: both;
  pointer-events: none;
}
math-type compositeblock.fraction-symbol > .frac-line > inline {
  display: inline-block;
  width: 100%;
  vertical-align: 0.25em;
  border-bottom: solid 1px;
}
math-type compositeblock.fraction-symbol > editarea {
  border: 0px;
  min-width: 0.6em;
  text-align: center;
  text-align-last: auto;
}
math-type compositeblock.fraction-symbol > editarea > area-container > line,
math-type compositeblock.fraction-symbol > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
math-type compositeblock.fraction-symbol > editarea-line {
  text-align: center;
  text-align-last: auto;
}

.stackrel-icon {
  margin: auto;
  display: flex;
  align-items: center;
  flex-direction: column;
}
.stackrel-icon .square {
  width: 6px;
  height: 6px;
  border-style: solid;
  border-width: 1px;
  border-color: gray;
}
.stackrel-icon .distance {
  margin-top: 3px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .stackrel-symbol.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type .stackrel-symbol > .cur-value {
  clear: both;
  display: inline-flex;
  width: 100%;
}
math-type .stackrel-symbol > .top {
  float: left;
  clear: both;
  width: 100%;
  font-size: 0.7em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .underset-symbol > .center {
  display: inline-flex;
  width: 100%;
}
math-type .underset-symbol > .bottom {
  float: left;
  display: block;
  width: 100%;
  font-size: 0.7em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .over-under-set-symbol.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type .over-under-set-symbol > .top {
  display: flex;
  float: left;
  clear: both;
  width: 100%;
}
math-type .over-under-set-symbol > .top > line {
  font-size: 0.7em;
}
math-type .over-under-set-symbol > .middle {
  display: inline-flex;
  width: 100%;
  clear: both;
}
math-type .over-under-set-symbol > .middle.select {
  border-bottom: none;
}
math-type .over-under-set-symbol > .bottom {
  display: flex;
  float: left;
  width: 100%;
}
math-type .over-under-set-symbol > .bottom > line {
  font-size: 0.7em;
}

expandable-component.thickness item-option.thickness-option {
  width: 40px;
  height: 12px;
}
expandable-component.thickness svg {
  stroke: gray;
  stroke-width: 1px;
  fill: none;
}
expandable-component.thickness thickness {
  position: relative;
  display: flex;
  height: 100%;
}
expandable-component.thickness thickness > svg.thickness {
  width: 25px;
  height: 100%;
  position: static;
}
expandable-component.thickness thickness > svg.thickness line {
  stroke: gray;
  stroke-width: 1px;
}
expandable-component.thickness thickness > svg.thickness path {
  fill: #d2cfcf;
  stroke: none;
}



/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .textcircled > div > editarea {
  text-align: center;
  text-align-last: auto;
}
math-type .textcircled > div > editarea > area-container > line,
math-type .textcircled > div > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.math-container-symbol {
  margin-top: 0.3em;
  margin-bottom: 0.3em;
  display: inline-flex;
}
.math-container-symbol.inline {
  margin-top: 0px;
  margin-bottom: 0px;
}
.math-container-symbol.selected {
  background-color: rgba(76, 175, 80, 0.05);
  outline: 1px solid #c1d4c1;
}
.math-container-symbol.display {
  display: block;
}
.math-container-symbol.display.selected {
  background-color: rgba(76, 175, 80, 0.05);
  outline: none;
}
.math-container-symbol.display > editarea {
  width: 100%;
  flex-grow: 1;
  display: block;
  text-align: center;
  text-align-last: auto;
}
.math-container-symbol.display > editarea > area-container > line,
.math-container-symbol.display > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.math-container-symbol.display > editarea > area-container > line {
  padding-top: 8px;
  padding-bottom: 8px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.math-container-symbol > editarea.multiline {
  display: block;
  flex-grow: 1;
  text-align: center;
  text-align-last: auto;
}
.math-container-symbol > editarea.multiline > area-container > line,
.math-container-symbol > editarea.multiline > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.math-container-symbol > editarea.multiline > line:last-child {
  justify-content: flex-end;
  text-align: right;
}
.math-container-symbol > editarea.multiline > line:first-child {
  justify-content: flex-start;
  text-align: left;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .icon-sqrt,
.auto-complete-external-area .icon-sqrt {
  display: flex;
  margin: auto;
  font-size: 12px;
}
math-type .icon-sqrt .square,
.auto-complete-external-area .icon-sqrt .square {
  margin-top: 3px;
  margin-right: -6px;
}
math-type .icon-sqrt .square-expand,
.auto-complete-external-area .icon-sqrt .square-expand {
  background-color: #f7f7f7;
}
math-type .icon-sqrt .align-end,
.auto-complete-external-area .icon-sqrt .align-end {
  margin-top: 8px;
}
math-type .icon-sqrt .line,
.auto-complete-external-area .icon-sqrt .line {
  width: 10px;
  border-top: solid 1px black;
  margin-top: 6px;
}
math-type .icon-sqrt .big-square,
.auto-complete-external-area .icon-sqrt .big-square {
  margin-top: 11px;
  margin-left: -8px;
}
math-type .sqrt-symbol {
  white-space: nowrap;
  align-items: stretch;
  position: relative;
}
math-type .sqrt-symbol > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  left: 50%;
  top: -0.5em;
  left: 0.5em;
}
math-type .sqrt-symbol > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type .sqrt-symbol > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type .sqrt-symbol text {
  fill: black;
}
math-type .sqrt-symbol > sqrt-edit {
  position: relative;
  order: 3;
  display: inline-block;
  align-self: flex-end;
}
math-type .sqrt-symbol > sqrt-edit > sqrt-symbol-line {
  overflow: visible;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: block;
  position: absolute;
  left: 0;
  top: 0;
  pointer-events: none;
}
math-type .sqrt-symbol > sqrt-edit > sqrt-symbol-line > svg {
  overflow: visible;
  width: 100%;
  height: 1em;
}
math-type .sqrt-symbol > sqrt-edit > area-container > line {
  width: 1em;
  position: relative;
}
math-type .sqrt-symbol > sqrt-edit > editarea,
math-type .sqrt-symbol > sqrt-edit > editarea-line {
  z-index: 2;
  display: inline-block;
  min-width: 0.5em;
  margin-left: 1em;
}
math-type .sqrt-symbol > sqrt-top {
  position: relative;
  z-index: 2;
  vertical-align: bottom;
  padding-bottom: 0.95em;
  align-self: flex-end;
  display: inline-block;
}
math-type .sqrt-symbol > sqrt-top.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type .sqrt-symbol > sqrt-top > editarea {
  font-size: 0.7em;
  border: none 0px;
  min-width: 0.5em;
  display: flex;
  float: right;
  text-align: center;
  text-align-last: auto;
}
math-type .sqrt-symbol > sqrt-top > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}





/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
image-viewer {
  width: 100%;
}
image-viewer.inline {
  width: auto;
}
image-viewer .image-content {
  cursor: pointer;
  text-align: left;
}
image-viewer detail list-items-options div {
  border: 1px solid transparent;
  cursor: pointer;
  margin-left: 3px;
  padding: 0 2px 0 2px;
}
image-viewer detail list-items-options div:hover {
  background-color: white;
  border: 1px solid lightgray;
}
image-viewer detail list-items-options div.selected {
  background-color: white;
  border: 1px solid lightgray;
}
image-viewer image-container {
  display: flex;
  flex-direction: column;
}
image-viewer image-container img {
  position: absolute;
}
image-viewer image-container.center {
  align-items: center;
}
image-viewer image-container.left {
  align-items: flex-start;
}
image-viewer image-container.right {
  align-items: flex-end;
}
.resize-box {
  position: absolute;
  width: 8px;
  height: 8px;
  border-width: 1px;
  border-color: gray;
  border-style: solid;
  background-color: white;
  z-index: 999;
}
.resize-box.mobile-tablet {
  width: 16px;
  height: 16px;
}
.resize-box.hide {
  display: none;
}
topleft {
  top: 0;
  left: 0;
  margin-left: -5px;
  margin-top: -5px;
  cursor: nwse-resize;
}
topleft.mobile-tablet {
  margin-left: -8px;
  margin-top: -8px;
}
topright {
  top: 0;
  right: 0;
  margin-right: -5px;
  margin-top: -5px;
  cursor: nesw-resize;
}
topright.mobile-tablet {
  margin-right: -8px;
  margin-top: -8px;
}
topmiddle {
  top: 0;
  left: 50%;
  margin-left: -5px;
  margin-top: -5px;
  cursor: ns-resize;
}
topmiddle.mobile-tablet {
  margin-left: -8px;
  margin-top: -8px;
}
leftmiddle {
  top: 50%;
  left: 0;
  margin-left: -5px;
  margin-top: -5px;
  cursor: ew-resize;
}
leftmiddle.mobile-tablet {
  margin-left: -8px;
  margin-top: -8px;
}
rightmiddle {
  top: 50%;
  right: 0;
  margin-right: -5px;
  margin-top: -5px;
  cursor: ew-resize;
}
rightmiddle.mobile-tablet {
  margin-right: -8px;
  margin-top: -8px;
}
bottomleft {
  bottom: 0;
  left: 0;
  margin-left: -5px;
  margin-bottom: -5px;
  cursor: nesw-resize;
}
bottomleft.mobile-tablet {
  margin-left: -8px;
  margin-bottom: -8px;
}
bottomright {
  bottom: 0;
  right: 0;
  margin-right: -5px;
  margin-bottom: -5px;
  cursor: nwse-resize;
}
bottomright.mobile-tablet {
  margin-right: -8px;
  margin-bottom: -8px;
}
bottommiddle {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  margin-bottom: -5px;
  cursor: ns-resize;
}
bottommiddle.mobile-tablet {
  margin-left: -8px;
  margin-bottom: -8px;
}
.ghost-viewer {
  outline: 1px dotted gray;
  width: 100%;
  height: 100%;
  display: block;
}

compositeblock.image-container {
  position: relative;
  width: 100%;
  margin-top: 10px;
  margin-bottom: 10px;
}
compositeblock.image-container > image-viewer {
  display: block;
}
compositeblock.image-container.inline {
  width: auto;
  margin-top: 0;
  margin-bottom: 0;
  display: inline-block;
}
.image-caption > line.text-mode:first-child {
  display: inline;
}
.image-caption > line.text-mode:first-child > blocks {
  display: inline;
}
.add-caption {
  opacity: 0.85;
  text-align: "center";
  color: #1155cc;
  cursor: pointer;
  position: absolute;
  bottom: -35px;
  left: 50%;
  transform: translate(-50%, 0);
  z-index: 10;
  font-size: 13px;
  background: white;
  border: 1px solid lightgray;
  padding: 5px;
}
.add-caption:hover {
  opacity: 1;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .power-index-symbol-container {
  margin-right: 0.06em;
  margin-left: 0.03em;
}
math-type .power-index-symbol-container.has-power > .power-value {
  margin-left: 0.04em;
}
math-type .power-index-symbol-container > .power-value,
math-type .pre-script-symbol-container > .power-value {
  /*margin-bottom: -2px;*/
  float: left;
  clear: both;
  text-align: left;
}
math-type .power-index-symbol-container > .power-value.small > line,
math-type .pre-script-symbol-container > .power-value.small > line {
  margin-bottom: -0.35em;
}
math-type .power-index-symbol-container > .power-value > line,
math-type .pre-script-symbol-container > .power-value > line {
  font-size: 0.7em;
}
math-type .power-index-symbol-container > .power-value > area-container > line,
math-type .pre-script-symbol-container > .power-value > area-container > line,
math-type .power-index-symbol-container > .power-value > line,
math-type .pre-script-symbol-container > .power-value > line {
  justify-content: flex-start;
  text-align: left;
}
math-type .power-index-symbol-container > middle-base,
math-type .pre-script-symbol-container > middle-base {
  display: block;
  clear: both;
  height: 1em;
}
math-type .power-index-symbol-container > middle-base > inline,
math-type .pre-script-symbol-container > middle-base > inline {
  display: inline-block;
}
math-type .power-index-symbol-container > .index-value,
math-type .pre-script-symbol-container > .index-value {
  float: left;
  text-align: left;
}
math-type .power-index-symbol-container > .index-value > line,
math-type .pre-script-symbol-container > .index-value > line {
  font-size: 0.7em;
}
math-type .power-index-symbol-container > .index-value > area-container > line,
math-type .pre-script-symbol-container > .index-value > area-container > line,
math-type .power-index-symbol-container > .index-value > line,
math-type .pre-script-symbol-container > .index-value > line {
  justify-content: flex-start;
  text-align: left;
}
math-type .power-index-symbol-container > editarea-block.index-value,
math-type .pre-script-symbol-container > editarea-block.index-value,
math-type .power-index-symbol-container > editarea-line.index-value,
math-type .pre-script-symbol-container > editarea-line.index-value {
  font-size: 0.7em;
}
math-type .power-index-symbol-container > editarea-block.power-value,
math-type .pre-script-symbol-container > editarea-block.power-value,
math-type .power-index-symbol-container > editarea-line.power-value,
math-type .pre-script-symbol-container > editarea-line.power-value {
  font-size: 0.7em;
}
math-type .pre-script-symbol-container > .power-value {
  float: right;
}
math-type .pre-script-symbol-container > .index-value {
  float: right;
}
.icon-power-index-symbol {
  display: flex;
  margin: auto;
  width: 20px;
  padding-bottom: 6px;
}
.icon-power-index-symbol .square-up {
  margin-top: 4px;
}
.icon-power-index-symbol .square-down {
  margin-top: 14px;
  margin-left: -6px;
}
.icon-power-index-symbol .align-end {
  margin-top: 4px;
}
.icon-power-symbol {
  display: flex;
  margin: auto;
  width: 20px;
  padding-bottom: 6px;
}
.icon-power-symbol .square {
  margin-top: 4px;
}
.icon-power-symbol .align-end {
  margin-top: 4px;
}
.icon-index-symbol {
  display: flex;
  margin: auto;
  width: 20px;
  padding-bottom: 6px;
}
.icon-index-symbol .square {
  margin-top: 14px;
  margin-left: 0px;
}
.icon-index-symbol .align-end {
  margin-top: 4px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.matrix-like > matrix > table > tbody > tr > td {
  padding-bottom: 0.1em;
  padding-top: 0.1em;
}
.matrix-symbol.matrix-like > matrix > table > tbody > tr.hline {
  border-top: 1px solid;
}
.matrix-symbol.matrix-like > matrix > table > tbody > tr:last-child.last-hline {
  border-bottom: 1px solid;
}
.matrix-symbol {
  /* must be flex to have vertical center align , unless figure out another way */
  display: inline-flex;
  align-items: center;
}
.matrix-symbol > matrix > table > tbody > tr > td > .sbd {
  position: absolute;
  left: -1px;
  top: -1px;
  right: -1px;
  bottom: -1px;
  pointer-events: none;
  background: none;
}
.matrix-symbol.selected > matrix > table > tbody > tr > td > .sbd {
  border-top: 1px solid rgba(93, 92, 92, 0.15);
  border-left: 1px solid rgba(93, 92, 92, 0.15);
}
.matrix-symbol.selected > matrix > table > tbody > tr > td > .sbd.sbd-lr {
  border-bottom: 1px solid rgba(93, 92, 92, 0.15);
}
.matrix-symbol.selected > matrix > table > tbody > tr > td > .sbd.sbd-lc {
  border-right: 1px solid rgba(93, 92, 92, 0.15);
}
.matrix-symbol > base-line-indicator {
  height: inherit;
  margin-top: -0.18em;
}
.matrix-symbol matrixclosesymbol,
.matrix-symbol matrixopensymbol {
  font-style: normal;
  color: black;
  position: relative;
}
.matrix-symbol matrixclosesymbol > span,
.matrix-symbol matrixopensymbol > span {
  visibility: hidden;
  display: inline-block;
}
.matrix-symbol matrixclosesymbol > svg,
.matrix-symbol matrixopensymbol > svg {
  overflow: visible;
  font-size: 15px;
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
}
.matrix-symbol matrixclosesymbol > svg text,
.matrix-symbol matrixopensymbol > svg text {
  fill: black;
}
.matrix-symbol > matrix.matrix > table > tbody > tr > td {
  padding: 0 0.3em;
}
.matrix-symbol > matrix {
  display: flex;
  position: relative;
  float: left;
  align-items: flex-start;
  break-inside: avoid;
}
.matrix-symbol > matrix > svg {
  width: 0.6em;
  /*init height, willl be changed by inline style*/
  height: 3px;
  overflow: visible;
  align-self: flex-start;
}
.matrix-symbol > matrix > vcomposed-symbol {
  height: inherit;
  align-self: stretch;
}
.matrix-symbol > matrix > table {
  border: 1px solid transparent;
  border-collapse: collapse;
}
.matrix-symbol > matrix > table > tbody > tr {
  box-sizing: border-box;
}
.matrix-symbol > matrix > table > tbody > tr.smaller {
  font-size: 0.75em;
}
.matrix-symbol > matrix > table > tbody > tr > td {
  position: relative;
  border: 1px dotted transparent;
  box-sizing: border-box;
  padding: 0 0.3em;
  vertical-align: baseline;
}
.matrix-symbol > matrix > table > tbody > tr > td > .editor-cell {
  display: inline-block;
  width: 100%;
}
.matrix-symbol > matrix > table > tbody > tr > td.vline {
  border-left: 1px solid;
}
.matrix-symbol > matrix > table > tbody > tr > td:last-child.last-vline {
  border-right: 1px solid;
}
.matrix-symbol > matrix > table > tbody > tr > td > .editor-cell {
  min-width: 0.5em;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol > matrix > table > tbody > tr > td > .editor-cell > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.matrix > table {
  margin-left: -0.2em;
  margin-right: -0.2em;
}
.matrix-symbol > matrix.matrix > table > tbody > tr > td > .editor-cell {
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol > matrix.matrix > table > tbody > tr > td > .editor-cell > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.left {
  text-align: left;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.left > area-container > line,
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.left > line {
  justify-content: flex-start;
  text-align: left;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.center {
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.center > area-container > line,
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.center > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.right {
  text-align: right;
}
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.right > area-container > line,
.matrix-symbol > matrix.array > table > tbody > tr > td > .editor-cell.right > line {
  justify-content: flex-end;
  text-align: right;
}
.matrix-symbol > matrix.gathered > table > tbody > tr > td:nth-child(2n+3) {
  padding-left: 1em;
}
.matrix-symbol > matrix.gathered line {
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td {
  padding: 0;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n+3) {
  padding-left: 1em;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n+1) > .editor-cell {
  text-align: right;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n+1) > .editor-cell > area-container > line,
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n+1) > .editor-cell > line {
  justify-content: flex-end;
  text-align: right;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n) > .editor-cell {
  text-align: left;
}
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n) > .editor-cell > area-container > line,
.matrix-symbol > matrix.aligned > table > tbody > tr > td:nth-child(2n) > .editor-cell > line {
  justify-content: flex-start;
  text-align: left;
}
.matrix-symbol > matrix > border-design {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  display: block;
  background-color: rgba(255, 255, 255, 0.7);
  z-index: 10;
}
.matrix-symbol > matrix > border-design > border-line {
  cursor: pointer;
  position: absolute;
  /*border:1px solid gray;*/
}
.matrix-symbol > matrix > border-design > border-line > horizontal-line {
  border-top: 1px solid #eceaea;
  display: block;
  position: absolute;
  top: 50%;
  width: 100%;
  height: 1px;
  margin-top: 0;
  left: 0;
}
.matrix-symbol > matrix > border-design > border-line > vertical-line {
  border-left: 1px solid #eceaea;
  display: block;
  position: absolute;
  left: 50%;
  width: 1px;
  height: 100%;
  top: 0;
}
.matrix-symbol > matrix > border-design > border-line > vertical-line.enabled {
  border-top: 1px solid;
}
.matrix-symbol > matrix > border-design > border-line:hover > horizontal-line {
  border-top: 1px solid gray;
}
.matrix-symbol > matrix > border-design > border-line:hover > vertical-line {
  border-left: 1px solid gray;
}
.matrix-symbol > matrix > border-design > border-line.enabled > horizontal-line {
  border-top: 1px solid;
}
.matrix-symbol > matrix > border-design > border-line.enabled > vertical-line {
  border-left: 1px solid;
}
.matrix-symbol > matrix > setting {
  padding: 7px;
  position: absolute;
  top: -6px;
  font-family: "Segoe UI", Arial, Verdana, sans-serif;
  transform: translate(0, -100%);
  left: 0;
}
.matrix-symbol > matrix > setting > main-setting {
  display: flex;
  flex-direction: row;
}
.matrix-symbol > matrix > setting > main-setting styled-select {
  display: block;
  background-color: white;
}
.fa-table.array-settings {
  border: 1px solid lightgray;
  padding: 3px 5px;
  font-size: 14px;
  color: gray;
  cursor: pointer;
  /*margin-left: 5px;*/
}
.fa-table.array-settings:hover {
  color: black;
  background: white;
}
.matrix-icon {
  display: flex;
}
.matrix-icon .square {
  margin-top: 2px;
}
.matrix-icon .display-flex {
  display: flex;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td {
  padding: 0 0.2em;
}
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td.non-select,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td.non-select {
  user-select: none;
  width: 0.2em;
  padding: 0;
}
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td > .editor-cell,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td > .editor-cell {
  text-align: left;
}
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol.case-symbol > matrix > table > tbody > tr > td > .editor-cell > line,
.matrix-symbol.square-case-symbol > matrix > table > tbody > tr > td > .editor-cell > line {
  justify-content: flex-start;
  text-align: left;
}
.case-icon {
  display: flex;
  font-size: 18px;
  line-height: 18px;
}
.case-icon .square {
  margin-top: 2px;
}
.case-icon .display-flex {
  display: flex;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td {
  padding: 0 0.2em;
}
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #e0e0e0;
}
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td > .editor-cell {
  text-align: left;
}
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line,
.matrix-symbol.dr-case-symbol > matrix > table > tbody > tr > td > .editor-cell > line {
  justify-content: flex-start;
  text-align: left;
}
.case-icon {
  display: flex;
  font-size: 18px;
  line-height: 18px;
}
.case-icon .square {
  margin-top: 2px;
}
.case-icon .display-flex {
  display: flex;
}

.array-icon .square {
  margin-top: 2px;
}
.array-icon .display-flex {
  display: flex;
}

.matrix-like.binom > .binom > table > tbody > tr > td {
  padding: 0;
}
.matrix-like.binom > .binom > table > tbody > tr > td line {
  text-align: center;
  text-align-last: auto;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.align-symbol {
  /*display flex because to make sure it's spend whole line*/
  display: flex;
  justify-content: center;
  margin-top: 10px;
  margin-bottom: 10px;
  width: 100%;
}
.matrix-symbol.align-symbol.selected {
  background-color: rgba(76, 175, 80, 0.05);
}
.matrix-symbol.align-symbol > matrix > setting > main-setting {
  margin-bottom: 0px;
}
.matrix-symbol.align-symbol > matrix > bulb {
  left: 50%;
}
.matrix-symbol.align-symbol > matrix > setting {
  margin-left: 20px;
}
.matrix-symbol.align-symbol > matrix.align {
  width: 100%;
  display: block;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td {
  padding: 0;
  vertical-align: baseline;
  border: 1px solid transparent;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > .editor-cell {
  /* should align start and area-container level (instead of line level)
                as for lazy rendering, we need to have exact line width */
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container {
  align-items: flex-start;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line {
  width: auto;
  text-align: left;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.align-right > .editor-cell {
  /* should align start and area-container level (instead of line level)
                as for lazy rendering, we need to have exact line width */
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.align-right > .editor-cell > area-container {
  align-items: flex-end;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.align-right > .editor-cell > area-container > line {
  width: auto;
  text-align: right;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.non-select {
  border: none;
  user-select: none;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.expand {
  width: 100%;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #e0e0e0;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > .editor-cell {
  min-width: 1.5em;
}
.matrix-symbol.align-symbol > matrix > table > tbody > tr > td > tupple {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: baseline;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
.matrix-symbol.gather-symbol {
  /*display flex because to make sure it's spend whole line*/
  display: flex;
  justify-content: center;
  margin-top: 10px;
  margin-bottom: 10px;
  width: 100%;
}
.matrix-symbol.gather-symbol.selected {
  background-color: rgba(76, 175, 80, 0.05);
}
.matrix-symbol.gather-symbol > matrix.gather {
  width: 100%;
  display: block;
}
.matrix-symbol.gather-symbol > matrix > setting > main-setting {
  margin-bottom: 0px;
}
.matrix-symbol.gather-symbol > matrix > bulb {
  left: -1em;
}
.matrix-symbol.gather-symbol > matrix > setting {
  margin-left: 20px;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td {
  padding: 0;
  vertical-align: baseline;
  border: 1px solid transparent;
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td.non-select {
  user-select: none;
  width: 1.5em;
  border: none;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td.expand {
  width: 100%;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #e0e0e0;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td line {
  text-align: center;
  text-align-last: auto;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td > .editor-cell {
  min-width: 1.5em;
  /* should align start and area-container level (instead of line level)
                as for lazy rendering, we need to have exact line width */
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container {
  align-items: center;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td > .editor-cell > area-container > line {
  width: auto;
}
.matrix-symbol.gather-symbol > matrix > table > tbody > tr > td > tupple {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: baseline;
}

math-type compositeblock.table-symbol {
  width: 100%;
  display: flex;
}
math-type compositeblock.table-symbol.cap-above {
  flex-direction: column;
}
math-type .matrix-symbol > matrix.table {
  width: 100%;
  flex-direction: column;
  align-items: stretch;
}
math-type .matrix-symbol > matrix.table > table {
  table-layout: fixed;
  border: unset;
  width: 100%;
}
math-type .matrix-symbol > matrix.table > table > tbody > tr > td {
  vertical-align: top;
  padding: 0;
  position: relative;
}
math-type .cell-border-box {
  position: absolute;
  left: -1px;
  top: -1px;
  width: 100%;
  height: 100%;
}
.table-caption > line.text-mode:first-child {
  display: inline;
}
.table-caption > line.text-mode:first-child > blocks {
  display: inline;
}

editarea.lttb.text-mode > line.text-mode > blocks {
  text-align: inherit;
}



math-type compositeblock.table-of-content {
  display: block;
  width: 100%;
}
math-type compositeblock.table-of-content > toc-wrapper {
  position: relative;
  width: 100%;
  display: block;
  cursor: default;
}
math-type compositeblock.table-of-content > toc-wrapper .toc-setting-icons {
  display: none;
  position: absolute;
  left: -65px;
  width: 70px;
  top: -20px;
  bottom: 0;
  font-size: 1em;
  z-index: 999;
  padding-top: 20px;
}
math-type compositeblock.table-of-content > toc-wrapper .toc-setting-icons > .icon-refresh,
math-type compositeblock.table-of-content > toc-wrapper .toc-setting-icons > .icon-settings {
  border: 1px solid #c3c2c2;
  padding: 0.3em;
  padding-top: 0.1em;
  line-height: 1.2;
  padding-bottom: 0;
  cursor: pointer;
  background-color: #f7f7f7;
  color: gray;
  width: 12px;
  display: inline-block;
  margin-left: 5px;
}
math-type compositeblock.table-of-content > toc-wrapper:hover .toc-setting-icons {
  display: block;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode {
  width: 100%;
  cursor: default;
  display: block;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode {
  display: block;
  width: auto;
  cursor: default;
  padding-left: 1em;
  padding-right: 15px;
  font-style: unset;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > a > blocks,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > blocks {
  display: block;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > a > prefix,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > prefix {
  display: none;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl {
  padding-left: 15px;
  padding-right: 1em;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl > a > blocks,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl > blocks {
  text-align: right;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl a > blocks > compositeblock.toc-page-number-symbol,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode.has-rtl > blocks > compositeblock.toc-page-number-symbol {
  float: left;
  padding-left: 0;
  margin-right: 0;
  margin-left: 0;
  padding-right: 0.5em;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > block,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > a > block,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > blocks > block,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode a > blocks > block {
  white-space: pre-wrap;
  white-space: break-spaces;
  cursor: pointer;
  font-style: unset;
}
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > a > blocks > compositeblock.toc-page-number-symbol,
math-type compositeblock.table-of-content > toc-wrapper > editarea.toc-ea.text-mode > line.text-mode > blocks > compositeblock.toc-page-number-symbol {
  float: right;
  padding-left: 0.5em;
  margin-right: 0;
}

.icon-integral-symbol {
  margin: auto 4px auto auto;
  display: flex;
  flex-direction: row-reverse;
  font-size: 12px;
}
.icon-integral-symbol .square-up {
  border-width: 1px;
  margin-top: 0px;
}
.icon-integral-symbol .square-down {
  border-width: 1px;
  margin-top: 21px;
  margin-left: -10px;
}
.icon-integral-symbol .align-end {
  margin-top: 6px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .limit-type {
  position: relative;
}
math-type .limit-type > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  top: -0.5em;
  left: 50%;
  top: -1.4em;
  left: 0.6em;
  align-items: flex-start;
}
math-type .limit-type > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type .limit-type > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type .limit-type > .to,
math-type .limit-type > .from {
  float: left;
  clear: both;
}
math-type .limit-type > .to > line,
math-type .limit-type > .from > line,
math-type .limit-type > .to > editarea > line,
math-type .limit-type > .from > editarea > line {
  font-size: 0.7em;
}
math-type .limit-type > editarea-line,
math-type .limit-type > editarea-block {
  font-size: 0.7em;
}
math-type .limit-type > symbol {
  display: block;
  clear: both;
  pointer-events: none;
}
math-type .limit-type > symbol > span {
  white-space: nowrap;
  pointer-events: none;
}
math-type .limit-type > setting {
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  opacity: 0.5;
  opacity: 1;
  position: absolute;
  left: 50%;
  top: -2em;
  font-size: 0.6em;
  margin-left: -0.6em;
  padding: 0 0.2em;
  cursor: pointer;
}
math-type .limit-type > setting:hover {
  border-color: gray;
  opacity: 1;
}
math-type .limit-type > setting:hover {
  border: 1px solid gray;
}
math-type .limit-type > setting > i {
  transform: rotate(-60deg);
}
math-type .limit-type.limit-kind > setting > i {
  transform: rotate(45deg);
}
math-type .limit-type.limit-kind > symbol {
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > .from,
math-type .limit-type.limit-kind > .to {
  width: 100%;
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > .from > line,
math-type .limit-type.limit-kind > .to > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > empty.from {
  height: 0;
  margin-top: -0.75em;
}
math-type .limit-type.limit-kind > empty.from > editarea.selected > line,
math-type .limit-type.limit-kind > empty.from > editarea-block.selected,
math-type .limit-type.limit-kind > empty.from > editarea-line.selected {
  background-color: white;
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > empty.to {
  height: 0;
  text-align: center;
  text-align-last: auto;
}
math-type .limit-type.limit-kind > empty.to > editarea.selected > line,
math-type .limit-type.limit-kind > empty.to > editarea-block.selected,
math-type .limit-type.limit-kind > empty.to > editarea-line.selected {
  background-color: white;
  text-align: center;
  text-align-last: auto;
}
math-type .integral-like-symbol.inline > symbol {
  font-size: 1em;
}
math-type .integral-like-symbol.int-ml {
  margin-left: -0.5em;
}
math-type .integral-like-symbol.oint-ml {
  margin-left: -0.3em;
}
math-type .integral-like-symbol > symbol {
  font-size: 1.5em;
}
math-type .integral-like-symbol > symbol > span {
  line-height: 1.4em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .limit-type.lim-like-symbol {
  margin-left: 0.2em;
  margin-right: 0.2em;
}
math-type .limit-type.lim-like-symbol.close-left {
  margin-left: 0;
}
math-type .limit-type.lim-like-symbol.close-right {
  margin-right: 0;
}
math-type .limit-type.lim-like-symbol.limit-kind > empty.from > editarea {
  margin-top: -0.4em;
}
math-type .lim-like-symbol > add {
  left: 50%;
  top: -1em;
}
math-type .lim-like-symbol > symbol.inf {
  text-decoration: underline;
}
math-type .lim-like-symbol > symbol.sup {
  text-decoration: overline;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from,
math-type .lim-like-symbol.non-limit-kind > editarea.to {
  margin-left: 1.47em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-lim,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-lim {
  margin-left: 1.5435em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-liminf,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-liminf {
  margin-left: 3.15em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-limsup,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-limsup {
  margin-left: 3.528em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-sup,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-sup {
  margin-left: 1.6905em;
}
math-type .lim-like-symbol.non-limit-kind > editarea.from.from-varlimsup,
math-type .lim-like-symbol.non-limit-kind > editarea.to.to-varlimsup {
  margin-left: 1.5435em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to {
  margin-left: 2.072em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-lim,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-lim {
  margin-left: 2.1756em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-liminf,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-liminf {
  margin-left: 4.44em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-limsup,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-limsup {
  margin-left: 4.9728em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-sup,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-sup {
  margin-left: 2.3828em;
}
math-type .lim-like-symbol.non-limit-kind > editarea-block.from.from-varlimsup,
math-type .lim-like-symbol.non-limit-kind > editarea-block.to.to-varlimsup {
  margin-left: 2.1756em;
}



/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .limit-type.summation-like-symbol.limit-kind > empty.from {
  margin-top: -0.3em;
}
math-type .limit-type.summation-like-symbol.limit-kind > empty.from > editarea,
math-type .limit-type.summation-like-symbol.limit-kind > empty.from > editarea-block {
  margin-top: -0.2em;
}
math-type .summation-like-symbol.inline > add {
  top: -1.1em;
}
math-type .summation-like-symbol.inline > symbol {
  font-size: 1em;
}
math-type .summation-like-symbol.inline > symbol > span {
  vertical-align: 0.15em;
}
math-type .summation-like-symbol {
  padding-right: 0.15em;
}
math-type .summation-like-symbol > symbol {
  font-size: 1.5em;
}
math-type .summation-like-symbol > symbol > span {
  vertical-align: 0.1em;
  line-height: 1.4em;
}
math-type .summation-like-symbol > add {
  top: -1.5em;
}
math-type .summation-like-symbol > .custom-symbol {
  font-weight: bold;
}

hcomposed-symbol {
  display: flex;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
hcomposed-symbol > start {
  display: block;
  float: left;
  overflow: hidden;
}
hcomposed-symbol > middle {
  display: block;
  flex-grow: 1;
  white-space: nowrap;
  position: relative;
  overflow: hidden;
}
hcomposed-symbol > middle > fixed {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
}
hcomposed-symbol > middle > fixed > inside {
  display: inline-block;
  overflow: hidden;
}
hcomposed-symbol > end {
  display: block;
  overflow: hidden;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .arrow-like-symbol {
  padding: 0 0.2em;
}
math-type .arrow-like-symbol > arrow-like-simple > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  top: -0.5em;
  left: 50%;
  left: 0.8em;
  top: -0.7em;
}
math-type .arrow-like-symbol > arrow-like-simple > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type .arrow-like-symbol > arrow-like-simple > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type .arrow-like-symbol > middle {
  display: block;
  text-align: center;
  text-align-last: auto;
  clear: both;
  width: 100%;
  position: relative;
}
math-type .arrow-like-symbol > middle > inside {
  display: inline-block;
  height: 0.55em;
  width: 100%;
}
math-type .arrow-like-symbol > middle > inside > hcomposed-symbol {
  position: absolute;
  top: 0.4em;
  left: 0;
}
math-type .arrow-like-symbol > editarea.sright-1 {
  padding-left: 0.55em;
  padding-right: 0.25em;
}
math-type .arrow-like-symbol > editarea.sleft-1 {
  padding-left: 0.25em;
  padding-right: 0.55em;
}
math-type .arrow-like-symbol > editarea.small-margin {
  padding-left: 0.4em;
  padding-right: 0.4em;
}
math-type .arrow-like-symbol > editarea.large-padding {
  margin: 0 1.3em;
}
math-type .arrow-like-symbol > editarea > line {
  font-size: 0.7em;
}
math-type .arrow-like-symbol > .top {
  float: left;
  width: 100%;
  clear: both;
  margin-bottom: -0.5em;
  z-index: 1;
  position: relative;
}
math-type .arrow-like-symbol > .top.space-1,
math-type .arrow-like-symbol > .top.up-space-1-lower-space-2 {
  margin-bottom: -0.4em;
}
math-type .arrow-like-symbol > .bottom {
  margin-top: -0.45em;
  float: left;
  width: 100%;
}
math-type .arrow-like-symbol > .bottom.space-1,
math-type .arrow-like-symbol > .bottom.lower-space-1 {
  margin-top: -0.35em;
}
math-type .arrow-like-symbol > .bottom.space-2,
math-type .arrow-like-symbol > .bottom.up-space-1-lower-space-2 {
  margin-top: -0.25em;
}

.over-icon {
  margin: auto;
  width: 12px;
  font-size: 13px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .over-arrow-symbol > arrow-symbol {
  display: block;
  margin-right: -0.05em;
  position: relative;
}
math-type .over-arrow-symbol > arrow-symbol > hcomposed-symbol {
  position: absolute;
}
math-type .over-arrow-symbol > arrow-symbol > arrow-wrapper {
  margin-right: -0.2em;
}
math-type .over-arrow-symbol > editarea {
  display: inline-flex;
  text-align: center;
  text-align-last: auto;
}
math-type .over-arrow-symbol > editarea > area-container > line,
math-type .over-arrow-symbol > editarea > line {
  justify-content: center;
  text-align: center;
  text-align-last: auto;
}
math-type .over-arrow-symbol > editarea-block {
  min-width: 0.5em;
  text-align: center;
  text-align-last: auto;
  display: inline-block;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .over-line-symbol {
  margin-left: 0.05em;
  margin-right: 0.05em;
}
math-type .over-line-symbol > editarea {
  display: inline-flex;
  min-width: 0.5em;
}
math-type .over-line-symbol > editarea-line {
  min-width: 0.5em;
  display: inline-block;
  text-align: center;
  text-align-last: auto;
}
math-type .over-line-symbol > line-border {
  display: block;
  position: relative;
}
math-type .over-line-symbol > line-border > hcomposed-symbol {
  position: absolute;
}
math-type .over-line-symbol > line-border > svg {
  position: absolute;
  width: 100%;
  height: 100%;
}

brace-top-wrapper {
  display: flex;
  flex-direction: row;
  height: 100%;
  font-family: Asana-Math, Asana;
}
brace-top-wrapper > middle-wrapper {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
brace-top-wrapper > middle-wrapper > fixed {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
}
brace-top-wrapper > middle-wrapper > fixed > middle-inside {
  overflow: hidden;
}
brace-top-wrapper first,
brace-top-wrapper middle,
brace-top-wrapper last {
  overflow: hidden;
  position: relative;
}
brace-top-wrapper first {
  min-width: 0.7em;
  width: 0.7em;
}
brace-top-wrapper > middle {
  min-width: 0.6em;
  width: 0.6em;
}
brace-top-wrapper > last {
  min-width: 0.7em;
  width: 0.7em;
}
bracket-top-wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
  font-family: Asana-Math, Asana;
}
bracket-top-wrapper > first,
bracket-top-wrapper middle,
bracket-top-wrapper last {
  overflow: hidden;
  position: relative;
}
bracket-top-wrapper > first {
  height: 0.5em;
  min-height: 0.5em;
}
bracket-top-wrapper middle-wrapper {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
bracket-top-wrapper middle-wrapper > fixed {
  overflow: hidden;
  position: absolute;
  left: 0;
  top: 0;
}
bracket-top-wrapper middle-wrapper > fixed > middle {
  display: block;
  overflow: hidden;
}
bracket-top-wrapper > last {
  height: 0.65em;
  min-height: 0.65em;
}
parenthesis-top-wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
  font-family: Asana-Math, Asana;
}
parenthesis-top-wrapper > first,
parenthesis-top-wrapper middle,
parenthesis-top-wrapper last {
  overflow: hidden;
  position: relative;
  height: 1em;
  min-height: 1em;
}
parenthesis-top-wrapper > first {
  min-height: 0.9em;
  height: 0.9em;
}
parenthesis-top-wrapper middle-wrapper {
  flex-grow: 1;
  position: relative;
  overflow: hidden;
}
parenthesis-top-wrapper middle-wrapper > fixed {
  position: absolute;
  top: 0;
  left: 0;
}
parenthesis-top-wrapper middle-wrapper > fixed > middle {
  display: block;
  overflow: hidden;
}
parenthesis-top-wrapper > last {
  min-height: 1em;
  height: 1em;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .over-brace-symbol {
  position: relative;
}
math-type .over-brace-symbol > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  top: -0.5em;
  left: 50%;
  top: -1.5em;
  margin-left: -0.6em;
}
math-type .over-brace-symbol > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type .over-brace-symbol > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type .over-brace-symbol > top-brace {
  pointer-events: none;
  display: block;
  min-width: 1.1em;
  position: relative;
  clear: both;
  margin-bottom: -0.1em;
  font-style: normal;
  font-weight: normal;
}
math-type .over-brace-symbol > top-brace > brace-top-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  left: 50%;
  transform: translate(-50%, 0);
}
math-type .over-brace-symbol > editarea {
  display: inline-flex;
  width: 100%;
  align-self: center;
  clear: both;
}
math-type .over-brace-symbol > editarea.overValue {
  font-size: 0.7em;
  float: left;
  width: 100%;
  margin-bottom: 0.1em;
}

.icon-hat {
  margin: auto;
  width: 12px;
  font-size: 12px;
}
.icon-hat .square {
  margin-top: -3px;
}

.under-arc-symbol {
  display: inline-block;
}
.under-arc-symbol > editarea {
  display: inline-flex;
}
.under-arc-symbol > symbol {
  display: block;
  width: 100%;
  position: relative;
}
.under-arc-symbol > symbol > svg {
  position: absolute;
  left: 0;
  top: 0;
  display: block;
  width: 100%;
  height: 100%;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .under-line-symbol > editarea {
  display: inline-flex;
}
math-type .under-line-symbol > line-border {
  display: block;
  position: relative;
  float: left;
  width: 100%;
}
math-type .under-line-symbol > line-border > svg {
  position: absolute;
  width: 100%;
  height: 100%;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.under-brace-symbol {
  display: inline-flex;
  flex-flow: column;
  position: relative;
}
math-type compositeblock.under-brace-symbol > add {
  opacity: 0.5;
  background-color: #f7f7f7;
  border: 1px solid #c3c2c2;
  color: gray;
  display: block;
  position: absolute;
  font-size: 0.6em;
  cursor: pointer;
  margin-left: -0.4em;
  z-index: 999;
  opacity: 0.7;
  top: -0.5em;
  left: 50%;
  top: 3em;
}
math-type compositeblock.under-brace-symbol > add:hover {
  border-color: gray;
  opacity: 1;
}
math-type compositeblock.under-brace-symbol > add > i {
  display: block;
  height: 1em;
  padding: 0.1em 0.15em;
  padding-bottom: 0;
  width: 0.8em;
}
math-type compositeblock.under-brace-symbol > bottom-brace {
  pointer-events: none;
  display: block;
  position: relative;
  min-width: 1.3em;
  font-style: normal;
  font-weight: normal;
}
math-type compositeblock.under-brace-symbol > bottom-brace > brace-top-wrapper {
  position: absolute;
  top: 0;
  left: 0;
  left: 50%;
  transform: translate(-50%, 0);
}
math-type compositeblock.under-brace-symbol > editarea {
  margin-left: 0.15em;
  margin-right: 0.15em;
  align-self: center;
}
math-type compositeblock.under-brace-symbol > editarea.underValue {
  font-size: 0.7em;
}
.under-brace-icon {
  width: 12px;
  margin: auto;
  font-size: 12px;
}
.under-brace-icon .brace-wrapper {
  margin-top: -14px;
}


math-type .operator-name > editarea {
  margin-left: 0.2em;
  margin-right: 0.2em;
  display: inline-flex;
}
math-type .operator-name > editarea.close-left {
  margin-left: 0;
}
math-type .operator-name > editarea.close-right {
  margin-right: 0;
}

.math-group > editarea {
  float: left;
}
.group-icon .rectangle {
  width: 23px;
  height: 12px;
  border-style: solid;
  border-width: 1px;
  text-align: center;
  border-color: gray;
  font-family: fantasy;
  color: black;
  padding-top: 1px;
  font-size: 9px;
  line-height: 14px;
  vertical-align: middle;
  margin: auto;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.over-symbol {
  position: relative;
}
math-type compositeblock.over-symbol > symbol {
  font-family: Asana-Math, Asana, Arial;
  height: 8em;
  display: block;
  text-align: center;
  text-align-last: auto;
  position: relative;
}
math-type compositeblock.over-symbol > symbol > inner {
  display: block;
  position: absolute;
  text-align: center;
  text-align-last: auto;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}
math-type compositeblock.over-symbol > symbol.dot > inner.left-sign,
math-type compositeblock.over-symbol > symbol.ring > inner.left-sign {
  transform: translate(-0.07em, 0);
}
math-type compositeblock.over-symbol > symbol.dot > inner.right-sign,
math-type compositeblock.over-symbol > symbol.ring > inner.right-sign {
  transform: translate(0.2em, 0);
}
math-type compositeblock.over-symbol > symbol.dot > inner,
math-type compositeblock.over-symbol > symbol.ring > inner {
  transform: translate(0.05em, 0);
}
math-type compositeblock.over-symbol > symbol.small-hat > inner.left-sign,
math-type compositeblock.over-symbol > symbol.small-tilde > inner.left-sign {
  transform: translate(-0.04em, 0);
}
math-type compositeblock.over-symbol > symbol.small-hat > inner.right-sign,
math-type compositeblock.over-symbol > symbol.small-tilde > inner.right-sign {
  transform: translate(0.15em, 0);
}
math-type compositeblock.over-symbol > symbol.small-hat > inner.ignore-shift,
math-type compositeblock.over-symbol > symbol.small-tilde > inner.ignore-shift {
  transform: translate(0, 0);
}
math-type compositeblock.over-symbol > symbol.small-hat > inner,
math-type compositeblock.over-symbol > symbol.small-tilde > inner {
  transform: translate(0.05em, 0);
}
math-type compositeblock.over-symbol > symbol.acute > inner.left-sign {
  transform: translate(-0.04em, 0);
}
math-type compositeblock.over-symbol > symbol.acute > inner.right-sign {
  transform: translate(0.25em, 0);
}
math-type compositeblock.over-symbol > symbol.acute > inner {
  transform: translate(0.1em, 0);
}
math-type compositeblock.over-symbol > symbol.grave,
math-type compositeblock.over-symbol > symbol.breve,
math-type compositeblock.over-symbol > symbol.acute {
  font-family: 'Times New Roman', Times, serif;
}
math-type compositeblock.over-symbol > symbol.grave > inner.left-sign,
math-type compositeblock.over-symbol > symbol.breve > inner.left-sign,
math-type compositeblock.over-symbol > symbol.check > inner.left-sign {
  transform: translate(-0.07em, 0);
}
math-type compositeblock.over-symbol > symbol.grave > inner.right-sign,
math-type compositeblock.over-symbol > symbol.breve > inner.right-sign,
math-type compositeblock.over-symbol > symbol.check > inner.right-sign {
  transform: translate(0.17em, 0);
}
math-type compositeblock.over-symbol > symbol.ddddot {
  min-width: 0.9em;
}
math-type compositeblock.over-symbol > symbol.dddot {
  min-width: 0.7em;
}

.math-xx > editarea {
  float: left;
}

math-type .big-delimiter-symbol {
  display: inline-flex;
  align-items: center;
  position: relative;
  margin: 0.1em 0;
}
math-type .big-delimiter-symbol big-delimiter.big-open {
  margin-left: 0.09em;
}
math-type .big-delimiter-symbol big-delimiter.big-close {
  margin-right: 0.07em;
}
math-type .big-delimiter-symbol > base-line-indicator {
  height: inherit;
}
math-type .big-delimiter-symbol > big-delimiter > svg {
  height: 100%;
  width: 100%;
}
math-type .big-delimiter-symbol > big-delimiter > bulb {
  left: -10px;
}
math-type .big-delimiter-symbol > big-delimiter > setting {
  width: 158px;
  display: flex;
  position: absolute;
  left: 0;
  top: -40px;
}
math-type .big-delimiter-symbol > big-delimiter > setting > .select-box-container {
  margin-right: 4px;
}
math-type .big-delimiter-symbol > big-delimiter > setting > .select-box-container:last-child {
  margin-right: 0px;
}

select-buttons {
  font-size: 13px;
  color: gray;
  display: block;
}
select-buttons > sb-item {
  display: inline-block;
  padding: 2px 2px;
  cursor: pointer;
  border: 1px solid transparent;
  /*box-sizing: border-box;*/
}
select-buttons > sb-item.selected {
  background-color: white;
  border: 1px solid lightgray;
}
select-buttons > sb-item:hover {
  border: 1px solid lightgray;
}
select-buttons > sb-item.disabled {
  opacity: 0.3;
  cursor: default;
  border: 1px solid transparent;
}
select-buttons > sb-item.disabled:hover {
  background-color: inherit;
  border: 1px solid transparent;
}

tabs-container tab-item {
  color: gray;
}
tabs-container tab-item:hover {
  color: black;
}

expandable-component.button-action {
  cursor: pointer;
  color: gray;
  fill: gray;
}
expandable-component.button-action:hover,
expandable-component.button-action.selected {
  color: black;
  fill: black;
}
expandable-component.button-action:hover label-display,
expandable-component.button-action.selected label-display {
  border: 1px solid #e2e0e0;
}
expandable-component.button-action label-display {
  font-size: 12px;
  padding-top: 5px;
  display: flex;
  border: 1px solid transparent;
  padding-left: 2px;
  padding-right: 2px;
  margin-top: 0px;
  padding-bottom: 4px;
  cursor: pointer;
}
expandable-component.button-action label-display > i {
  padding-left: 5px;
  padding-top: 1px;
}
expandable-component.button-action label-item-container > label-item:hover {
  background-color: #bfe4bd;
}
expandable-component.button-action label-item-container > label-item.ignore-select {
  background-color: inherit;
  cursor: default;
}
expandable-component.button-action.button-style label-display {
  background: white;
  border: 1px solid lightgray;
}
expandable-component.button-action.button-style:hover,
expandable-component.button-action.button-style.selected {
  color: gray;
}
expandable-component.button-action.button-style:hover label-display,
expandable-component.button-action.button-style.selected label-display {
  background: #f7f6f6;
}

g.group-box-move {
  opacity: 0.2;
}
g.group-box-move:hover {
  opacity: 0.8;
}




.math-diagram .intersections-group {
  stroke-width: 2px;
  stroke: black;
  fill: transparent;
  cursor: move;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.math-diagram > math-diagram {
  background: white;
}
math-type compositeblock.math-diagram {
  cursor: default;
  width: 100%;
  /** display block as if inline block, it will be disapear in some cases*/
  display: block;
}
math-type compositeblock.math-diagram .connection-point {
  cursor: crosshair;
}
math-type compositeblock.math-diagram .connection-point g {
  fill-opacity: 0.6;
}
math-type compositeblock.math-diagram .connection-point:hover g {
  fill-opacity: 1;
}
math-type compositeblock.math-diagram .text-diagram-editor editarea.text-mode.non-wrap > line.text-mode {
  font-size: unset;
}
math-type compositeblock.math-diagram .text-diagram-editor editarea.text-mode.non-wrap > line.text-mode > block {
  white-space: pre;
}
math-type compositeblock.math-diagram .text-diagram-editor editarea.text-mode.non-wrap > line.text-mode > blocks > block {
  white-space: pre;
}
math-type compositeblock.math-diagram > math-diagram {
  border: 1px solid transparent;
}
math-type compositeblock.math-diagram > math-diagram > clip-region > zoom-region {
  display: block;
  width: 100%;
  height: 100%;
}
math-type compositeblock.math-diagram > math-diagram > clip-region > zoom-region > svg {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}
math-type compositeblock.math-diagram .add-label {
  fill: gray;
}
math-type compositeblock.math-diagram .add-label:hover {
  fill: black;
}
math-type compositeblock.math-diagram .diagram-editor {
  margin: 0 2px;
}
math-type compositeblock.math-diagram .control-point-guide {
  stroke: lightgray;
  stroke-width: 0.5px;
  pointer-events: none;
}
math-type compositeblock.math-diagram .connection-group {
  stroke: black;
  fill: none;
}
math-type compositeblock.math-diagram .arrow-line {
  cursor: move;
}
math-type compositeblock.math-diagram .mobile-tablet .shape .transparent,
math-type compositeblock.math-diagram .mobile-tablet .composite-shape .transparent {
  stroke-width: 10px;
}
math-type compositeblock.math-diagram .shape,
math-type compositeblock.math-diagram .composite-shape {
  stroke-width: 1px;
  fill: none;
  cursor: move;
}
math-type compositeblock.math-diagram .shape .transparent,
math-type compositeblock.math-diagram .composite-shape .transparent {
  pointer-events: visiblePainted;
  stroke-width: 6px;
  stroke: transparent;
  stroke-dasharray: none;
  fill: none;
}
math-type compositeblock.math-diagram .mobile-tablet .connection.transparent,
math-type compositeblock.math-diagram .mobile-tablet .connection.transparent > line,
math-type compositeblock.math-diagram .mobile-tablet .connection.transparent > path {
  stroke-width: 10px;
}
math-type compositeblock.math-diagram .connection {
  stroke-width: 1px;
  fill: none;
  cursor: move;
}
math-type compositeblock.math-diagram .connection.transparent,
math-type compositeblock.math-diagram .connection.transparent > line,
math-type compositeblock.math-diagram .connection.transparent > path {
  pointer-events: visiblePainted;
  stroke-width: 6px;
  stroke: transparent;
  stroke-dasharray: none;
  fill: none;
}
math-type compositeblock.math-diagram .frame {
  stroke-width: 1px;
  fill: transparent;
}
math-type math-diagram {
  display: block;
  position: relative;
  width: 100%;
  height: 300px;
}
math-type math-diagram position-container {
  position: absolute;
  width: 1px;
  height: 1px;
  display: block;
}
math-type math-diagram dg-editor-container {
  position: absolute;
  min-width: 0.85em;
  border-collapse: border-box;
}
math-type math-diagram coverlayer {
  position: absolute;
  background: transparent;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  cursor: move;
}
math-type math-diagram connection-point {
  position: absolute;
  display: block;
  height: 6px;
  width: 6px;
  background: lightgray;
  border: 1px solid gray;
  bottom: -10px;
  left: 50%;
  margin-left: -3px;
  cursor: e-resize;
}
math-type .diagram-caption > line.text-mode:first-child {
  display: inline;
}
math-type .diagram-caption > line.text-mode:first-child > blocks {
  display: inline;
}


.plot-input-style-settings {
  opacity: 0.5;
}
.plot-input-style-settings:hover {
  opacity: 1;
}

.psa-cn .ps-hint {
  opacity: 0;
  transition: opacity 0.3s linear;
}
.psa-cn:hover .ps-hint {
  opacity: 0.6;
}

.role-toolbar-wrapper.dg-full-view tool-bar too-bar-container {
  justify-content: start;
  width: auto;
  min-width: 0;
}
.role-toolbar-wrapper.dg-full-view diagram-settings {
  width: auto;
}

.dg-items-bar-container item {
  display: inline-block;
  padding: 3px;
  fill: gray;
  stroke: gray;
}
.dg-items-bar-container item,
.dg-items-bar-container item-option {
  border: 1px transparent solid;
}
.dg-items-bar-container item:hover,
.dg-items-bar-container item-option:hover {
  border: 1px #c4c1c1 solid;
  background: white;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type compositeblock.theorem {
  display: block;
}
math-type compositeblock.theorem.selected {
  outline: 1px solid rgba(93, 92, 92, 0.3);
}
math-type theorem-name {
  min-width: 20px;
  display: inline;
}
math-type theorem-name > line.text-mode:first-child {
  display: inline;
}
math-type editarea.text-mode.edit-theorem-content {
  min-width: 100px;
  display: inline;
  font-style: italic;
}
math-type editarea.text-mode.edit-theorem-content > line.text-mode:first-child {
  display: inline;
}
math-type editarea.text-mode.edit-theorem-content > line.text-mode:first-child > blocks {
  display: inline;
}
math-type editarea.text-mode.edit-theorem-content > line.text-mode > block {
  font-style: italic;
}
math-type editarea.text-mode.edit-theorem-content > line.text-mode > blocks > block {
  font-style: italic;
}
math-type editarea.text-mode.edit-theorem-content.normal > line.text-mode > block {
  font-style: normal;
}
math-type editarea.text-mode.edit-theorem-content.normal > line.text-mode > blocks > block {
  font-style: normal;
}
math-type editarea.text-mode.edit-theorem-content .qed-symbol {
  line-height: 1em;
}
.deletable {
  cursor: pointer;
}
.deletable:hover {
  color: red;
}

.regular-checkbox:hover {
  background-color: #f3f2f2;
}

@media print {
  code[class*="language-"],
  pre[class*="language-"] {
    text-shadow: none !important;
  }
}
math-type .code-section prefix.code-line-number {
  color: #a9a7a7;
  width: 2.5em;
  display: inline-block;
  flex-shrink: 0;
}
math-type .code-section prefix.code-line-number.prefix-l10 {
  width: 1.5em;
}
math-type .code-section prefix.code-line-number.prefix-l100 {
  width: 2em;
}
math-type .code-section .code-line-blocks-container {
  white-space: pre-wrap;
  white-space: break-spaces;
}
math-type .code-section .code-line-blocks-container block.token {
  white-space: pre-wrap;
  white-space: break-spaces;
}
math-type .code-section line.text-mode.code-section-line {
  display: flex;
  flex-direction: row;
  line-height: 1.5;
}

/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */
.code-section.theme-default editarea {
  color: black;
}
.code-section.theme-default .token.comment,
.code-section.theme-default .token.prolog,
.code-section.theme-default .token.doctype,
.code-section.theme-default .token.cdata {
  color: slategray;
}
.code-section.theme-default .token.punctuation {
  color: #999;
}
.code-section.theme-default .namespace {
  opacity: 0.7;
}
.code-section.theme-default .token.property,
.code-section.theme-default .token.tag,
.code-section.theme-default .token.boolean,
.code-section.theme-default .token.number,
.code-section.theme-default .token.constant,
.code-section.theme-default .token.symbol,
.code-section.theme-default .token.deleted {
  color: #905;
}
.code-section.theme-default .token.selector,
.code-section.theme-default .token.attr-name,
.code-section.theme-default .token.string,
.code-section.theme-default .token.char,
.code-section.theme-default .token.builtin,
.code-section.theme-default .token.inserted {
  color: #690;
}
.code-section.theme-default .token.operator,
.code-section.theme-default .token.entity,
.code-section.theme-default .token.url,
.code-section.theme-default .language-css .token.string,
.code-section.theme-default .style .token.string {
  color: #9a6e3a;
}
.code-section.theme-default .token.atrule,
.code-section.theme-default .token.attr-value,
.code-section.theme-default .token.keyword {
  color: #07a;
}
.code-section.theme-default .token.function,
.code-section.theme-default .token.class-name {
  color: #DD4A68;
}
.code-section.theme-default .token.regex,
.code-section.theme-default .token.important,
.code-section.theme-default .token.important1,
.code-section.theme-default .token.variable {
  color: #e90;
}
.code-section.theme-default .token.important,
.code-section.theme-default .token.bold,
.code-section.theme-default .token.bold1 {
  font-weight: bold;
}
.code-section.theme-default .token.italic,
.code-section.theme-default .token.italic1 {
  font-style: italic;
}
.code-section.theme-default .token.entity {
  cursor: help;
}

/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */
.code-section.theme-tomorrow-night {
  /**
 * prism.js tomorrow night eighties for JavaScript, CoffeeScript, CSS and HTML
 * Based on https://github.com/chriskempson/tomorrow-theme
 * @author Rose Pritchard
 */
}
.code-section.theme-tomorrow-night editarea {
  caret-color: #ccc;
}
.code-section.theme-tomorrow-night editarea {
  color: #ccc;
}
.code-section.theme-tomorrow-night .token.comment,
.code-section.theme-tomorrow-night .token.block-comment,
.code-section.theme-tomorrow-night .token.prolog,
.code-section.theme-tomorrow-night .token.doctype,
.code-section.theme-tomorrow-night .token.cdata {
  color: #999;
}
.code-section.theme-tomorrow-night .token.punctuation {
  color: #ccc;
}
.code-section.theme-tomorrow-night .token.tag,
.code-section.theme-tomorrow-night .token.attr-name,
.code-section.theme-tomorrow-night .token.namespace,
.code-section.theme-tomorrow-night .token.deleted {
  color: #e2777a;
}
.code-section.theme-tomorrow-night .token.function-name {
  color: #6196cc;
}
.code-section.theme-tomorrow-night .token.boolean,
.code-section.theme-tomorrow-night .token.number,
.code-section.theme-tomorrow-night .token.function {
  color: #f08d49;
}
.code-section.theme-tomorrow-night .token.property,
.code-section.theme-tomorrow-night .token.class-name,
.code-section.theme-tomorrow-night .token.constant,
.code-section.theme-tomorrow-night .token.symbol {
  color: #f8c555;
}
.code-section.theme-tomorrow-night .token.selector,
.code-section.theme-tomorrow-night .token.important,
.code-section.theme-tomorrow-night .token.important1,
.code-section.theme-tomorrow-night .token.atrule,
.code-section.theme-tomorrow-night .token.keyword,
.code-section.theme-tomorrow-night .token.builtin {
  color: #cc99cd;
}
.code-section.theme-tomorrow-night .token.string,
.code-section.theme-tomorrow-night .token.char,
.code-section.theme-tomorrow-night .token.attr-value,
.code-section.theme-tomorrow-night .token.regex,
.code-section.theme-tomorrow-night .token.variable {
  color: #7ec699;
}
.code-section.theme-tomorrow-night .token.operator,
.code-section.theme-tomorrow-night .token.entity,
.code-section.theme-tomorrow-night .token.url {
  color: #67cdcc;
}
.code-section.theme-tomorrow-night .token.important,
.code-section.theme-tomorrow-night .token.bold,
.code-section.theme-tomorrow-night .token.bold1 {
  font-weight: bold;
}
.code-section.theme-tomorrow-night .token.italic,
.code-section.theme-tomorrow-night .token.italic1 {
  font-style: italic;
}
.code-section.theme-tomorrow-night .token.entity {
  cursor: help;
}
.code-section.theme-tomorrow-night .token.inserted {
  color: green;
}

editor-container > math-type.dark-mode {
  background: #1e1e1e;
}
math-type.dark-mode {
  background: #1e1e1e;
}
math-type.dark-mode.math-type-for-print {
  -webkit-print-color-adjust: exact;
}
math-type.dark-mode editarea.root-editor {
  color: #e0e0e0;
  fill: #e0e0e0;
  stroke: #e0e0e0;
  border-color: #e0e0e0;
}
math-type.dark-mode editarea.root-editor {
  background: #1e1e1e;
}
math-type.dark-mode .math-container-symbol.selected,
math-type.dark-mode .math-container-symbol.display.selected {
  background-color: #2a352a;
}
math-type.dark-mode .matrix-symbol.gather-symbol.selected {
  background-color: #2a352a;
}
math-type.dark-mode .matrix-symbol.gather-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol.align-symbol.selected {
  background-color: #2a352a;
}
math-type.dark-mode .matrix-symbol.align-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol.matrix-like.selected {
  background-color: #2a352a;
}
math-type.dark-mode .matrix-symbol.matrix-like > matrix > table > tbody > tr.selected:not(.hline) {
  border-top: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol.matrix-like > matrix > table > tbody > tr:last-child.selected {
  border-bottom: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol > matrix > table > tbody > tr > td.selected:not(.vline) {
  border-left: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol > matrix > table > tbody > tr > td:last-child.selected {
  border-right: 1px solid #525252;
}
math-type.dark-mode .matrix-symbol.case-symbol > matrix > table > tbody > tr > td.selected {
  border: 1px solid #525252;
}
math-type.dark-mode selection-wrapper > selection {
  background-color: rgba(33, 150, 243, 0.25);
}
math-type.dark-mode selection-wrapper.inactive > selection {
  background-color: rgba(255, 255, 255, 0.27);
}
math-type.dark-mode editarea.selected {
  outline: 1px solid rgba(177, 174, 174, 0.3);
}
math-type.dark-mode compositeblock.math-diagram > math-diagram {
  background: #1e1e1e;
}
container-layer.dark-mode editor-container {
  background: #1e1e1e;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
editor-container > math-type {
  background: white;
  outline: 1px solid lightgray;
}
math-type {
  display: block;
  position: relative;
  padding: 20px;
  color: black;
  padding-top: 15px;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  outline: none;
  cursor: text;
  text-align: initial;
}
math-type .rcnt {
  color: white;
  font-size: 12px;
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  bottom: 0;
  display: flex;
  flex-direction: row;
}
math-type > .mt-sa {
  position: absolute;
  top: 0;
  left: -100px;
  right: -100px;
  bottom: -400px;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  pointer-events: none;
}
math-type.math-only compositeblock.math-container-symbol {
  width: 100%;
}
math-type.math-only compositeblock.math-container-symbol.selected {
  outline: none;
  background: none;
}
math-type.math-only compositeblock.math-container-symbol > editarea {
  width: 100%;
}
math-type.math-only compositeblock.math-container-symbol > editarea > line {
  justify-content: flex-start;
}
math-type > input:not([type]),
math-type input[type="text"] {
  width: 50px;
}
math-type composition-indicator {
  display: block;
  position: absolute;
  height: 2px;
  min-width: 2px;
  border-bottom: 2px solid gray;
  left: 0;
  top: 0;
}
math-type .focus-element {
  outline: none;
  overflow: hidden;
  width: 0px;
  height: 0px;
  top: 0px;
  left: 0px;
  display: block;
  position: absolute;
  font-size: 40px;
}
.scroll-without-scrollbar {
  scrollbar-width: none;
  /* Firefox */
  -ms-overflow-style: none;
  /* IE 10+ */
}
.scroll-without-scrollbar::-webkit-scrollbar {
  width: 0;
  height: 0;
  display: none;
}
#root,
.main-container {
  width: 100%;
  color: #212121;
}
.sub-text-cursor,
.text-cursor {
  position: absolute;
  color: green;
  /*font-size: 1.2em;*/
  pointer-events: none;
  border-left: 2px solid green;
  display: block;
  top: 0px;
  left: 0px;
  z-index: 10;
}
.sub-text-cursor {
  opacity: 0.4;
}
math-edit-container {
  display: block;
  outline: none;
  position: relative;
  font-family: 'Asana';
}
.root-editor {
  min-height: 500px;
  box-sizing: border-box;
}
.root-editor.restricted-view {
  min-height: unset;
}
.root-editor.test-view {
  min-height: 100px;
}
.menu {
  color: #ffffff;
  text-transform: uppercase;
  text-decoration: none;
  font-family: "HelveticaNeue-Medium", sans-serif;
  font-size: 14px;
  display: inline-block;
  transform: scale(1, 1.5);
  -webkit-transform: scale(1, 1.5);
  /* Safari and Chrome */
  -moz-transform: scale(1, 1.5);
  /* Firefox */
  -ms-transform: scale(1, 1.5);
  /* IE 9+ */
  -o-transform: scale(1, 1.5);
  /* Opera */
}
.setting-group-options {
  font-size: 13px;
  color: gray;
  fill: gray;
}
.setting-group-options > i,
.setting-group-options > svg.icon {
  padding: 3px;
  cursor: pointer;
  border: 1px solid transparent;
  /*box-sizing: border-box;*/
}
.setting-group-options > i.selected,
.setting-group-options > svg.icon.selected {
  background-color: white;
  border: 1px solid lightgray;
}
.setting-group-options > i:hover,
.setting-group-options > svg.icon:hover {
  border: 1px solid lightgray;
}
.setting-group-options > i.disabled,
.setting-group-options > svg.icon.disabled {
  opacity: 0.3;
}
.setting-group-options > i.disabled:hover,
.setting-group-options > svg.icon.disabled:hover {
  background-color: inherit;
  border: 1px solid transparent;
}
math-type .math-text,
math-type .normal-text,
math-type .raw-latex {
  font-family: arial, verdana, geneva, lucida, 'lucida grande', arial, helvetica, sans-serif;
}
math-type .math-text editarea.text-mode > line.text-mode > blocks > block,
math-type .normal-text editarea.text-mode > line.text-mode > blocks > block,
math-type .raw-latex editarea.text-mode > line.text-mode > blocks > block {
  white-space: nowrap;
}
.mt-common-dialog {
  box-shadow: 1px 1px 1px 0px #e0dddd;
  background-color: #f7f7f7;
  border: 1px lightgray solid;
  z-index: 14;
  padding: 6px;
  cursor: default;
  font-family: "Segoe UI", Arial, Verdana, sans-serif;
}
disabled-layer {
  display: block;
  position: absolute;
  left: 0;
  top: 1px;
  right: 0;
  bottom: 2px;
  background: rgba(247, 247, 247, 0.66);
  /** consider export button z-index when change this one*/
  z-index: 500;
}
math-type tag-container tag-select-wrapper {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
math-type tag-container tag-box-select {
  position: absolute;
  display: block;
  background-color: green;
  opacity: 0;
  cursor: pointer;
  z-index: 15;
}
math-type tag-container tag-box-select:hover {
  opacity: 0.2;
}
math-type tag-container tag-box-gap {
  position: absolute;
  display: block;
  background-color: white;
  opacity: 0.9;
  z-index: 15;
}
.setting-popup-zindex {
  z-index: 11;
}
svg.selectable {
  cursor: pointer;
  border: 1px solid transparent;
}
svg.selectable.selected {
  background: white;
  border: solid 1px lightgray;
}
svg.selectable:hover {
  border: solid 1px lightgray;
}


@media print {
  @page {
    margin: 0;
  }
  /**
    Convert Preview into main print area
    */
  .math-type-doc,
  .docs-container,
  .modal-dialog-root-container,
  instructions-container {
    display: none !important;
  }
  .print-preview-container {
    position: static !important;
    display: block !important;
    visibility: visible !important;
    width: auto !important;
    height: auto !important;
    z-index: 99999 !important;
  }
  .print-container {
    position: static !important;
    overflow: hidden;
  }
  .print-preview-controls-container {
    display: none !important;
  }
  .math-type-no-print {
    display: none !important;
  }
  area-container.print-page-level {
    margin-left: 0 !important;
    margin-top: 0 !important;
    margin-right: 0 !important;
    margin-bottom: 0 !important;
    border: none !important;
    border-left: none !important;
    border-top: none !important;
    border-right: none !important;
    border-bottom: none !important;
    break-inside: avoid !important;
  }
  .area-container-border {
    border: none !important;
    border-left: none !important;
    border-top: none !important;
    border-right: none !important;
    border-bottom: none !important;
    display: none !important;
  }
  #print-container {
    background-color: transparent !important;
  }
  #print-container > math-type {
    background-color: transparent !important;
  }
  #print-container > math-type > math-edit-container > editarea {
    background-color: transparent !important;
  }
  /*-----------------------------*/
  header,
  .export-bar-container {
    display: none !important;
  }
  math-type {
    padding: 0 !important;
  }
  .print-remove-background {
    background-color: transparent !important;
  }
  document-info-bar {
    display: none !important;
  }
  document-sidebar-container {
    display: none !important;
  }
  body {
    position: relative !important;
  }
  page,
  #root,
  body,
  html {
    height: 100% !important;
    width: 100% !important;
    position: relative !important;
    background: white !important;
    overflow: visible !important;
  }
}
.print-background.math-type-for-print {
  -webkit-print-color-adjust: exact;
}
@media print {
  outline: none !important;
  .npm__react-simple-code-editor__textarea {
    display: none !important;
  }
  math-diagram {
    border: none !important;
  }
  .no-border-on-print {
    border: none !important;
  }
  .setting-select {
    display: none !important;
  }
  .no-print,
  ref-tag.empty-line-tag,
  .text-cursor,
  .sub-text-cursor,
  selection-wrapper,
  message-box-container,
  connection-controls,
  .control-point-guide,
  tool-bar,
  items-bar,
  document-sidebar,
  resize-bar,
  diagram-expander,
  warning-error-region,
  loading-layer,
  resizing-info,
  toc-refresh {
    display: none !important;
  }
  .no-print-outline {
    outline: none !important;
  }
  .selected {
    background: unset !important;
  }
  .math-container-symbol.selected {
    background: unset !important;
  }
  .matrix-symbol.align-symbol {
    background: unset !important;
  }
  .matrix-symbol.gather-symbol {
    background: unset !important;
  }
  tr.selected,
  td.selected {
    border: unset !important;
  }
  tr.selected.hline {
    border-top: 1px solid black !important;
  }
  tr.selected.last-hline {
    border-bottom: 1px solid black !important;
  }
  td.selected.vline {
    border-left: 1px solid black !important;
  }
  td.selected.last-vline {
    border-right: 1px solid black !important;
  }
  .selected {
    outline: unset !important;
  }
  container-layer {
    margin: 0 !important;
    padding: 0 !important;
    background: transparent !important;
    height: initial !important;
    overflow: visible !important;
  }
  editor-container {
    border: none !important;
    margin: 0 !important;
    padding: 0 !important;
    background: transparent !important;
    width: 100% !important;
  }
  content-area {
    padding: 0px !important;
    margin: 0;
    background: transparent !important;
  }
  vcomposed-symbol.non-safari > start {
    margin-bottom: -0.05em !important;
  }
  vcomposed-symbol.non-safari > middle-center {
    margin-top: -0.05em;
    margin-bottom: -0.05em !important;
  }
  vcomposed-symbol.non-safari > middle {
    margin-top: -0.05em;
    margin-bottom: -0.05em !important;
  }
  vcomposed-symbol.non-safari > end {
    margin-top: -0.05em !important;
  }
}
.math-type-for-print {
  outline: none !important;
}
.math-type-for-print .npm__react-simple-code-editor__textarea {
  display: none !important;
}
.math-type-for-print math-diagram {
  border: none !important;
}
.math-type-for-print .no-border-on-print {
  border: none !important;
}
.math-type-for-print .setting-select {
  display: none !important;
}
.math-type-for-print .no-print,
.math-type-for-print ref-tag.empty-line-tag,
.math-type-for-print .text-cursor,
.math-type-for-print .sub-text-cursor,
.math-type-for-print selection-wrapper,
.math-type-for-print message-box-container,
.math-type-for-print connection-controls,
.math-type-for-print .control-point-guide,
.math-type-for-print tool-bar,
.math-type-for-print items-bar,
.math-type-for-print document-sidebar,
.math-type-for-print resize-bar,
.math-type-for-print diagram-expander,
.math-type-for-print warning-error-region,
.math-type-for-print loading-layer,
.math-type-for-print resizing-info,
.math-type-for-print toc-refresh {
  display: none !important;
}
.math-type-for-print .no-print-outline {
  outline: none !important;
}
.math-type-for-print .selected {
  background: unset !important;
}
.math-type-for-print .math-container-symbol.selected {
  background: unset !important;
}
.math-type-for-print .matrix-symbol.align-symbol {
  background: unset !important;
}
.math-type-for-print .matrix-symbol.gather-symbol {
  background: unset !important;
}
.math-type-for-print tr.selected,
.math-type-for-print td.selected {
  border: unset !important;
}
.math-type-for-print tr.selected.hline {
  border-top: 1px solid black !important;
}
.math-type-for-print tr.selected.last-hline {
  border-bottom: 1px solid black !important;
}
.math-type-for-print td.selected.vline {
  border-left: 1px solid black !important;
}
.math-type-for-print td.selected.last-vline {
  border-right: 1px solid black !important;
}
.math-type-for-print .selected {
  outline: unset !important;
}
.math-type-for-print container-layer {
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  height: initial !important;
  overflow: visible !important;
}
.math-type-for-print editor-container {
  border: none !important;
  margin: 0 !important;
  padding: 0 !important;
  background: transparent !important;
  width: 100% !important;
}
.math-type-for-print content-area {
  padding: 0px !important;
  margin: 0;
  background: transparent !important;
}
.math-type-for-print vcomposed-symbol.non-safari > start {
  margin-bottom: -0.05em !important;
}
.math-type-for-print vcomposed-symbol.non-safari > middle-center {
  margin-top: -0.05em;
  margin-bottom: -0.05em !important;
}
.math-type-for-print vcomposed-symbol.non-safari > middle {
  margin-top: -0.05em;
  margin-bottom: -0.05em !important;
}
.math-type-for-print vcomposed-symbol.non-safari > end {
  margin-top: -0.05em !important;
}
.justify-single-line {
  display: inline-block;
  text-align-last: justify;
  width: 100%;
}
.rtl-on-line-level {
  direction: rtl;
}

math-type modal-dialog.import-latex math-type editarea.root-editor {
  min-height: 100px;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
math-type .mobile-keys-support-region {
  position: fixed;
  top: 84px;
  left: 45px;
  color: gray;
  z-index: 11609;
  opacity: 0.9;
  display: flex;
  width: auto;
  z-index: 600;
  cursor: pointer;
}
math-type .mobile-keys-support-region.is-android {
  top: unset;
  bottom: 4px;
  left: 17px;
}
math-type .mobile-keys-support-region.select-only {
  top: 40px;
  left: 25px;
}
math-type .mobile-keys-support-region.select-only .btn-suggestion-box-mobile {
  display: none;
}



.special-symbol-dialog__special-char {
  display: inline-block;
  width: 24px;
  height: 24px;
  line-height: 24px;
  border-bottom: 1px solid #ddd;
  border-right: 1px solid #ddd;
  text-align: center;
  cursor: pointer;
  outline: none;
}
.special-symbol-dialog__special-char:hover {
  background: #bfe4bd;
}

/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**different context*/
/**different context*/
context-menu-container {
  position: fixed;
  left: 100px;
  top: 300px;
  z-index: 13;
  box-shadow: 2px 2px 3px 0px #c3c3c3;
  border: 1px solid lightgray;
  width: 200px;
  background: white;
  cursor: default;
  outline: none;
  font-family: "Segoe UI", Arial, Verdana, sans-serif;
}
context-menu-container ct-item {
  display: block;
  padding: 6px 9px;
  font-size: 13px;
  color: gray;
}
context-menu-container ct-item.disabled {
  color: lightgray;
}
context-menu-container ct-item:hover {
  background: #eae9e9;
}
context-menu-container ct-item.hidden {
  display: none;
}
context-menu-container ct-icon {
  width: 20px;
  display: inline-block;
}
context-menu-container ct-separator {
  width: 100%;
  display: block;
  height: 1px;
  margin-top: 2px;
  margin-bottom: 2px;
  border-top: 1px solid lightgray;
}

/* Collection default theme */
/* Grid default theme */
/* Table default theme */









/* List default theme */



math-type .symbol-container,
.auto-complete-external-area .symbol-container {
  display: flex;
  flex-direction: row;
  min-height: 25px;
  padding-left: 4px;
  padding-right: 12px;
  align-items: center;
  cursor: pointer;
}
math-type .symbol-container.selected,
.auto-complete-external-area .symbol-container.selected {
  background-color: #bfe4bd;
}
math-type .symbol-friendly-name,
.auto-complete-external-area .symbol-friendly-name {
  flex-grow: 1;
  font-family: Asana;
  /*padding-top: 6px;*/
}
math-type .symbol-icon,
.auto-complete-external-area .symbol-icon {
  /*padding-top: 6px;*/
  margin-right: 15px;
  min-width: 20px;
  text-align: center;
}
math-type .short-cut,
.auto-complete-external-area .short-cut {
  text-align: center;
  color: gray;
  /*vertical-align: middle;*/
  /*line-height: 20px;*/
  margin: 0 2px 0 2px;
  font-size: 12px;
  display: flex;
  align-items: center;
}
math-type .short-cut span,
.auto-complete-external-area .short-cut span {
  font-size: 10px;
}
math-type .hidden,
.auto-complete-external-area .hidden {
  display: none;
}







/**different context*/
/**different context*/
selection-wrapper {
  display: block;
  position: absolute;
  left: 0;
  top: 0;
  user-select: none;
  pointer-events: none;
  z-index: 9;
}
selection-wrapper > selection {
  display: block;
  position: absolute;
  background-color: rgba(0, 126, 255, 0.15);
  user-select: none;
  width: 100px;
  height: 100px;
  transform-origin: 0 0;
}
selection-wrapper.inactive > selection {
  background-color: rgba(58, 57, 57, 0.13);
}

region-highlight-container {
  user-select: none;
  pointer-events: none;
  display: block;
  position: absolute;
  width: 0px;
  height: 0px;
  top: 0;
  left: 0;
  border: 1px solid lightgoldenrodyellow;
  opacity: 0.2;
}
region-highlight-container > rhc-all > rh-rect {
  display: block;
  position: absolute;
  background: orange;
}
region-highlight-container > rh-selected-rect {
  display: block;
  position: absolute;
  background: red;
}

.math-template-btb.btn-normal {
  background: transparent;
  margin-left: 0;
  font-size: 12px;
  border: none;
}
.math-template-btb.btn-normal:hover {
  background: white;
}
.math-template-name-item:hover {
  background: #f7f7f7;
}

.math-template-tree .tree-node-name {
  white-space: nowrap;
}
.math-template-tree .tree-node-name:hover {
  background: #f7f7f7;
}

math-type compositeblock.bib-bibliography {
  width: 100%;
  display: block;
}
math-type compositeblock.bib-cite {
  display: inline;
  white-space: break-spaces;
}
math-type compositeblock.bib-cite > editarea.text-mode {
  display: inline;
}
math-type compositeblock.bib-cite > editarea.text-mode > line.text-mode {
  display: inline;
}
math-type compositeblock.bib-cite > editarea.text-mode > line.text-mode > blocks {
  display: inline;
}
.csl-context {
  white-space: pre-wrap;
}
.csl-context.csl-cite div {
  display: inline;
}
.csl-context div.csl-left-margin {
  float: left;
}
.csl-context div.csl-block {
  font-weight: bold;
}
.csl-context div.csl-right-inline {
  margin-left: 2.5em;
}
.csl-context div.csl-indent {
  margin-top: 0.5em;
  margin-left: 2em;
  padding-bottom: 0.2em;
  padding-left: 0.5em;
  border-left: 5px solid #ccc;
}

.caption-ref-select .role-item:hover {
  background: #edf9ec;
}

.footnote-mt-container {
  position: relative;
}
.footnote-mt-container .more-option-box {
  position: absolute;
  left: -25px;
  top: 0;
  width: 30px;
  bottom: 0;
  display: none;
}
.footnote-mt-container .more-option-box > div {
  background: #f7f7f7;
  border: 1px solid #d6d3d3;
  padding: 0 0.2em;
  cursor: pointer;
  color: gray;
  display: inline-block;
}
.footnote-mt-container.hover-select:hover .more-option-box {
  display: block;
}
.mt-doc-fn > math-edit-container > editarea > area-container > line > first-line-prefix {
  padding-right: 0.3em;
}
.mt-doc-fn > math-edit-container > editarea > area-container > line.has-rtl {
  direction: rtl;
}
.mt-doc-fn > math-edit-container > editarea > area-container > line.has-rtl > first-line-prefix {
  padding-left: 0.3em;
}
.blocks-inline > math-edit-container > editarea > area-container > line > blocks {
  display: inline;
}

.lang-name:hover {
  background: #f7f7f7;
}
.lang-name.selected {
  background: #e1e8f5;
}
.custom-lange-area input::placeholder,
.custom-lange-area textarea::placeholder {
  color: lightgray;
}

.page-print-item {
  position: relative;
}
.page-print-item:hover .page-print-item-hover {
  display: block;
}
.page-print-item-hover {
  display: none;
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 10px;
  background: #f7f6f6;
  z-index: 10;
  padding: 5px;
  font-size: 0.8em;
  white-space: nowrap;
  color: gray;
  border: 1px solid lightgray;
}

.settings-show-hide {
  background: rgba(255, 255, 255, 0.61);
}
.settings-show-hide:hover {
  background: white;
}
.group-symbol-collapsed {
  display: block;
  border: 1px dotted lightgray;
  padding-top: 0.1em;
  padding-bottom: 0.1em;
}
.role-math-mode-group.math-mode-group-expanded .settings-show-hide,
.role-text-mode-group-inline.text-mode-group-inline-expanded .settings-show-hide {
  display: none;
}
.role-math-mode-group.math-mode-group-expanded:hover,
.role-text-mode-group-inline.text-mode-group-inline-expanded:hover {
  outline: 1px solid lightgray;
}
.role-math-mode-group.math-mode-group-expanded:hover .settings-show-hide,
.role-text-mode-group-inline.text-mode-group-inline-expanded:hover .settings-show-hide {
  display: flex;
}

math-type compositeblock.text-super-script-symbol,
math-type compositeblock.text-sub-script-symbol {
  display: inline;
}
math-type compositeblock.text-super-script-symbol > editarea.text-mode,
math-type compositeblock.text-sub-script-symbol > editarea.text-mode {
  display: inline;
}
math-type compositeblock.text-super-script-symbol > editarea.text-mode > line.text-mode,
math-type compositeblock.text-sub-script-symbol > editarea.text-mode > line.text-mode {
  display: inline;
}
math-type compositeblock.text-super-script-symbol > editarea.text-mode > line.text-mode > blocks,
math-type compositeblock.text-sub-script-symbol > editarea.text-mode > line.text-mode > blocks {
  display: inline;
}
math-type .text-super-script-symbol {
  vertical-align: super;
}
math-type .text-sub-script-symbol {
  vertical-align: sub;
}

compositeblock.section-ref {
  display: inline;
}
compositeblock.section-ref > .section-ref-border {
  display: inline;
  white-space: pre-wrap;
}
compositeblock.section-ref > div {
  display: inline;
}



icon-dropdown-items icon-dropdown-item:hover {
  background: #eae9e9;
}
icon-dropdown ii-icon {
  fill: gray;
}
icon-dropdown:hover {
  color: #4e4d4d;
}
icon-dropdown:hover ii-icon {
  fill: #4e4d4d;
}

resizable-container {
  display: block;
  position: relative;
  min-height: 0;
  flex-shrink: 0;
}





a.fce {
  cursor: pointer;
}
a.fce:hover svg {
  fill: #2d4373;
}
a.fce svg {
  fill: #3b5998;
}
a.fce i {
  text-align: center;
  color: white;
}
a.gg {
  cursor: pointer;
}
a.gg:hover svg {
  fill: #c23321;
}
a.gg svg {
  fill: #dd4b39;
}
a.gg i {
  text-align: center;
  color: white;
}
a.twr {
  cursor: pointer;
}
a.twr:hover svg {
  fill: #2795e9;
}
a.twr svg {
  fill: #55acee;
}
a.twr i {
  text-align: center;
  color: white;
}
a.gh {
  cursor: pointer;
}
a.gh:hover svg {
  fill: #2b2b2b;
}
a.gh svg {
  fill: #444;
}
a.gh i {
  text-align: center;
  color: white;
}





modal-dialog.swift.document-name modal-container.mt-common-dialog {
  width: 500px;
  max-width: 95vw;
}
modal-dialog.swift.document-name document-name {
  width: 100%;
  display: flex;
  flex-direction: column;
}
modal-dialog.swift.document-name document-name label {
  display: block;
  font-size: 13px;
}
modal-dialog.swift.document-name document-name textarea {
  width: auto;
  display: block;
  margin: 5px 0px;
  height: 39px;
  outline: none;
  border: 1px solid lightgray;
  resize: vertical;
}

.dock-tab-content {
  flex: 1;
  min-height: 0;
  min-width: 0;
  display: none;
}
.dock-tab-content.active {
  display: flex;
}

quick-start editarea.root-editor {
  min-height: 100px;
}
quick-start > qs-math-type-container > math-type:hover {
  border: 1px solid gray;
}
quick-start > qs-math-type-container > math-type tool-bar {
  display: none;
}
quick-start > qs-math-type-container > math-type items-bar {
  display: none;
  left: -60px;
  top: 0px;
  box-shadow: 0px 1px 2px 0px #4c4949;
}





/**we use alpha as we have problem with background (without alpha) in Electron version (older Chrome) **/
/* z-index region*/
/**Context Level 1*/
/**both Level 1 and 2 Context */
/**Context Level 2 inside docsContainerZIndex*/
document-info-container document-info-bar {
  display: block;
  position: absolute;
  right: 15px;
  bottom: 5px;
  background: #f7f7f7;
  box-shadow: 1px 1px 1px 0px #e0dddd;
  border: 1px lightgray solid;
  font-size: 12px;
  padding: 0px;
  color: gray;
  opacity: 0.8;
  z-index: 4;
}
document-info-container document-info-bar:hover {
  opacity: 1;
}
document-info-container modal-container button.ok.btn-primary {
  display: none;
}
.Popover-body {
  font-size: 12px;
  padding: 10px;
  background: #4CAF50;
  box-shadow: #888686 1px 1px 1px 1px;
  color: white;
  max-width: 250px;
}
.Popover-tip {
  fill: #4CAF50;
}

/**Context Level 1*/
/**both Level 1 and 2 Context */
/**Context Level 2 inside docsContainerZIndex*/
.doc-toolbar-container {
  position: relative;
  background: #f7f7f7;
  top: 0;
  left: 0;
  width: 100%;
  border: 1px lightgray solid;
  margin-left: -2px;
  z-index: 6;
}
.doc-toolbar-container > tool-bar {
  position: relative;
  top: 0;
  left: 0;
  display: block;
  padding-left: 0px;
  min-width: 770px;
  width: 770px;
  margin: auto;
  background: transparent;
  box-shadow: none;
  border: none;
  height: 35px;
}











/**Context Level 1*/
/**both Level 1 and 2 Context */
/**Context Level 2 inside docsContainerZIndex*/


</style><style>/* @font-face {
  font-family: 'FontAwesome';
  src: format('woff'), url('fonts/icomoon.svg?erlpdm#icomoon') format('svg');
  font-weight: normal;
  font-style: normal;
} */

[class^="fa-"], [class*=" fa-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  /* font-family: 'FontAwesome' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none; */
  /* line-height: 1; */
  /* Better Font Rendering =========== */
  /* -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale; */
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.fa-plus:before {
  content: "\f067";
}
.fa-user:before {
  content: "\f007";
}
.fa-check:before {
  content: "\f00c";
}
.fa-close:before {
  content: "\f00d";
}
.fa-remove:before {
  content: "\f00d";
}
.fa-times:before {
  content: "\f00d";
}
.fa-search-plus:before {
  content: "\f00e";
}
.fa-search-minus:before {
  content: "\f010";
}
.fa-cog:before {
  content: "\f013";
}
.fa-gear:before {
  content: "\f013";
}
.fa-trash-o:before {
  content: "\f014";
}
.fa-file-o:before {
  content: "\f016";
}
.fa-refresh:before {
  content: "\f021";
}
.fa-font:before {
  content: "\f031";
}
.fa-bold:before {
  content: "\f032";
}
.fa-italic:before {
  content: "\f033";
}
.fa-align-left:before {
  content: "\f036";
}
.fa-align-center:before {
  content: "\f037";
}
.fa-align-right:before {
  content: "\f038";
}
.fa-dedent:before {
  content: "\f03b";
}
.fa-outdent:before {
  content: "\f03b";
}
.fa-indent:before {
  content: "\f03c";
}
.fa-image:before {
  content: "\f03e";
}
.fa-photo:before {
  content: "\f03e";
}
.fa-picture-o:before {
  content: "\f03e";
}
.fa-pencil:before {
  content: "\f040";
}
.fa-edit:before {
  content: "\f044";
}
.fa-pencil-square-o:before {
  content: "\f044";
}
.fa-share-square-o:before {
  content: "\f045";
}
.fa-arrows:before {
  content: "\f047";
}
.fa-chevron-left:before {
  content: "\f053";
}
.fa-chevron-right:before {
  content: "\f054";
}
.fa-times-circle:before {
  content: "\f057";
}
.fa-info-circle:before {
  content: "\f05a";
}
.fa-arrow-left:before {
  content: "\f060";
}
.fa-arrow-right:before {
  content: "\f061";
}
.fa-arrow-up:before {
  content: "\f062";
}
.fa-arrow-down:before {
  content: "\f063";
}
.fa-mail-forward:before {
  content: "\f064";
}
.fa-share:before {
  content: "\f064";
}
.fa-exclamation-circle:before {
  content: "\f06a";
}
.fa-exclamation-triangle:before {
  content: "\f071";
}
.fa-warning:before {
  content: "\f071";
}
.fa-chevron-up:before {
  content: "\f077";
}
.fa-chevron-down:before {
  content: "\f078";
}
.fa-folder:before {
  content: "\f07b";
}
.fa-folder-open:before {
  content: "\f07c";
}
.fa-twitter:before {
  content: "\f099";
}
.fa-twr:before {
  content: "\f099";
}
.fa-facebook:before {
  content: "\f09a";
}
.fa-fce:before {
  content: "\f09a";
}
.fa-facebook-f:before {
  content: "\f09a";
}
.fa-github:before {
  content: "\f09b";
}
.fa-gh:before {
  content: "\f09b";
}
.fa-cut:before {
  content: "\f0c4";
}
.fa-scissors:before {
  content: "\f0c4";
}
.fa-copy:before {
  content: "\f0c5";
}
.fa-files-o:before {
  content: "\f0c5";
}
.fa-bars:before {
  content: "\f0c9";
}
.fa-navicon:before {
  content: "\f0c9";
}
.fa-reorder:before {
  content: "\f0c9";
}
.fa-list-ul:before {
  content: "\f0ca";
}
.fa-list-ol:before {
  content: "\f0cb";
}
.fa-strikethrough:before {
  content: "\f0cc";
}
.fa-underline:before {
  content: "\f0cd";
}
.fa-table:before {
  content: "\f0ce";
}
.fa-magic:before {
  content: "\f0d0";
}
.fa-caret-down:before {
  content: "\f0d7";
}
.fa-caret-right:before {
  content: "\f0da";
}
.fa-sort-desc:before {
  content: "\f0dd";
}
.fa-sort-down:before {
  content: "\f0dd";
}
.fa-clipboard:before {
  content: "\f0ea";
}
.fa-paste:before {
  content: "\f0ea";
}
.fa-angle-double-left:before {
  content: "\f100";
}
.fa-angle-double-right:before {
  content: "\f101";
}
.fa-angle-double-up:before {
  content: "\f102";
}
.fa-angle-double-down:before {
  content: "\f103";
}
.fa-circle:before {
  content: "\f111";
}
.fa-mail-reply:before {
  content: "\f112";
}
.fa-reply:before {
  content: "\f112";
}
.fa-exclamation:before {
  content: "\f12a";
}
.fa-eraser:before {
  content: "\f12d";
}
.fa-ellipsis-h:before {
  content: "\f141";
}
.fa-ellipsis-v:before {
  content: "\f142";
}
.fa-file:before {
  content: "\f15b";
}
.fa-file-text:before {
  content: "\f15c";
}
.fa-google:before {
  content: "\f1a0";
}
.fa-gg:before {
  content: "\f1a0";
}
.fa-trash:before {
  content: "\f1f8";
}
.fa-i-cursor:before {
  content: "\f246";
}
.fa-hand-paper-o:before {
  content: "\f256";
}
.fa-hand-stop-o:before {
  content: "\f256";
}
</style><style>.cb--iframe--aMNCL_E1x046f6Be3ICM {
  all: unset;
  position: fixed;
  right: 0;
  top: 0;
  height: 100%;
  width: 352px;
  z-index: 1000000;
  background: white;
  border: none;
  box-shadow: -3px 2px 5px 2px rgba(0, 0, 0, 0.25);

  transition: right 0.3s ease-out;
}

.cb--closed--lebfAyUbHvSjo3AjhXsJ {
  right: -352px;
}

.cb--hidden--zswHA1e_s5V1Po8KlfTc {
  display: none;
}
</style><style>.cb--openCloseButton--oh3mkDsZMOZh8k0F040F,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F *:not(path) {
  all: unset;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F {
  position: fixed;
  right: 0px;
  z-index: 1000001;

  /* override default button styles */
  margin: 0;
  padding: 0;
  border: none;
  cursor: pointer;

  transition: right 0.3s ease-out;
  border-radius: 2px 0 0 2px;
  text-align: center;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F button {
  /* override default button styles */
  margin: 0;
  padding: 0;
  border: none;
  cursor: pointer;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz .cb--openToggleButton--mqbvYBMC__Itqt46E4EE {
  height: 48px;
  width: 48px;
  border-radius: 4px 0 0 4px;
  background: #0160ff;
}
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz .cb--whiteBackgroundWrapper--alUDtlB95PILj6sYYEyB {
  height: 48px;
  width: 48px;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX {
  right: 352px;
  width: 32px;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz {
  box-shadow: -2px 2px 5px 0px rgba(0, 0, 0, 0.25);
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX .cb--whiteBackgroundWrapper--alUDtlB95PILj6sYYEyB {
  background: white;
  border-radius: 2px 0 0 2px;
  box-shadow: -2px 2px 5px 0px rgba(0, 0, 0, 0.25);
  display: block;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX .cb--openToggleButton--mqbvYBMC__Itqt46E4EE,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX .cb--dismissButton--_Kw5IoLfNW6HCHmKxRfL {
  height: 32px;
  width: 32px;
  background: none;
}

.cb--logoContainer--Xe9DoJlDRdjn9fzukx3a svg {
  fill: white;
  padding: 8px;
}

.cb--closeIconContainer--S9Gso8D9iNvh_BhjjODH svg,
.cb--dismissButton--_Kw5IoLfNW6HCHmKxRfL svg,
.cb--gripperIcon--haVTZsHtE1KPXDZXKj03 svg {
  fill: #666666;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--open--zhmNU_iy7dqGMYCa8hIX .cb--logoContainer--Xe9DoJlDRdjn9fzukx3a,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz .cb--closeIconContainer--S9Gso8D9iNvh_BhjjODH,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--closed--_f_rBuFcBcTMLAaGn2Tz .cb--dismissButton--_Kw5IoLfNW6HCHmKxRfL {
  display: none;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F .cb--dismissButton--_Kw5IoLfNW6HCHmKxRfL svg {
  /* Shrink X icon size, it is too large compared to other icons at same width */
  width: 24px;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F .cb--gripperIcon--haVTZsHtE1KPXDZXKj03 {
  height: 24px;
  width: 32px;
  padding: 0;
  margin-top: 4px;
  margin-left: auto;
  margin-right: auto;
  display: none;
}

.cb--openCloseButton--oh3mkDsZMOZh8k0F040F:hover .cb--gripperIcon--haVTZsHtE1KPXDZXKj03,
.cb--openCloseButton--oh3mkDsZMOZh8k0F040F.cb--dragging--gCDPU69j53T3Du6wkUGE .cb--gripperIcon--haVTZsHtE1KPXDZXKj03 {
  display: block;
}
</style><style>.cb--how-to-open-ftux--lJiFBsjeGgv20UWXQQDq {
  all: unset;
  position: fixed;
  right: 0;
  top: 0;
  z-index: 1000000;
  width: 352px;
  background: white;
  border: none;
  box-shadow: -3px 2px 5px 2px rgba(0, 0, 0, 0.25);
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  color: black;

  font-family: "Roboto", Arial, sans-serif !important;
  font-size: 16px !important;
  font-weight: 400 !important;
  line-height: 24px !important;
}

.cb--close-icon--_TFa6uTtJfnGgIJTXFfY {
  all: unset;
  cursor: pointer;
  height: 24px;
  width: 24px;
  padding: 4px;
  border-radius: 4px;
  margin-left: auto;
  background: white;
}

.cb--ftux-message--Eza1NHUnXuU6o5z9q9RE {
  margin: 0 20px 20px 20px;
}

.cb--cb-icon--EmIuD7INmg1Wo_QQRXk0 {
  display: inline-block;
  height: 24px;
  width: 24px;
  border-radius: 4px;
  background: #0160ff;
  color: white;
  vertical-align: bottom;
}

.cb--cb-icon--EmIuD7INmg1Wo_QQRXk0 svg {
  fill: white;
  margin: 4px;
}
</style></head><body style="overflow:auto;background:rgb(255, 255, 255);width:auto;height:auto;"><editor-container style="display:block;margin:auto;width:794px;"><math-type style="user-select:text;" class=" math-type-for-print "><math-edit-container><editarea class="root-editor" style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 17px;"><area-baseline aria-hidden="true">a</area-baseline><area-container><line class="root text-mode selected align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 1.73em; font-weight: bold;">Large-Scale ML</block></blocks></line><line class="root text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><div data-id="n0.03915655909901572" class="anchor-tag-border no-border-on-print" id="n0.03915655909901572"><span>Table of Content</span></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="table-of-content inline"><toc-wrapper><editarea class="edit-area toc-ea no-area-container text-mode"><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9628145183416017" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9628145183416017" style="display: inline-block; white-space: pre;">1. </span></compositeblock><block>Data Ingestion</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 530.648px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L530.6484375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6310599564421835" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6310599564421835" style="display: inline-block; white-space: pre;">1.1. </span></compositeblock><block>Clickstream: Kafka, Kinesis, Zookeeper</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 343.852px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L343.8515625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.936787077866079" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.936787077866079" style="display: inline-block; white-space: pre;">1.1.1. </span></compositeblock><block>Kafka</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 567.016px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L567.015625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.8391241561575375" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.8391241561575375" style="display: inline-block; white-space: pre;">1.1.2. </span></compositeblock><block>Zookeeper</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 534.727px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L534.7265625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.46056747770324713" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.46056747770324713" style="display: inline-block; white-space: pre;">1.1.3. </span></compositeblock><block>Kinesis</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 558.867px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L558.8671875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.12095149410706463" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.12095149410706463" style="display: inline-block; white-space: pre;">1.2. </span></compositeblock><block>Change data capture, OLTP and OLAP</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 339.266px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L339.265625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7509148555797278" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7509148555797278" style="display: inline-block; white-space: pre;">1.2.1. </span></compositeblock><block>OLTP (Online Transaction Processing)</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 331.695px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L331.6953125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.5024753733606158" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.5024753733606158" style="display: inline-block; white-space: pre;">1.2.2. </span></compositeblock><block>OLAP (Online Analytical Processing)</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 342.969px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L342.96875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.70794470300798" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.70794470300798" style="display: inline-block; white-space: pre;">1.2.3. </span></compositeblock><block>OLTP vs. OLAP</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 491.094px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L491.09375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.017229704738763285" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.017229704738763285" style="display: inline-block; white-space: pre;">1.3. </span></compositeblock><block>Live video, HLS</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 509.25px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L509.25,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.07379038050022935" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.07379038050022935" style="display: inline-block; white-space: pre;">1.4. </span></compositeblock><block>Batch Ingestion</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 510.18px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L510.1796875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7278369556959721" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7278369556959721" style="display: inline-block; white-space: pre;">1.4.1. </span></compositeblock><block>Basic example</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 507.43px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L507.4296875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.33053777733057754" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.33053777733057754" style="display: inline-block; white-space: pre;">2. </span></compositeblock><block>Data Storage</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 540.594px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L540.59375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6593488023133351" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6593488023133351" style="display: inline-block; white-space: pre;">2.1. </span></compositeblock><block>Hadoop Distributed File System (HDFS)</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 331.617px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L331.6171875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6390424225135485" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6390424225135485" style="display: inline-block; white-space: pre;">2.1.1. </span></compositeblock><block>Zookeeper cluster</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 482.656px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L482.65625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9787328080806834" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9787328080806834" style="display: inline-block; white-space: pre;">2.2. </span></compositeblock><block>Kafka transactions</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 489.461px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L489.4609375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.12954931940059367" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.12954931940059367" style="display: inline-block; white-space: pre;">2.3. </span></compositeblock><block>Kafka Connector Sink</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 466.305px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L466.3046875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.12337161424112986" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.12337161424112986" style="display: inline-block; white-space: pre;">2.4. </span></compositeblock><block>Storage Formats</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 504.758px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L504.7578125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.44224389321191815" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.44224389321191815" style="display: inline-block; white-space: pre;">2.4.1. </span></compositeblock><block>Avro</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 575.141px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L575.140625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6434557432590009" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6434557432590009" style="display: inline-block; white-space: pre;">2.4.2. </span></compositeblock><block>Parquet</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 553.008px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L553.0078125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6631626592856055" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6631626592856055" style="display: inline-block; white-space: pre;">2.5. </span></compositeblock><block>Implementation example</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 448.031px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L448.03125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.30696271167092504" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.30696271167092504" style="display: inline-block; white-space: pre;">3. </span></compositeblock><block>Data Processing</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 519.094px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L519.09375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9549564866692579" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9549564866692579" style="display: inline-block; white-space: pre;">3.1. </span></compositeblock><block>Basic Example</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 518.055px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L518.0546875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.1424355519460856" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.1424355519460856" style="display: inline-block; white-space: pre;">3.2. </span></compositeblock><block>Main Requirements</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 483.812px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L483.8125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7011874299512844" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7011874299512844" style="display: inline-block; white-space: pre;">3.3. </span></compositeblock><block>Apache YARN: Managing Resources</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 363.625px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L363.625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.10580567179077605" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.10580567179077605" style="display: inline-block; white-space: pre;">3.4. </span></compositeblock><block>Apache Spark: Locality</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 457.602px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L457.6015625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.05948097341338565" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.05948097341338565" style="display: inline-block; white-space: pre;">3.5. </span></compositeblock><block>Availability</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 543.758px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L543.7578125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.30136843138472" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.30136843138472" style="display: inline-block; white-space: pre;">3.6. </span></compositeblock><block>Example</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 561.336px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L561.3359375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.23635073415961028" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.23635073415961028" style="display: inline-block; white-space: pre;">3.6.1. </span></compositeblock><block>On Hadoop cluster</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 473.867px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L473.8671875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6588656264252539" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6588656264252539" style="display: inline-block; white-space: pre;">3.6.2. </span></compositeblock><block>On Jupyter notebook</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 457.039px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L457.0390625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.12459890264695894" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.12459890264695894" style="display: inline-block; white-space: pre;">3.6.3. </span></compositeblock><block>Spark History Server</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 462.375px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L462.375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.3697898116358356" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.3697898116358356" style="display: inline-block; white-space: pre;">4. </span></compositeblock><block>Processing Orchestration</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 457.5px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L457.5,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.09083588974117074" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.09083588974117074" style="display: inline-block; white-space: pre;">4.1. </span></compositeblock><block>Apache Airflow</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 513.578px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L513.578125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9487985039281026" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9487985039281026" style="display: inline-block; white-space: pre;">4.1.1. </span></compositeblock><block>Apache Airflow: Web Server</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 408.406px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L408.40625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9252271129356322" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9252271129356322" style="display: inline-block; white-space: pre;">4.1.2. </span></compositeblock><block>Apache Airflow: Scheduler</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 421.648px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L421.6484375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6497578950837732" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6497578950837732" style="display: inline-block; white-space: pre;">4.1.3. </span></compositeblock><block>Apache Airflow: Worker</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 439.359px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L439.359375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.43870077027988863" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.43870077027988863" style="display: inline-block; white-space: pre;">4.2. </span></compositeblock><block>Airflow Process</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 511.984px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L511.984375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.3686152764310513" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.3686152764310513" style="display: inline-block; white-space: pre;">4.3. </span></compositeblock><block>Airflow technologies</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 479.258px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L479.2578125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.4728807902980765" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.4728807902980765" style="display: inline-block; white-space: pre;">4.4. </span></compositeblock><block>Airflow in action</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 504.047px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L504.046875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.2447101200784918" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.2447101200784918" style="display: inline-block; white-space: pre;">5. </span></compositeblock><block>Workspaces</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 551.812px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L551.8125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.3225580347588135" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.3225580347588135" style="display: inline-block; white-space: pre;">6. </span></compositeblock><block>Frequentist A/B Testing</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 461.086px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L461.0859375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9589443046124853" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9589443046124853" style="display: inline-block; white-space: pre;">6.1. </span></compositeblock><block>A/B Testing</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 532.844px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L532.84375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.8253963026239626" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.8253963026239626" style="display: inline-block; white-space: pre;">6.2. </span></compositeblock><block>Frequentist approach to A/B testing</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 361.844px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L361.84375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6671980114638838" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6671980114638838" style="display: inline-block; white-space: pre;">6.2.1. </span></compositeblock><block>Null Hypothesis</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 496.344px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L496.34375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9152574023368631" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9152574023368631" style="display: inline-block; white-space: pre;">6.2.2. </span></compositeblock><block>p-value</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 557.305px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L557.3046875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.5555913642142412" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.5555913642142412" style="display: inline-block; white-space: pre;">6.2.3. </span></compositeblock><block>How to measure the p-value?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 399.984px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L399.984375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6493710253772667" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6493710253772667" style="display: inline-block; white-space: pre;">6.2.4. </span></compositeblock><block>Confidence intervals</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 466.086px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L466.0859375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.3350275062452839" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.3350275062452839" style="display: inline-block; white-space: pre;">6.3. </span></compositeblock><block>A/A test</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 558.203px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L558.203125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.040738420373735984" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.040738420373735984" style="display: inline-block; white-space: pre;">6.4. </span></compositeblock><block>Tips about A/B testing</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 453.758px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L453.7578125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.22356871876621898" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.22356871876621898" style="display: inline-block; white-space: pre;">6.5. </span></compositeblock><block>Infrastructure to run A/B tests</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 400.922px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L400.921875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.38832918664003824" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.38832918664003824" style="display: inline-block; white-space: pre;">6.6. </span></compositeblock><block>Tools for A/B testing</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 468.312px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L468.3125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.021592108872218185" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.021592108872218185" style="display: inline-block; white-space: pre;">7. </span></compositeblock><block>Bayesian A/B Testing</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 478.953px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L478.953125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.37619780425570126" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.37619780425570126" style="display: inline-block; white-space: pre;">7.1. </span></compositeblock><block>Loss between A &amp; B</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 474.938px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L474.9375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.09209953092656309" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.09209953092656309" style="display: inline-block; white-space: pre;">7.2. </span></compositeblock><block>Stopping Criterion</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 491.125px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L491.125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6082630828511133" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6082630828511133" style="display: inline-block; white-space: pre;">7.3. </span></compositeblock><block>Why Bayesian A/B testing?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 423.383px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L423.3828125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6477092669486535" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6477092669486535" style="display: inline-block; white-space: pre;">8. </span></compositeblock><block>Multi-Armed Bandit (MAB)</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 434.648px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L434.6484375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.3555693144095573" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.3555693144095573" style="display: inline-block; white-space: pre;">8.1. </span></compositeblock><block>Epsilon-greedy algorithm</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 446.109px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L446.109375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.25618127304652405" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.25618127304652405" style="display: inline-block; white-space: pre;">8.1.1. </span></compositeblock><block>How much better is epsilon-greedy over random allocation (A/B testing)?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 82.1016px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L82.1015625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.5765096569324806" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.5765096569324806" style="display: inline-block; white-space: pre;">8.2. </span></compositeblock><block>Thompson sampling</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 478.406px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L478.40625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.5817848556690906" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.5817848556690906" style="display: inline-block; white-space: pre;">8.2.1. </span></compositeblock><block>How do we know the probability of being optimal?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 248.875px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L248.875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.5835836797479375" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.5835836797479375" style="display: inline-block; white-space: pre;">8.3. </span></compositeblock><block>When to stop?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 516.281px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L516.28125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.2199932028587186" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.2199932028587186" style="display: inline-block; white-space: pre;">8.4. </span></compositeblock><block>When to use MAB over A/B testing?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 354.617px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L354.6171875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7651140585808269" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7651140585808269" style="display: inline-block; white-space: pre;">8.5. </span></compositeblock><block>Practical considerations</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 453.641px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L453.640625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.9541056774629781" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.9541056774629781" style="display: inline-block; white-space: pre;">8.6. </span></compositeblock><block>MAB tools</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 543.977px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L543.9765625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.049775814780053995" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.049775814780053995" style="display: inline-block; white-space: pre;">9. </span></compositeblock><block>Impact Estimation</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 504.078px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L504.078125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.12683205769762784" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.12683205769762784" style="display: inline-block; white-space: pre;">9.1. </span></compositeblock><block>How much does the experiment cost?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 353.711px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L353.7109375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.06972374223292843" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.06972374223292843" style="display: inline-block; white-space: pre;">9.2. </span></compositeblock><block>Potential experiment benefits</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 413.312px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L413.3125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.36804195618710955" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.36804195618710955" style="display: inline-block; white-space: pre;">9.2.1. </span></compositeblock><block>Point of diminished return</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 421.812px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L421.8125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.45326166945126123" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.45326166945126123" style="display: inline-block; white-space: pre;">9.3. </span></compositeblock><block>Risks to the business from an experiment</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 328.422px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L328.421875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.08535086397568437" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.08535086397568437" style="display: inline-block; white-space: pre;">9.3.1. </span></compositeblock><block>Shadow test: Mitigating business risks</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 337.633px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L337.6328125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.38260871763040116" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.38260871763040116" style="display: inline-block; white-space: pre;">9.4. </span></compositeblock><block>Post-experiment</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 506.133px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L506.1328125,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.21081107975868885" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.21081107975868885" style="display: inline-block; white-space: pre;">9.4.1. </span></compositeblock><block>Are the experiment results valid?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 373.977px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L373.9765625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.509796550177207" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.509796550177207" style="display: inline-block; white-space: pre;">9.4.2. </span></compositeblock><block>Is the experience worth launching?</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 362.875px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L362.875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.43348512814164386" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.43348512814164386" style="display: inline-block; white-space: pre;">10. </span></compositeblock><block>Basic Models</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 532.062px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L532.0625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.050451120869737576" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.050451120869737576" style="display: inline-block; white-space: pre;">10.1. </span></compositeblock><block>Gradient Boosted Trees</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 445.547px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L445.546875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.1663408661561543" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.1663408661561543" style="display: inline-block; white-space: pre;">10.2. </span></compositeblock><block>Matrix Factorization</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 468.344px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L468.34375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.8892985477441462" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.8892985477441462" style="display: inline-block; white-space: pre;">10.3. </span></compositeblock><block>Logistic Regression</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 477.914px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L477.9140625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6249301994980871" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6249301994980871" style="display: inline-block; white-space: pre;">10.4. </span></compositeblock><block>Spark MLlib</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 526.18px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L526.1796875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7082548030904887" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7082548030904887" style="display: inline-block; white-space: pre;">11. </span></compositeblock><block>Deep Learning Models</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 467.461px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L467.4609375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.6880158615046092" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.6880158615046092" style="display: inline-block; white-space: pre;">12. </span></compositeblock><block>Model Validation</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 504.609px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L504.609375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.3905832381226333" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.3905832381226333" style="display: inline-block; white-space: pre;">13. </span></compositeblock><block>Productionization</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 500.734px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L500.734375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.1698473261905451" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.1698473261905451" style="display: inline-block; white-space: pre;">14. </span></compositeblock><block>Data Hosting</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 531.18px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L531.1796875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.4021302364596786" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.4021302364596786" style="display: inline-block; white-space: pre;">14.1. </span></compositeblock><block>Distributed Cache</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 485.398px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L485.3984375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s1" style="line-height: 1.4; cursor: pointer;"><a href="#n0.8714435632249473" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.8714435632249473" style="display: inline-block; white-space: pre;">15. </span></compositeblock><block>Model Hosting</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 521.656px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L521.65625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.3117655278809457" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.3117655278809457" style="display: inline-block; white-space: pre;">15.1. </span></compositeblock><block>Spark Pipeline</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 510.984px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L510.984375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.1414525162231739" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.1414525162231739" style="display: inline-block; white-space: pre;">15.2. </span></compositeblock><block>Latency Management</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 459.984px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L459.984375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.7461337798427647" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.7461337798427647" style="display: inline-block; white-space: pre;">15.2.1. </span></compositeblock><block>Local vs. Remote inference</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 408.586px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L408.5859375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.0720011134347669" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.0720011134347669" style="display: inline-block; white-space: pre;">15.2.2. </span></compositeblock><block>Language optimization</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 438.234px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L438.234375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.16538445002926916" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.16538445002926916" style="display: inline-block; white-space: pre;">15.2.3. </span></compositeblock><block>Hardware</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 533.148px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L533.1484375,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s3" style="line-height: 1.4; cursor: pointer;"><a href="#n0.1331974725954752" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.1331974725954752" style="display: inline-block; white-space: pre;">15.2.4. </span></compositeblock><block>Worst-case scenario</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 460.047px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L460.046875,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line><line class="text-mode toc-s2" style="line-height: 1.4; cursor: pointer;"><a href="#n0.3558840090363493" style="color: inherit; text-decoration: inherit;"><prefix style="cursor: pointer;"></prefix><blocks style="cursor: pointer;"><baselineblock class="inline"></baselineblock><compositeblock class="prefix-block inline"><span data-line-id="n0.3558840090363493" style="display: inline-block; white-space: pre;">15.3. </span></compositeblock><block>Batch inference</block><compositeblock dir="ltr" class="toc-underline-placeholder-symbol inline" style="width: 20px; overflow: visible;"><svg data-reactroot="" style="width: 502.414px; height: 5px; overflow: visible; display: inline-block;"><path d="M 5,5 L502.4140625,5" stroke-dasharray="1 2" fill="none"></path></svg></compositeblock><compositeblock dir="ltr" class="toc-page-number-symbol inline"><span> </span></compositeblock></blocks></a></line></editarea></toc-wrapper></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.27839253470197667" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.27839253470197667" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Data Ingestion</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Data ingestion means that we want to get data into our system so that we can do some sort of analysis on it.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Streaming ingestion usually involves things like:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.2);">Clickstream</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.2);">Change data capture</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.2);">Live video feeds</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8740784998021296" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8740784998021296" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">1.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Clickstream: Kafka, Kinesis, Zookeeper</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It </block><block style="background-color: rgba(248, 231, 28, 0.3);">keeps track of what the user interactions</block><block> are with some particular interface, like a mobile app, or a voice assistant, or a desktop app.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Clickstream potentially have to manage millions of events/interactions per second</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">What does the clickstream actually keep track of?</block><block> In most cases, clickstream is going to have a record per event which keeps track of things like:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Datetime</block><block> of event</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">User agent</block><block>  what type of browser </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">User ID</block><block> (if logged in)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Request details</block><block>  </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(65, 117, 5);">get/details/&lt;video_id&gt;</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Session ID</block><block>  especially if they're not logged in  use cookies  helps tie clickstream entries</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">IP address</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Referrer</block><block>  Google, Facebook, etc.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Two tools we can use to sort through these [potentially] millions of records every second:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Kafka</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Kinesis</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Sometimes these tools are referred to as </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">Pub/Sub</block><block> or </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">Publish/Subscribe</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Here, we used clickstream as one example, but essentially it could be anything that has the streaming ingestion aspect of it. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Examples of such are web crawlers, RSS feeds, and even another storage (such as a database).</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.6618802688104821" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6618802688104821" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">1.1.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Kafka</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's an Apache open source project.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It allows us to create </block><block style="font-weight: bold; color: rgb(208, 2, 27);">brokers</block><block> and these </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">brokers</block><block style="background-color: rgba(248, 231, 28, 0.3);"> manage the interactions between some producers (e.g. clickstream logs) and some consumers (storage)</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Clickstream logs get sent to particular </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Kafka topics</block><block> and they have </block><block style="font-weight: bold;">partitions</block><block> on the broker such that the consumers can consume from these brokers to store these clickstream logs.</block></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.12846406510667108" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.12846406510667108" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">1.1.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Zookeeper</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.2);">What happens if the clickstream logs come in at a far faster rate than a single broker could handle?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In this case, we're going to have </block><block style="font-weight: bold; color: rgb(208, 2, 27);">broker cluster</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Every single clickstream log will be sent to a particular partition and one of the brokers in the broker cluster will be assigned to be the </block><block style="font-weight: bold; color: rgb(208, 2, 27);">partition leader</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>All the </block><block style="font-weight: bold;">partition leader</block><block> does is to make sure that all of the reads and writes go through that particular partition and it also replicates the partition across other brokers in the broker cluster.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In order to manage all the brokers [in the broker cluster], </block><block style="font-weight: bold; color: rgb(208, 2, 27); background-color: rgba(245, 166, 35, 0.2);">Zookeeper</block><block> handles the management of the leader of this broker cluster  such that if one of the brokers is a leader and it goes down, it can then substitute in another broker from the cluster such that it can takes its place.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Zookeeper</block><block> also keeps track of different topics for each configuration.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>For instance, if we had clickstreams coming from a home page, that could be one topic, etc.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">In general, Kafka will give us the scalability aspects such that we can add more and more brokers to the broker cluster to support millions of clickstreams per second</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.857073485723979" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.857073485723979" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">1.1.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Kinesis</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's a fully-managed AWS service.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">Kinesis has </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">shards instead of partitions</block><block style="background-color: rgba(248, 231, 28, 0.3);">, and the number of shards present can scale up</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.709907133127917" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.709907133127917" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">1.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Change data capture, OLTP and OLAP</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>How we ingest changes to databases is a process called </block><block style="font-weight: bold;">change data capture</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we have a DB and it's keeping track of who (in terms of user ID) is subscribed to Netflix.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>So, effectively, a row in this database would be keyed on some </block><block style="font-style: italic;">user ID</block><block> and the value would be </block><block style="font-style: italic;">is this user ID actively subscribed to Netflix</block><block>? Also, we want to know their </block><block style="font-style: italic;">removal date</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we want to build a ML model to predict whether someone will renew or not, we care about their current state of their subscription (because they can't cancel if they're already canceled), and we also care about the previous status of their membership, so that we can see when did user X</block><block> canceled and tie that to some service usage before they canceled.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>So, here the hypothesis is that maybe their usages have gone down before they decided to cancel.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we wanted to model this, we couldn't just look at that DB  because we also need a history to tell us when did they unsubscribed/subscribed.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block> In order to capture that  we're going to use a tool called </block><block style="font-weight: bold; color: rgb(208, 2, 27);">change data capture</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It will tap into a log of changes to a particular row in some DB table and will these change logs to the streaming tools (e.g. Kafka, Kinesis).</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, our producers are these different storage instances.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Every single time a row in a table is updated, we can look at the change logs associated with these databases and send that information to the broker (e.g. Kafka).</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, the consumers could store these changes such that we could build a ML model.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.9257170174024298" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.9257170174024298" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">1.2.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">OLTP (Online Transaction Processing)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In </block><block style="font-weight: bold;">online transaction processing (OLTP)</block><block>, information systems typically facilitate and manage transaction-oriented applications. </block><block style="background-color: rgba(248, 231, 28, 0.3);">This is contrasted with online analytical processing</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Some </block><block style="background-color: rgba(248, 231, 28, 0.2);">examples of OLTP systems</block><block> include order entry, retail sales, and financial transaction systems.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> The term </block><block style="font-weight: bold;">"transaction"</block><block> can have two different meanings, both of which might apply:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In the realm of computers or database transactions it denotes an </block><block style="background-color: rgba(248, 231, 28, 0.3);">atomic change of state</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In the realm of business or finance, the term typically denotes </block><block style="background-color: rgba(248, 231, 28, 0.3);">an exchange of economic entities.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>OLTP has also been used to refer to </block><block style="background-color: rgba(248, 231, 28, 0.6);">processing in which the system responds </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.6);">immediately</block><block style="background-color: rgba(248, 231, 28, 0.6);"> to user requests</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>An ATM (Automated Teller Machine) for a bank is an example of a commercial transaction processing application.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">OLTP system design:</block><block> To build an OLTP system, a designer must know that the large number of concurrent users does not interfere with the system's performance. To increase the performance of an OLTP system, a designer must avoid excessive use of indexes and clusters. The following elements are crucial for the performance of OLTP systems:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Rollback segments: </block><block>Rollback segments are the portions of database that record the actions of transactions in the event that a transaction is rolled back. Rollback segments provide read consistency, rollback transactions, and recovery of the database.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Clusters: </block><block>A cluster is a schema that contains one or more tables that have one or more columns in common. Clustering tables in a database improves the performance of join operations.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Discrete transactions: </block><block>A discrete transaction defers all change to the data until the transaction is committed. It can improve the performance of short, non-distributed transactions.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Block size: </block><block>The data block size should be a multiple of the operating system's block size within the maximum limit to avoid unnecessary I/O.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Buffer cache size: </block><block>SQL statements should be tuned to use the database buffer cache to avoid unnecessary resource consumption.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Dynamic allocation: </block><block>of space to tables and rollback segments.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Transaction processing: </block><block>monitors and the multi-threaded server. A transaction processing monitor is used for coordination of services. It is like an operating system and does the coordination at a high level of granularity and can span multiple computing devices.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Partition (database): </block><block>Partition use increases performance for sites that have regular transactions while still maintaining availability and security.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Database tuning: </block><block>With database tuning, an OLTP system can maximize its performance as efficiently and rapidly as possible.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.22645311753944952" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.22645311753944952" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">1.2.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">OLAP (Online Analytical Processing)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>OLAP is an approach to answer multi-dimensional analytical (MDA) queries swiftly in computing.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Typical applications of OLAP</block><block> include business reporting for sales, marketing, management reporting, business process management (BPM),[3] budgeting and forecasting, financial reporting and similar areas, with new applications emerging, such as agriculture.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>OLAP consists of </block><block style="background-color: rgba(248, 231, 28, 0.3);">three basic analytical operations</block><block>: </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">consolidation (roll-up): </block><block>involves the aggregation of data that can be accumulated and computed in one or more dimensions.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>For example, all sales offices are rolled up to the sales department or sales division to anticipate sales trends.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">drill-down: </block><block>is a technique that allows users to navigate through the details. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>For instance, users can view the sales by individual products that make up a region's sales.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">slicing and dicing: </block><block>is a feature whereby users can take out (slicing) a specific set of data of the OLAP cube and view (dicing) the slices from different viewpoints.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>These viewpoints are sometimes called dimensions (such as looking at the same sales by salesperson, or by date, or by customer, or by product, or by region, etc.).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Databases configured for OLAP use a </block><block style="background-color: rgba(248, 231, 28, 0.3);">multidimensional data model</block><block>, allowing for complex analytical and ad hoc queries with a rapid execution time.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>At the core of any OLAP system is an </block><block style="font-weight: bold; color: rgb(208, 2, 27);">OLAP cube</block><block> (also called a '</block><block style="font-weight: bold;">multidimensional cube</block><block>' or a </block><block style="font-weight: bold;">hypercube</block><block>). </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It consists of numeric facts called </block><block style="font-weight: bold; color: rgb(208, 2, 27);">measures</block><block> that are categorized by </block><block style="font-weight: bold; color: rgb(208, 2, 27);">dimensions</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold;">measures</block><block> are placed at the intersections of the hypercube, which is spanned by the dimensions as a vector space. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="background-color: rgba(248, 231, 28, 0.3);">usual </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">interface</block><block style="background-color: rgba(248, 231, 28, 0.3);"> to manipulate an OLAP cube</block><block> is a matrix interface, like Pivot tables in a spreadsheet program, which performs projection operations along the dimensions, such as aggregation or averaging.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> The cube </block><block style="font-weight: bold;">metadata</block><block> is typically created from a </block><block style="font-weight: bold;">star schema</block><block> or </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.3);">snowflake schema</block><block> or </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.3);">fact constellation</block><block> of tables in a relational database. </block><block style="background-color: rgba(245, 166, 35, 0.3);">Measures are derived from the records in the </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.3);">fact table</block><block style="background-color: rgba(245, 166, 35, 0.3);"> and dimensions are derived from the </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.3);">dimension tables</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.2);">Each measure can be thought of as having a set of </block><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.2);">labels</block><block style="background-color: rgba(248, 231, 28, 0.2);">, or meta-data associated with it. A dimension is what describes these </block><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.2);">labels</block><block style="background-color: rgba(248, 231, 28, 0.2);">; it provides information about the measure</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.5767724243971903" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5767724243971903" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">1.2.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">OLTP vs. OLAP</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(189, 16, 224);">OLTP vs. OLAP:</block><block> </block><block style="font-weight: bold; font-style: italic; color: rgb(74, 74, 74);">OLTP</block><block style="font-style: italic; color: rgb(155, 155, 155);"> is typically contrasted to </block><block style="font-weight: bold; font-style: italic; color: rgb(74, 74, 74);">OLAP</block><block style="font-style: italic; color: rgb(155, 155, 155);"> (online analytical processing), which is generally characterized by much more complex queries, in a smaller volume, for the purpose of business intelligence or reporting rather than to process transactions.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="color: rgb(155, 155, 155); font-style: italic; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-style: italic; color: rgb(155, 155, 155);">Whereas </block><block style="font-weight: bold; font-style: italic; color: rgb(74, 74, 74);">OLTP</block><block style="font-style: italic; color: rgb(155, 155, 155);"> systems process all kinds of queries (</block><block style="font-style: italic; color: rgb(155, 155, 155); background-color: rgba(245, 166, 35, 0.2);">read, insert, update and delete</block><block style="font-style: italic; color: rgb(155, 155, 155);">), </block><block style="font-weight: bold; font-style: italic; color: rgb(74, 74, 74);">OLAP</block><block style="font-style: italic; color: rgb(155, 155, 155);"> is generally optimized for </block><block style="font-style: italic; color: rgb(155, 155, 155); background-color: rgba(245, 166, 35, 0.2);">read only</block><block style="font-style: italic; color: rgb(155, 155, 155);"> and might not even support other kinds of queries. </block><block style="font-weight: bold; font-style: italic; color: rgb(74, 74, 74);">OLTP</block><block style="font-style: italic; color: rgb(155, 155, 155);"> also operates differently from batch processing and grid computing.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>An </block><block style="font-weight: bold;">OLTP</block><block> system keeps track of who was actively subscribed (referring to the example above) such that if you log in, we know to grant you some particular membership benefit.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>An </block><block style="font-weight: bold;">OLAP</block><block> system keeps track of when you subscribed or when you unsubscribed.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5348685750160131" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5348685750160131" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">1.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Live video, HLS</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Live video could mean ingesting video content from traffic cameras, security cameras, or video streaming services.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>An </block><block style="font-weight: bold;">example</block><block> is </block><block style="font-weight: bold; color: rgb(208, 2, 27);">HLS</block><block>  </block><block style="font-weight: bold; color: rgb(208, 2, 27);">HTTP Live Streaming</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It takes an mp4, chops it up into segments, and sends out those segments over HTTP.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>HLS plays videos encoded with H.264 compression</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>AAC encoded sounds.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">How does this look in terms of producer-broker-consumer paradigm?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The camera feeds will be sent to some </block><block style="font-weight: bold; color: rgb(208, 2, 27);">collector</block><block>. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold;">collector layer</block><block> is needed to disassemble the video into some frame by frame representation and ship them to the broker.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>The layer could also compress the frames to save cost of transporting it over to the broker.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.9382920788568323" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.9382920788568323" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">1.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Batch Ingestion</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Batch ingestion can take place when we want a </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">periodic snapshot of some database</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It is also useful as a </block><block style="background-color: rgba(248, 231, 28, 0.3);">first step</block><block> for when we want to </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">onboard a DB</block><block> before we use </block><block style="font-weight: bold; font-style: italic;">change data capture</block><block> on it.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This allows our storage system to be fully up-to-date with the DB contents, before we start keeping track of all the changes to that particular DB.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The technologies that we can use to transfer the data to some particular DB instance into some storage layer that we want to use for analytics:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">MySQL</block><block>  </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(65, 117, 5);">mysqldump</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Cassandra</block><block>  </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(65, 117, 5);">CQL copy</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">MongoDB</block><block>  </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(65, 117, 5);">mongoexport</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> This is very similar to change data capture, except that we're not waiting for a change anymore. We're simply dumping all of data in the DB into storage.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">considerations</block><block> that we need to take when we're talking about ingestion:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Size of individual data</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Rate at which data comes in</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Support of data types (changing data types)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">High availability (Multi-AZ) and fault tolerance</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.11170917659233681" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.11170917659233681" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">1.4.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Basic example</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here is basic example of clickstream.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>First, we check out the Zookeeper properties  </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">config/zookeeper.properties</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 639.875px; height: 283.19px; position: relative;"><img src="image-resources/5f0b21f9-e6f5-455c-9672-270b068292bf.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div data-caption-block-id="n0.9722344562062539" class="role-image-caption-container role-caption-container" style="display: flex; align-items: center; justify-content: center; margin-top: 10px;" id="n0.9722344562062539"><span class="no-print-outline" style="outline: none; position: relative; text-align: center;"><span class="role-image-caption-prefix" style="padding-right: 0.3em; font-weight: bold;"><span class="role-image-caption-name">Figure</span><span class="role-image-caption-number"><!-- react-text: 268858 --> <!-- /react-text --><!-- react-text: 268859 -->1<!-- /react-text --></span><span>:</span></span><editarea class="image-caption text-mode" style="min-width: 50px; display: inline;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>Zookeeper default config by Apache</block></blocks></line></editarea></span></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Next, we can launch it  </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">bin/zookeeper-server-start.sh config/zookeeper.properties</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> This comes default with Kafka.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Next, we have to launch the Kafka broker. This, as well, has its own properties file  </block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 637.703px; height: 346.98px; position: relative;"><img src="image-resources/ed5419ba-5ad5-46e7-b128-996867bc99a1.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div data-caption-block-id="n0.9392321201226832" class="role-image-caption-container role-caption-container" style="display: flex; align-items: center; justify-content: center; margin-top: 10px;" id="n0.9392321201226832"><span class="no-print-outline" style="outline: none; position: relative; text-align: center;"><span class="role-image-caption-prefix" style="padding-right: 0.3em; font-weight: bold;"><span class="role-image-caption-name">Figure</span><span class="role-image-caption-number"><!-- react-text: 268919 --> <!-- /react-text --><!-- react-text: 268920 -->2<!-- /react-text --></span><span>:</span></span><editarea class="image-caption text-mode" style="min-width: 50px; display: inline;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>Kafka default properties</block></blocks></line></editarea></span></div></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, let's launch the Kafka broker </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">bin/kafka-server-start.sh config/server.properties</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> In production, we would actually spin up several Zookeeper instances and several brokers. </block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We also need to set up a producer. For this example, we're creating a simple web app which will have a clickstream being produced from it, and then send it to the Kafka broker to be later consumed. Here's a simple server file:</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 637.523px; height: 397.98px; position: relative;"><img src="image-resources/8bd45c2a-466d-4441-ad66-d032fe62048b.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> The </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">'mlexport'</block><block> in the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">PRODUCER.send()</block><block> is the broker topic. The topic needs to be created ahead of time so that we can reference it here.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can create a simple </block><block style="font-style: italic;">Kafka consumer</block><block> (which will just print results to the terminal) just to make sure that when we submit from web app, the message is actually being sent to Kafka broker  </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">bin/kafka-console-consumer.sh --topic mlexport --bootstrap-server localhost:9092 --zookeeper localhost:2181</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.37687815319670537" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.37687815319670537" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Data Storage</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In section </block><compositeblock dir="ltr" class="section-ref inline"><span data-section-line-id="n0.9628145183416017" class="section-ref-border no-border-on-print"><a href="#n0.9628145183416017" style="color: inherit; text-decoration: inherit;">?</a></span></compositeblock><block> we talked about producers and brokers. In this section, we're going to discuss the "storage" layer (or consumers).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say that we have single machine which has four HDDs (Hard Disk Drives).</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Each of these drives can read and write at </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mn>100</mn><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>M</mi><mi>B</mi><mo form=&quot;infix&quot;></mo><mi>s</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">100 MB</block><block class="Binary" style="color: rgb(74, 144, 226);"></block><block class="Normal" style="color: rgb(74, 144, 226);">s</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mn>100</mn><mspace is="true" width="0.22em"></mspace><mi>M</mi><mi>B</mi><mo form="infix"></mo><mi>s</mi></mrow></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we have 1TB of data to distribute equally (in parallel) across all four HDDs  This would take about 40 minutes for one terabyte to get written/read from the entire computer.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Additionally, since we're just dealing with one host, there would be </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">no replication</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Anything happens to the host, the data is gone.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say instead of having one machine we had 10 machines.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Everything else equal, it would take about 15 minutes to read/write one terabyte.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In addition, now we can replicate the data across the same cluster of hosts.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.41156616048418315" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.41156616048418315" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">2.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Hadoop Distributed File System (HDFS)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In HDFS, there are </block><block style="font-weight: bold; color: rgb(208, 2, 27);">data nodes</block><block> associated with it.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>These data nodes exist on machines that actually store the data.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>You also have </block><block style="font-weight: bold; color: rgb(208, 2, 27);">name node</block><block> in HDFS, which keeps track of which data is on which data node.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>A user would use a </block><block style="font-weight: bold; color: rgb(208, 2, 27);">HDFS client</block><block> to work with their files.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold;">HDFS client</block><block> would partition the files into smaller blocks.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It would then send a request to the </block><block style="font-weight: bold;">name node</block><block> to store the partitions in </block><block style="font-weight: bold;">data nodes</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Name node</block><block> respond to </block><block style="font-weight: bold;">HDFS client</block><block> with </block><block style="font-weight: bold;">data nodes</block><block> it can use to store the file partitions.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>HDFS client stores multiple copies of the file partition in different data nodes in order to </block><block style="font-weight: bold; color: rgb(208, 2, 27);">replicate the data</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, we have our file saved in the Hadoop distributed file system.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 267px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M154.15,48.38 C154.15,43.31 158.26,39.2 163.33,39.2 C168.41,39.2 172.52,43.31 172.52,48.38 C172.52,53.45 168.41,57.56 163.33,57.56 C158.26,57.56 154.15,53.45 154.15,48.38 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M159.29,45.26 C159.29,44.75 159.71,44.34 160.21,44.34 C160.72,44.34 161.13,44.75 161.13,45.26 C161.13,45.77 160.72,46.18 160.21,46.18 C159.71,46.18 159.29,45.77 159.29,45.26 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M165.54,45.26 C165.54,44.75 165.95,44.34 166.46,44.34 C166.96,44.34 167.37,44.75 167.37,45.26 C167.37,45.77 166.96,46.18 166.46,46.18 C165.95,46.18 165.54,45.77 165.54,45.26 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M158.74,52.05 C161.8,54.5 164.86,54.5 167.93,52.05" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M163.08,57.65 C170,57.65 175.6,67.46 175.6,79.56 C175.6,91.66 170,101.47 163.08,101.47 C156.17,101.47 150.56,91.66 150.56,79.56 C150.56,67.46 156.17,57.65 163.08,57.65 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M150.56,79.56 L175.6,79.56" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M144.18,80.23 L188,80.23 L188,105.27 L144.18,105.27 Z" style="stroke-width: 1; stroke: rgb(255, 255, 255); stroke-opacity: 1; fill: rgb(255, 255, 255); fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M118.32,154.4 L96.2,154.4 L96.2,109.2 L127.8,109.2 L127.8,144.92 Z L118.32,154.4" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M127.8,144.92 L120.22,146.82 L118.32,154.4" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M138.2,132.4 L177.4,132.4" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,179.40000000000003,132.39999999999998)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M214.02,105.93 L198.52,105.93 L198.52,74.93 L220.67,74.93 L220.67,99.29 Z L214.02,105.93" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M220.67,99.29 L215.35,100.62 L214.02,105.93" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M214.02,148.73 L198.52,148.73 L198.52,117.73 L220.67,117.73 L220.67,142.09 Z L214.02,148.73" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M220.67,142.09 L215.35,143.42 L214.02,148.73" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M214.02,191.53 L198.52,191.53 L198.52,160.53 L220.67,160.53 L220.67,184.89 Z L214.02,191.53" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M220.67,184.89 L215.35,186.22 L214.02,191.53" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="composite-shape"><path class="real" d=" M380.89,75 L464.89,75 L464.89,171 L380.89,171 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M236.67,219.67 L320.67,219.67 L320.67,251.67 L236.67,251.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M332.45,219.67 L416.45,219.67 L416.45,251.67 L332.45,251.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M524,219.67 L608,219.67 L608,251.67 L524,251.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M428.23,219.67 L512.23,219.67 L512.23,251.67 L428.23,251.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="composite-shape"><path class="real" d=" M380.89,43 L464.89,43 L464.89,75 L380.89,75 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g></g></g><g></g><g></g><g></g></svg><diagram-editors><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 112.2px; top: 6px;"><dg-editor-container data-editor-id="de1775314776239214" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">HDFS Client</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 98.6px; top: 114.8px;"><dg-editor-container data-editor-id="de6873779144621721" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(74, 144, 226);">file</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 200.667px; top: 75.5333px;"><dg-editor-container data-editor-id="de9853336209123416" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(74, 144, 226);">A</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 200.667px; top: 118.333px;"><dg-editor-container data-editor-id="de11092273130709884" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(74, 144, 226);">B</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 200.667px; top: 161.133px;"><dg-editor-container data-editor-id="de8442386651800733" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(74, 144, 226);">C</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 243.667px; top: 225.667px;"><dg-editor-container data-editor-id="de6448300338063164" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.8em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(144, 19, 254);">Data Node</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 339.447px; top: 225.667px;"><dg-editor-container data-editor-id="de4126058912718673" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.8em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(144, 19, 254);">Data Node</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 531px; top: 225.667px;"><dg-editor-container data-editor-id="de22215246615362538" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.8em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(144, 19, 254);">Data Node</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 435.227px; top: 225.667px;"><dg-editor-container data-editor-id="de9960403067564567" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.8em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(144, 19, 254);">Data Node</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 385.393px; top: 49px;"><dg-editor-container data-editor-id="de41643401082828824" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.8em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(144, 19, 254);">Name Node</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="center" style="left: 435.667px; top: 125.5px;"><dg-editor-container data-editor-id="de6811114820776278" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(-50%, -50%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor no-area-container text-mode" style="justify-content: flex-start; margin: 0px; width: 100px; height: 111px; padding: 0.2em; font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em; color: rgb(74, 144, 226);">file</block></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em; color: rgb(74, 144, 226);">A=1,2,3</block></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em; color: rgb(74, 144, 226);">B=1,3,4</block></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em; color: rgb(74, 144, 226);">C=2,3,4</block></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 275px; top: 193.667px;"><dg-editor-container data-editor-id="de6692834419963256" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">1</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 369.22px; top: 193.667px;"><dg-editor-container data-editor-id="de9902765716137476" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">2</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 463.44px; top: 193.667px;"><dg-editor-container data-editor-id="de08554545193793905" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">3</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 557.667px; top: 193.667px;"><dg-editor-container data-editor-id="de16571173166616937" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">4</block></blocks></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The retrieve a file, the HDFS client would get the </block><block style="font-weight: bold;">partition  data node mapping</block><block> from the </block><block style="font-weight: bold;">name node</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">The good thing about HDFS is that it's very </block><block style="font-weight: bold; color: rgb(208, 2, 27); background-color: rgba(248, 231, 28, 0.3);">scalable</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One of the </block><block style="background-color: rgba(248, 231, 28, 0.3);">problems</block><block> of HDFS is that the </block><block style="background-color: rgba(248, 231, 28, 0.3);">name node is a </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">single point of failure</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>What we can do is to have two name nodes, running at the same, one in the </block><block style="font-weight: bold; font-style: italic;">active</block><block> state and the other in the </block><block style="font-weight: bold; font-style: italic;">passive</block><block> state. In case one of them is down, we'll use the other one  This particular configuration is called </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">"Hot Standby"</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>By doing so, it can achieve </block><block style="font-weight: bold; color: rgb(208, 2, 27);">high availability</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.2);">In order to always keep the active and passive nodes in sync</block><block>, all the stuff in the </block><block style="font-style: italic;">active node</block><block> is written into a </block><block style="font-weight: bold; color: rgb(208, 2, 27);">journal node cluster</block><block> and then read by the </block><block style="font-style: italic;">passive node</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">What if a data node fails?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In order to discover when a data node is inactive, we can use the </block><block style="font-weight: bold;">name node</block><block> to perform </block><block style="font-weight: bold; color: rgb(208, 2, 27);">heartbeat</block><block> calls to all of the known </block><block style="font-weight: bold;">data nodes</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>A </block><block style="font-weight: bold;">heartbeat</block><block> is just a call to the particular data nodes such that they must respond  "yes, I'm healthy"</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If a particular </block><block style="font-weight: bold;">data node</block><block> doesn't respond to the </block><block style="font-weight: bold;">heartbeat</block><block> after some number of tries, then the </block><block style="font-weight: bold;">name node</block><block> will just replicate that </block><block style="font-weight: bold;">data node</block><block>'s data to other nodes in the cluster.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.7972212422894756" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7972212422894756" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">2.1.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Zookeeper cluster</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In the case that the </block><block style="font-weight: bold;">name node</block><block> that's currently active gets isolated due to some network failure, it will still believe that it's active and could come online soon, but instead we want to promote the </block><block style="font-weight: bold;">passive name node</block><block> to be the active.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We have to make sure that only one </block><block style="font-weight: bold;">name node</block><block> is active at a time  To do that, we use </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Zookeeper cluster</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Zookeeper</block><block> will manage different heartbeat connections between each of the active and the passive nodes and with some additional tools, it will ensure that only one name node is active at a time.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Hadoop 3.x doesn't actually replicate the data in its entirety. It uses </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Erasure Coding</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Imagine we have this bit expression  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mn>1</mn><mo form=&quot;infix&quot;></mo><mn>0</mn><mo form=&quot;infix&quot;></mo><mn>1</mn><mo form=&quot;infix&quot;></mo><mn>1</mn><mo form=&quot;infix&quot;>=</mo><mn>1</mn></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">1</block><block class="Binary"></block><block class="Normal">0</block><block class="Binary"></block><block class="Normal">1</block><block class="Binary"></block><block class="Normal">1</block><block class="Relation">=</block><block class="Normal">1</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mn>1</mn><mo form="infix"></mo><mn>0</mn><mo form="infix"></mo><mn>1</mn><mo form="infix"></mo><mn>1</mn><mo form="infix">=</mo><mn>1</mn></mrow></mstyle></math></span></compositeblock><block>  </block><block style="font-weight: bold;">Parity bit</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we remove one of the elements (e.g. </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mn>1</mn><mo form=&quot;infix&quot;></mo><mn>0</mn><mo form=&quot;infix&quot;></mo><menclose notation=&quot;updiagonalstrike&quot;><mn>1</mn></menclose><mo form=&quot;infix&quot;></mo><mn>1</mn><mo form=&quot;infix&quot;>=</mo><mn>1</mn></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">1</block><block class="Binary" style="color: rgb(74, 144, 226);"></block><block class="Normal" style="color: rgb(74, 144, 226);">0</block><block class="Binary" style="color: rgb(74, 144, 226);"></block><compositeblock dir="ltr" class="cancel" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><cancel-symbol><svg><polyline points="8.5,0 0,20.3984375" stroke-width="1" fill="none"></polyline></svg><editarea class="no-area-container"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(208, 2, 27);">1</block></line></editarea></cancel-symbol></compositeblock><block class="Binary" style="color: rgb(74, 144, 226);"></block><block class="Normal" style="color: rgb(74, 144, 226);">1</block><block class="Relation" style="color: rgb(74, 144, 226);">=</block><block class="Normal" style="color: rgb(74, 144, 226);">1</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mn>1</mn><mo form="infix"></mo><mn>0</mn><mo form="infix"></mo><menclose notation="updiagonalstrike"><mn>1</mn></menclose><mo form="infix"></mo><mn>1</mn><mo form="infix">=</mo><mn>1</mn></mrow></mstyle></math></span></compositeblock><block>),in our case, data that has gone missing in one of the data nodes, we can </block><block style="font-weight: bold;">XOR</block><block> all the other data that hasn't been lost along with the parity bit  If we </block><block style="font-weight: bold;">XOR</block><block> those, we can retrieve the data that was lost  This is a more efficient way of replicating data.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> The example above is actually pretty inefficient when it comes to erasure coding  The algorithm used in HDFS 3.x is </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Reed-Solomon Encoding</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.039091764662008366" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.039091764662008366" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">2.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Kafka transactions</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">How do we make sure that only a single instance of an event/record ends up in storage when all of these systems (i.e. producers, brokers, consumers) could fail in some way?</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Kafka transaction effectively assigns a transactional ID to each record that's being sent to a broker and there's a particular process that's followed with all the transactional IDs that are received such that we can guarantee that once a message is committed to a broker, that same message won't be committed again.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Kafka transactions can be somewhat cumbersome to work with  </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Kafka Streams API</block><block> can simplify that.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8835211111840233" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8835211111840233" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">2.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Kafka Connector Sink</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This connector </block><block style="background-color: rgba(248, 231, 28, 0.3);">connects the broker and the consumer together</block><block>, and specifically, they created an </block><block style="font-weight: bold;">HDFS sink</block><block> that allows us to achieve that exactly once delivery guarantee.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> </block><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.2);">Combining Kafka transactions (producer </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.2); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mo form=&quot;infix&quot;></mo></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Relation"></block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mo form="infix"></mo></mstyle></math></span></compositeblock><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.2);">broker) and Kafka Connector Sink (broker </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.2); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mo form=&quot;infix&quot;></mo></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Relation"></block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mo form="infix"></mo></mstyle></math></span></compositeblock><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.2);">consumer), we make sure that our storage layer doesn't contain any duplicated messages</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.26648505021390756" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.26648505021390756" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">2.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Storage Formats</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">How do messages get stored in the HDFS storage layer?</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.2923934048952166" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.2923934048952166" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">2.4.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Avro</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's </block><block style="font-weight: bold;">row-oriented</block><block>  which means that if we have a table, Avro would represent it per each row.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is good for queries which </block><block style="background-color: rgba(248, 231, 28, 0.3);">need all columns</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's also good for </block><block style="background-color: rgba(248, 231, 28, 0.3);">heavy write load</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Avro supports a lot of schema evolution/change. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.9979061894686374" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.9979061894686374" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">2.4.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Parquet</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Parquet represents the same table in the </block><block style="font-weight: bold;">column-oriented</block><block> way.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's good for queries which only </block><block style="background-color: rgba(248, 231, 28, 0.3);">needs some of the columns</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's good for </block><block style="background-color: rgba(248, 231, 28, 0.3);">heavy read</block><block> loads.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's </block><block style="background-color: rgba(248, 231, 28, 0.3);">good for sparse data</block><block> in the sense that if the entire column has sparse data, then we can just skip ahead to the following column.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can also </block><block style="background-color: rgba(248, 231, 28, 0.3);">compress those column values that are similar</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>However, the schema evolution support is pretty limited.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5056350324127672" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5056350324127672" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">2.5. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Implementation example</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In order to get </block><block style="font-weight: bold;">HDFS Sink</block><block> working, we need to configure it through Kafka. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block> </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">$ vim config/quickstart-hdfs.properties</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 639.125px; height: 363.46px; position: relative;"><img src="image-resources/0a95d05a-d044-4102-aca2-977772608941.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Parameter </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">value.converter</block><block> indicates that we'll be writing JSON to HDFS for now  This is just for readability. You can put Avro/Parquet here.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> We have to know the topic in which the sink connector should listen (e.g. </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">mlexpert</block><block>)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note: </block><block>Parameter </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">hdfs.url</block><block> indicates the sink destination to write the clickstream records that it obtains by listening to the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">mlexpert</block><block> topic.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here, the destination is the master node of our Hadoop cluster at port 8020.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, we start the connector </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block> </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgba(208, 2, 27, 0.5);">$ bin/connect-standalone.sh config/connect-standalone.properties config/quickstart-hdfs.properties</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can go to Hadoop cluster name node in order to observe and monitor how records are being stored.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.6702902320056903" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6702902320056903" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Data Processing</block></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5959004750244243" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5959004750244243" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">3.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Basic Example</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we wanted to predict whether or not someone would cancel their subscription.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say that the search functionality that we have on our Flask app, </block><compositeblock dir="ltr" class="section-ref inline"><span data-section-line-id="n0.7278369556959721" class="section-ref-border no-border-on-print"><a href="#n0.7278369556959721" style="color: inherit; text-decoration: inherit;">?</a></span></compositeblock><block>, is behind a particular paywall.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For instance, Netflix requires that you have a subscription to use their app, and that search functionality within their app is embedded behind that paywall  Let's say that our app is similar  we have a home page that may/may not have recommendations on it and then there's a search functionality as well where you can search for some particular content.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>With this set up, now we have all these messages from our clickstream logs indicating what did people search or what did they click on  our next job is to </block><block style="background-color: rgba(248, 231, 28, 0.3);">aggregate these different clickstream records in order to create features for our model which will predict whether or not users will cancel</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Message Processing</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Aggregation</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Join</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Transformation</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>To start, this </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">aggregation</block><block> would involve counting number of searches per user.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Why this is a useful feature?</block><block> If we see someone is searching a lot, then we're able to see that this person is using the product a lot. If users are not searching as much, this could indicate that they may soon cancel  This is our </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">hypothesis</block><block>  At least we need to build features in the model to determine if our hypothesis is correct.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We'll aggregate how many searches each user does and then we'll combine that from different clickstream events (e.g. recommendations user interacted with).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We may want to perform some sort of </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">transformation</block><block> on the records/messages that are present in our HDFS layer.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For example, </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>n</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">n</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>n</mi></mstyle></math></span></compositeblock><block>th month of year instead of date.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">How do we plan on processing (message processing) these data?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One idea is that we could just have a compute resource  We'll send these messages to some processor (to process it, i.e. apply transformation)  Then we send the processed message back to the data node  We get another message to be processed.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>There's a </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.2);">problem</block><block> with this approach.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say that we get about 50,000 requests per second to our clickstream.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>So, our HDFS will incur 50,000 new records every second.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we want to train a model on three months worth of that data.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>That would take about 4 hours just to transport all of that data to the processor.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>When it gets to the processor, we have to process the messages.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we assume that every message can be processed in 10 nano seconds, then even with two cores, it will take 45 minutes of processing.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>The whole process will take about 10 hours just to analyze the last three months of data.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">How do we fix this?</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>One idea is to use a cluster of computes. The </block><block style="font-weight: bold; font-style: italic;">problem</block><block> with that is we won't know which processor is doing which process, and at what stage of processing they are. Also, </block><block style="background-color: rgba(248, 231, 28, 0.3);">we can't parallelize the transformation and the join  because transformation has to be done before the join.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.18981031331879583" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.18981031331879583" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">3.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Main Requirements</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Requirements</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">A cluster resource management (CPU, RAM)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Computational dependency management (locality)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Manage saving final results to HDFS</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Bonus: Share same HDFS cluster</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.23473467700177553" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.23473467700177553" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">3.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Apache YARN: Managing Resources</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">YARN</block><block style="background-color: rgba(245, 166, 35, 0.2);">  Yet Another Resource Negotiator</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>YARN has a few components:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Resource Manager</block><block style="font-weight: bold;"> </block><block>(per cluster)</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Scheduler</block><block>  It's a sub-component of </block><block style="font-style: italic;">Resource Manager </block><block> allocates cluster resources to whatever applications need it.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Application Manager (AM)</block><block>  Accepts jobs to be run on a particular cluster.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Node Manager</block><block> (per node)  It negotiates with the </block><block style="font-style: italic;">Resource Manager</block><block> for resources requested by an </block><block style="font-weight: bold; font-style: italic;">Application Master</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>It also reports resource usage to the </block><block style="font-style: italic;">Resource Manager</block><block> such that the </block><block style="font-style: italic;">Resource Manager</block><block> knows whether or not to assign more work to that particular node.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Application Master</block><block>  It negotiates with the </block><block style="font-style: italic;">Scheduler</block><block> and the </block><block style="font-style: italic;">Resource Manager</block><block> for more containers or more compute powers.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Containers</block><block>  They're just an abstraction representing some RAM, CPU or disk.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 389px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="grouped-shape"><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M257.17,179.33 L384.83,179.33 L384.83,230.67 L257.17,230.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M452.5,270 L580.17,270 L580.17,321.33 L452.5,321.33 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M451.5,121.33 L579.17,121.33 L579.17,172.67 L451.5,172.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M202.17,206 L255.5,206" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,257.5,206.00000000000003)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M385,186.5 L450.47,131.29" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-0.7644715314230909,0.6446574886275922,-0.6446574886275922,-0.7644715314230909,452,130)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M454.58,127.69 L488.7,127.69 L488.7,147.19 L454.58,147.19 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M472,147 L472,198 L386.5,198" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(1,-2.4492935982947064e-16,2.4492935982947064e-16,1,384.5,198)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M385,210.5 L559.5,210.5 L559.02,146.5" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(0.007504845332926807,0.9999718382517224,-0.9999718382517224,0.007504845332926807,559,144.5)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M537,130 L577,130 L577,144.5 L537,144.5 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M537,285 L577,285 L577,299.5 L537,299.5 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M385,222 L559,222 L559,283" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,559,285)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="composite-shape"><path class="real" d=" M150,202.75 C150,192.67 158.17,184.5 168.25,184.5 C178.33,184.5 186.5,192.67 186.5,202.75 C186.5,212.83 178.33,221 168.25,221 C158.17,221 150,212.83 150,202.75 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M160.22,196.55 C160.22,195.54 161.04,194.72 162.04,194.72 C163.05,194.72 163.87,195.54 163.87,196.55 C163.87,197.55 163.05,198.37 162.04,198.37 C161.04,198.37 160.22,197.55 160.22,196.55 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M172.63,196.55 C172.63,195.54 173.45,194.72 174.46,194.72 C175.46,194.72 176.28,195.54 176.28,196.55 C176.28,197.55 175.46,198.37 174.46,198.37 C173.45,198.37 172.63,197.55 172.63,196.55 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M159.13,210.05 C165.21,214.92 171.29,214.92 177.38,210.05" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M472.5,128 L472.5,109.5 L168.5,109.5 L168.5,182" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,168.5,183.99999999999997)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M468.5,146.5 L468,252 L320.5,252 L320.5,232.5" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,320.5,230.5)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M357.5,179 L357.5,91.5 L516,91.5 L516,119" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,516,121)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M357.5,230.5 L357.5,340 L524,340 L524,324" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(3.061616997868383e-16,1,-1,3.061616997868383e-16,524,322)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g></g><g></g></g><g></g><g><g><circle cx="223.83333333333334" cy="222" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g><g><circle cx="404.83333333333337" cy="131.5" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g><g><circle cx="486.83333333333337" cy="187.5" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g><g><circle cx="574.8333333333334" cy="189" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g><g><circle cx="573.8333333333334" cy="255.5" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g><g><circle cx="282.33333333333337" cy="95" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g><g><circle cx="437.33333333333337" cy="238.5" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g><g><circle cx="460.83333333333337" cy="77" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g><g><circle cx="467.83333333333337" cy="354.5" r="13.601470508735444" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.3;"></circle></g></g><g></g></svg><diagram-editors><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 282.5px; top: 180.5px;"><dg-editor-container data-editor-id="de861333103223493" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(189, 16, 224); fill: rgb(189, 16, 224); stroke: rgb(189, 16, 224); border-color: rgb(189, 16, 224); font-size: 1em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">Resource </block></blocks></line><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">Manager</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 481.333px; top: 271.167px;"><dg-editor-container data-editor-id="de08402257801278568" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(189, 16, 224); fill: rgb(189, 16, 224); stroke: rgb(189, 16, 224); border-color: rgb(189, 16, 224); font-size: 1em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">Node </block></blocks></line><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">Manager</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 480.333px; top: 122.5px;"><dg-editor-container data-editor-id="de986407662522663" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(189, 16, 224); fill: rgb(189, 16, 224); stroke: rgb(189, 16, 224); border-color: rgb(189, 16, 224); font-size: 1em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">Node </block></blocks></line><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif;">Manager</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 458.641px; top: 122.938px;"><dg-editor-container data-editor-id="de21699999204893738" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em; color: rgb(245, 166, 35);">AM</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="center" style="left: 557.113px; top: 287.398px;"><dg-editor-container data-editor-id="de8813199003165126" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(-50%, -50%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke: rgb(245, 166, 35); border-color: rgb(245, 166, 35); font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.5em;">container</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="center" style="left: 557.113px; top: 132.398px;"><dg-editor-container data-editor-id="de6739467953244411" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(-50%, -50%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke: rgb(245, 166, 35); border-color: rgb(245, 166, 35); font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.5em;">container</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 199.333px; top: 183.5px;"><dg-editor-container data-editor-id="de7924733794175653" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(65, 117, 5); fill: rgb(65, 117, 5); stroke: rgb(65, 117, 5); border-color: rgb(65, 117, 5); font-size: 0.7em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">submit a job</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 215.833px; top: 211px;"><dg-editor-container data-editor-id="de576065058413427" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">1</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="319.97" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 381.12px; top: 164.194px; transform: rotate(319.97deg);"><dg-editor-container data-editor-id="de9789241120408811" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(65, 117, 5); fill: rgb(65, 117, 5); stroke: rgb(65, 117, 5); border-color: rgb(65, 117, 5); font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">start a container </block></blocks></line><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">(AM)</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 396.833px; top: 120.5px;"><dg-editor-container data-editor-id="de3219501057344307" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">2</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 405.089px; top: 181.342px;"><dg-editor-container data-editor-id="de13843519031387275" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(65, 117, 5); fill: rgb(65, 117, 5); stroke: rgb(65, 117, 5); border-color: rgb(65, 117, 5); font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">request resource</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 478.833px; top: 176.5px;"><dg-editor-container data-editor-id="de7259486058052709" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">3</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 497.589px; top: 205.342px;"><dg-editor-container data-editor-id="de6979671827874585" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(65, 117, 5); fill: rgb(65, 117, 5); stroke: rgb(65, 117, 5); border-color: rgb(65, 117, 5); font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">start container</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 566.833px; top: 178px;"><dg-editor-container data-editor-id="de5776513333454296" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">4</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 565.833px; top: 244.5px;"><dg-editor-container data-editor-id="de6473469161239263" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">4</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 149px; top: 223px;"><dg-editor-container data-editor-id="de17899895996840365" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(189, 16, 224);">User</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 292.589px; top: 92.3424px;"><dg-editor-container data-editor-id="de8429249970427983" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(65, 117, 5); fill: rgb(65, 117, 5); stroke: rgb(65, 117, 5); border-color: rgb(65, 117, 5); font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">get status</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 274.333px; top: 84px;"><dg-editor-container data-editor-id="de5639671583109402" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">5</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 382.589px; top: 234.342px;"><dg-editor-container data-editor-id="de8801241698206099" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(65, 117, 5); fill: rgb(65, 117, 5); stroke: rgb(65, 117, 5); border-color: rgb(65, 117, 5); font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">de-register</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 429.333px; top: 227.5px;"><dg-editor-container data-editor-id="de9623693858486051" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">6</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 413.589px; top: 73.8424px;"><dg-editor-container data-editor-id="de11091471252238616" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(65, 117, 5); fill: rgb(65, 117, 5); stroke: rgb(65, 117, 5); border-color: rgb(65, 117, 5); font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">cleanup</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 424.089px; top: 333.5px;"><dg-editor-container data-editor-id="de9400965099109739" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(65, 117, 5); fill: rgb(65, 117, 5); stroke: rgb(65, 117, 5); border-color: rgb(65, 117, 5); font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">cleanup</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 452.833px; top: 66px;"><dg-editor-container data-editor-id="de5598932968489316" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">7</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 459.833px; top: 343.5px;"><dg-editor-container data-editor-id="de7941007263526689" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(208, 2, 27); fill: rgb(208, 2, 27); stroke: rgb(208, 2, 27); border-color: rgb(208, 2, 27); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">7</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 185.417px; top: 18px;"><dg-editor-container data-editor-id="de3938374672101177" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1.2em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;">Apache YARN:</block><block style="font-family: &quot;Computer Modern Serif&quot;, serif;"> sequence of processes</block></blocks></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">What does Apache YARN do for us?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>When we group many nodes together, we can think of their CPU, or RAM as being one of a giant computer, and YARN will help manage the resources such that we can assign multiple instances of work to that cluster.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.12354880176339011" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.12354880176339011" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">3.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Apache Spark: Locality</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Unfortunately, we still didn't gain </block><block style="font-weight: bold; font-style: italic;">computational dependency management</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Basically, what we want is the ability to write code in one place and have some tool/software organize those instructions to be highly optimized and parallelized when possible. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Effectively, we want the user to be able to consider the entire cluster to be a single computer  such that they don't have to write any specialized code to be run across the cluster.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Apache Spark's </block><block style="font-weight: bold;">components</block><block>:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Driver</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Converts the user's code to a set of </block><block style="font-weight: bold;">tasks</block><block>. </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Task</block><block>  is the smallest unit of work that Spark recognizes. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Schedules these units of tasks across different </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Executors</block><block>. </block><block style="font-style: italic;">Executors</block><block> execute the codes.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Effectively, the </block><block style="font-style: italic;">Driver</block><block> makes sure that the submitted code is optimized to be run in a distributed cluster.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>It does that by compiling the code into </block><block style="font-weight: bold; color: rgb(208, 2, 27);">RDD DAG</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">RDD</block><block>  </block><block style="font-weight: bold;">Resilient, Distributed Dataset</block><block>  unit of data</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">DAG</block><block>  </block><block style="font-weight: bold;">Directed Acyclic Graph</block><block>  Schedules the task with </block><block style="font-weight: bold; color: rgb(208, 2, 27);">DAG Scheduler (stages)</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">DAG Scheduler</block><block> makes sure that each step are run in the proper order.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Each stage has a series of tasks associated with that stage  That's done by the </block><block style="font-weight: bold;">Task Scheduler</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>After the </block><block style="font-style: italic;">Driver</block><block> creates the tasks and DAG Schedulers (stages), it will distribute these tasks out to </block><block style="font-style: italic;">Executors</block><block> which return to the </block><block style="font-style: italic;">Driver</block><block> the results of that DAG.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Cluster Manager</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark's cluster manager is YARN. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>It uses YARN to schedule jobs submitted to the cluster.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Executor</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>It runs the task and returns the result to the </block><block style="font-style: italic;">Driver</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">How does Apache Spark fit into Apache YARN?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-style: italic;">Driver</block><block> is mapped to the </block><block style="font-style: italic;">Application Master</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-style: italic;">Executors</block><block> are just inside the </block><block style="font-style: italic;">containers</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 250px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="composite-shape"><path class="real" d=" M366.33,41 L500,41 L500,129.67 L366.33,129.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M383,70.67 L453,70.67 L453,95.67 L383,95.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M383.33,100.33 L490,100.33 L490,120.67 L383.33,120.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M244.33,143.67 L378,143.67 L378,232.33 L244.33,232.33 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M258,199 L364.67,199 L364.67,219.33 L258,219.33 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g></g></g><g></g><g><g><rect rx="0" ry="0" x="194.66666666666663" y="65.66666666666667" width="145" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g></g><g></g></svg><diagram-editors><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 195.667px; top: 66.6667px;"><dg-editor-container data-editor-id="de4443218832840179" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(189, 16, 224);">Resource Manager</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 377px; top: 41.6667px;"><dg-editor-container data-editor-id="de8992744198579008" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(189, 16, 224);">Node Manager</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 387px; top: 74px;"><dg-editor-container data-editor-id="de6421133521508615" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.7em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(245, 166, 35);">AM/Driver</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 383.333px; top: 100.333px;"><dg-editor-container data-editor-id="de08049766290796523" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.7em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(245, 166, 35);">container/Executor</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 253.667px; top: 143.667px;"><dg-editor-container data-editor-id="de4681615564691357" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(189, 16, 224);">Node Manager</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 258px; top: 199px;"><dg-editor-container data-editor-id="de8709319521281449" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.7em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; color: rgb(245, 166, 35);">container/Executor</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 231.667px; top: 5.66667px;"><dg-editor-container data-editor-id="de18647581644608624" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;">Apache Spark on YARN</block></blocks></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Since both YARN and Spark are on HDFS cluster, so that we don't have to move data to anywhere else  It can be all done </block><block style="font-weight: bold; font-style: italic;">locally</block><block> on the same cluster.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, with these tools, we can check all the requirement boxes (</block><compositeblock dir="ltr" class="section-ref inline"><span data-section-line-id="n0.1424355519460856" class="section-ref-border no-border-on-print"><a href="#n0.1424355519460856" style="color: inherit; text-decoration: inherit;">?</a></span></compositeblock><block>):</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="checkbox-symbol inline" style="line-height: 1.4em; padding-right: 0.4em; overflow: visible;"><div role="checkbox" aria-checked="true" class="regular-checkbox" style="display: inline-block; cursor: pointer; border: 1px solid; width: 16px; height: 16px; border-radius: 2px; position: relative; transform: translateY(0.16em); z-index: 3;"><div aria-hidden="true" style="font-size: 0.7em; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 70%; height: 100%;"><svg viewBox="0 0 24 24" style="width: 100%; height: 100%;"><path d="M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"></path></svg></div></div></compositeblock><block>Cluster resource management (CPU, RAM)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="checkbox-symbol inline" style="line-height: 1.4em; padding-right: 0.4em; overflow: visible;"><div role="checkbox" aria-checked="true" class="regular-checkbox" style="display: inline-block; cursor: pointer; border: 1px solid; width: 16px; height: 16px; border-radius: 2px; position: relative; transform: translateY(0.16em); z-index: 3;"><div aria-hidden="true" style="font-size: 0.7em; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 70%; height: 100%;"><svg viewBox="0 0 24 24" style="width: 100%; height: 100%;"><path d="M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"></path></svg></div></div></compositeblock><block>Computational dependency management (locality)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="checkbox-symbol inline" style="line-height: 1.4em; padding-right: 0.4em; overflow: visible;"><div role="checkbox" aria-checked="true" class="regular-checkbox" style="display: inline-block; cursor: pointer; border: 1px solid; width: 16px; height: 16px; border-radius: 2px; position: relative; transform: translateY(0.16em); z-index: 3;"><div aria-hidden="true" style="font-size: 0.7em; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 70%; height: 100%;"><svg viewBox="0 0 24 24" style="width: 100%; height: 100%;"><path d="M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"></path></svg></div></div></compositeblock><block>Manage saving final results to HDFS</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="checkbox-symbol inline" style="line-height: 1.4em; padding-right: 0.4em; overflow: visible;"><div role="checkbox" aria-checked="true" class="regular-checkbox" style="display: inline-block; cursor: pointer; border: 1px solid; width: 16px; height: 16px; border-radius: 2px; position: relative; transform: translateY(0.16em); z-index: 3;"><div aria-hidden="true" style="font-size: 0.7em; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 70%; height: 100%;"><svg viewBox="0 0 24 24" style="width: 100%; height: 100%;"><path d="M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z"></path></svg></div></div></compositeblock><block>Bonus: Share same HDFS cluster</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.9428790379246732" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.9428790379246732" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">3.5. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Availability</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>As always, we have to think in terms of </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">high availability</block><block> and </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">fault tolerance</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(245, 166, 35, 0.2);">The </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">single point of failure</block><block style="background-color: rgba(245, 166, 35, 0.2);"> is the </block><block style="font-style: italic; background-color: rgba(245, 166, 35, 0.2);">Resource Manager</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We'd like some </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">Zookeeper</block><block> instance running which will keep track of an active/passive </block><block style="font-style: italic;">Resource Manager</block><block>, and the passive </block><block style="font-style: italic;">Resource Manager</block><block> can be set into a </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">hot standby mode</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.08740938489838923" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.08740938489838923" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">3.6. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Example</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.7807986923359849" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7807986923359849" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">3.6.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>On Hadoop cluster</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>First, we SSH into the name node of the HDFS cluster.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here, we used </block><block style="font-weight: bold;">Elastic MapReduce (EMR)</block><block> to set up this cluster.</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 638.883px; height: 275.36px; position: relative;"><img src="image-resources/019cf8b6-2537-4bb5-b26d-c600e41d98c5.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, we want to run some Spark code on our Hadoop cluster. Here's a simple code (in pySpark) that we wish to run.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 643.062px; height: 185.59px; position: relative;"><img src="image-resources/eddf7110-8064-4472-8f4b-3ee3d8adffbf.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> If you're more familiar with SQL, you can write SQL-like codes using Spark's </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">SQLContext</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class="keyword token">from</block><block class=" token"> pyspark</block><block class="punctuation token">.</block><block class=" token">sql </block><block class="keyword token">import</block><block class=" token"> SQLContext</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">sqlContext </block><block class="operator token">=</block><block class=" token"> SQLContext</block><block class="punctuation token">(</block><block class=" token">sc</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">df</block><block class="punctuation token">.</block><block class=" token">registerTempTable</block><block class="punctuation token">(</block><block class="string token">"df"</block><block class="punctuation token">)</block></blocks></line><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">sqlContext</block><block class="punctuation token">.</block><block class=" token">sql</block><block class="punctuation token">(</block><block class="string token">"SELECT COUNT(DISTINCT user_id) FROM df"</block><block class="punctuation token">)</block><block class="punctuation token">.</block><block class=" token">show</block><block class="punctuation token">(</block><block class="punctuation token">)</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can run this file by running this command (</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">spark-submit</block><block> command already exist in the Hadoop cluster):</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="code-section-symbol inline" style="display: block;"><div class="code-section theme-tomorrow-night" style="display: block; border: 1px solid lightgray; background: rgb(45, 45, 45); padding: 10px; font-size: 15px;"><editarea class="text-mode code-section-edit-area" style="font-family: &quot;Fira code&quot;, &quot;Fira Mono&quot;, monospace;"><line class="text-mode code-section-line"><prefix></prefix><blocks class="code-line-blocks-container"><baselineblock></baselineblock><block class=" token">/bin/./spark-submit pyspark_example.py</block></blocks></line></editarea></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> The problem with the terminal UI is that it's hard to be interactive with it  We could use the </block><block style="font-weight: bold; color: rgb(208, 2, 27);">pySpark interactive interpreter</block><block>. We just run the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">pyspark</block><block> command in the command line  This will spin up a little instance where we can write and run (line by line, like in IPython) Spark codes in.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The interpreter sets up the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">SparkSession</block><block> automatically  so, we don't need to initialize it.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.05487606841175552" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.05487606841175552" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">3.6.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>On Jupyter notebook</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We could also use </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Jupyter Notebooks</block><block> to run spark codes. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It allows us to initialize a pySpark session in the same way that we did when we SSH'd into the name node of the Hadoop cluster.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here, the notebook is running on a separate instance outside of the cluster and it's allowing us to contact the cluster in order to submit jobs to it.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The glue between the machine that runs the notebook and the cluster is called </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Livy</block><block>. It provides an API to submit Spark jobs outside of the cluster itself.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Like the Spark interpreter, the notebook also initialize a Spark session automatically.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 632.812px; height: 275.55px; position: relative;"><img src="image-resources/0d89e043-633c-4a88-82ba-d5928fe03a63.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.31901529894216973" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.31901529894216973" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">3.6.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark History Server</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark History Server lists all the Spark apps with each app gets their own ID.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>When you click on each app, it'll show the completed jobs (under that particular instance).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can also look at the </block><block style="font-style: italic;">stages</block><block> associated with that job  We can also see the DAG visualization and many more things (see figures below).</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="matrix-symbol table-symbol role-tabular"><matrix class="table"><table data-table-id="n0.1853835454032089"><colgroup><col></colgroup><tbody><tr><td data-rindex="0" data-cindex="0" style="padding: 0.5em;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 591.375px; height: 283.43px; position: relative;"><img src="image-resources/8e49426c-92f9-40c9-933f-9554b90973e2.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div data-caption-block-id="n0.7240302537431857" class="role-image-caption-container role-caption-container" style="display: flex; align-items: center; justify-content: center; margin-top: 10px;" id="n0.7240302537431857"><span class="no-print-outline" style="outline: none; position: relative; text-align: center;"><span class="role-image-caption-prefix" style="padding-right: 0.3em; font-weight: bold;"><span class="role-image-caption-name">Figure</span><span class="role-image-caption-number"><!-- react-text: 271226 --> <!-- /react-text --><!-- react-text: 271227 -->3<!-- /react-text --></span><span>:</span></span><editarea class="image-caption text-mode" style="min-width: 50px; display: inline;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark History Server</block></blocks></line></editarea></span></div></compositeblock></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line></editarea></td></tr><tr><td data-rindex="1" data-cindex="0" style="padding: 0.5em;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 575.938px; height: 189.94px; position: relative;"><img src="image-resources/df739964-aad7-4951-ac48-a9265fa88760.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div data-caption-block-id="n0.967135869433019" class="role-image-caption-container role-caption-container" style="display: flex; align-items: center; justify-content: center; margin-top: 10px;" id="n0.967135869433019"><span class="no-print-outline" style="outline: none; position: relative; text-align: center;"><span class="role-image-caption-prefix" style="padding-right: 0.3em; font-weight: bold;"><span class="role-image-caption-name">Figure</span><span class="role-image-caption-number"><!-- react-text: 271270 --> <!-- /react-text --><!-- react-text: 271271 -->4<!-- /react-text --></span><span>:</span></span><editarea class="image-caption text-mode" style="min-width: 50px; display: inline;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark app jobs</block></blocks></line></editarea></span></div></compositeblock></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line></editarea></td></tr><tr><td data-rindex="2" data-cindex="0" style="padding: 0.5em;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 573.156px; height: 143.14px; position: relative;"><img src="image-resources/19d5595b-b68b-4251-94fb-4d627533cf99.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div data-caption-block-id="n0.42899102287686963" class="role-image-caption-container role-caption-container" style="display: flex; align-items: center; justify-content: center; margin-top: 10px;" id="n0.42899102287686963"><span class="no-print-outline" style="outline: none; position: relative; text-align: center;"><span class="role-image-caption-prefix" style="padding-right: 0.3em; font-weight: bold;"><span class="role-image-caption-name">Figure</span><span class="role-image-caption-number"><!-- react-text: 271314 --> <!-- /react-text --><!-- react-text: 271315 -->5<!-- /react-text --></span><span>:</span></span><editarea class="image-caption text-mode" style="min-width: 50px; display: inline;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark job stages</block></blocks></line></editarea></span></div></compositeblock></blocks></line></editarea></td></tr><tr><td data-rindex="3" data-cindex="0" style="padding: 0.5em;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 576.062px; height: 302.39px; position: relative;"><img src="image-resources/9a3911c2-60bd-420a-baed-a838f2e1dbae.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div data-caption-block-id="n0.6742775586202499" class="role-image-caption-container role-caption-container" style="display: flex; align-items: center; justify-content: center; margin-top: 10px;" id="n0.6742775586202499"><span class="no-print-outline" style="outline: none; position: relative; text-align: center;"><span class="role-image-caption-prefix" style="padding-right: 0.3em; font-weight: bold;"><span class="role-image-caption-name">Figure</span><span class="role-image-caption-number"><!-- react-text: 271353 --> <!-- /react-text --><!-- react-text: 271354 -->6<!-- /react-text --></span><span>:</span></span><editarea class="image-caption text-mode" style="min-width: 50px; display: inline;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>DAG visualization</block></blocks></line></editarea></span></div></compositeblock></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line></editarea></td></tr><tr><td data-rindex="4" data-cindex="0" style="padding: 0.5em;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 587.688px; height: 309.11px; position: relative;"><img src="image-resources/050b7ca9-01fd-4193-bf1e-6a6b4963f244.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div data-caption-block-id="n0.8931989143044909" class="role-image-caption-container role-caption-container" style="display: flex; align-items: center; justify-content: center; margin-top: 10px;" id="n0.8931989143044909"><span class="no-print-outline" style="outline: none; position: relative; text-align: center;"><span class="role-image-caption-prefix" style="padding-right: 0.3em; font-weight: bold;"><span class="role-image-caption-name">Figure</span><span class="role-image-caption-number"><!-- react-text: 271397 --> <!-- /react-text --><!-- react-text: 271398 -->7<!-- /react-text --></span><span>:</span></span><editarea class="image-caption text-mode" style="min-width: 50px; display: inline;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>Other stats</block></blocks></line></editarea></span></div></compositeblock></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line></editarea></td></tr><tr><td data-rindex="5" data-cindex="0" style="padding: 0.5em;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 581.406px; height: 265.68px; position: relative;"><img src="image-resources/0f7eb26d-ea7e-4170-9e65-77a87a46c517.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div data-caption-block-id="n0.8998781839242205" class="role-image-caption-container role-caption-container" style="display: flex; align-items: center; justify-content: center; margin-top: 10px;" id="n0.8998781839242205"><span class="no-print-outline" style="outline: none; position: relative; text-align: center;"><span class="role-image-caption-prefix" style="padding-right: 0.3em; font-weight: bold;"><span class="role-image-caption-name">Figure</span><span class="role-image-caption-number"><!-- react-text: 271441 --> <!-- /react-text --><!-- react-text: 271442 -->8<!-- /react-text --></span><span>:</span></span><editarea class="image-caption text-mode" style="min-width: 50px; display: inline;"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>Executors</block></blocks></line></editarea></span></div></compositeblock></blocks></line><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line></editarea></td></tr></tbody></table><table-resize style="position: absolute; left: 0px; top: 0px; width: 0px; height: 0px;"></table-resize></matrix></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.7160847059944713" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7160847059944713" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Processing Orchestration</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The processes we discussed in previous sections, generally, we don't want to do them only one time  For instance, we may have to repeat them every 24 hrs.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The problem is that we don't want to run all different jobs manually every time.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It'd also be nice to </block><block style="background-color: rgba(248, 231, 28, 0.3);">handle data dependencies automatically</block><block> as well. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Whatever that should happen serially, happens in order and whatever that be done at the same time, get done in parallel.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Finally, we want to be able to scale up  i.e. managing potentially thousands of scheduled jobs.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.4446808298909366" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.4446808298909366" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">4.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Apache Airflow</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We're going to use </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Apache Airflow</block><block> to solve all the problems mentioned above.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Airflow uses the concept of DAG to manage jobs.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 124px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M267,17 L308.25,40.03" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-0.8731774003200576,-0.4874025313540193,0.4874025313540193,-0.8731774003200576,310,41)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M266.5,73 L308.39,42.19" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-0.8055147827148521,0.5925756785659066,-0.5925756785659066,-0.8055147827148521,310.00000000000006,41)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M392.5,42 L443.79,72.97" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-0.8560867282915162,-0.5168321909896167,0.5168321909896167,-0.8560867282915162,445.5,74)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M390.5,100 L443.69,74.85" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-0.9040825496607786,0.42735786338719195,-0.42735786338719195,-0.9040825496607786,445.5,74)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g></g></g><g></g><g><g><rect rx="0" ry="0" x="168" y="3" width="99" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="167" y="57" width="99" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="309" y="28" width="83" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="291" y="84" width="99" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="445" y="59" width="107" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g></g><g></g></svg><diagram-editors><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 169px; top: 4px;"><dg-editor-container data-editor-id="de18350986933469393" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>get_data_A</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 168px; top: 58px;"><dg-editor-container data-editor-id="de5175265044188833" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>get_data_B</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 310px; top: 29px;"><dg-editor-container data-editor-id="de10282012113773398" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>join_A_B</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 292px; top: 85px;"><dg-editor-container data-editor-id="de21170218666637775" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>get_data_C</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 446px; top: 60px;"><dg-editor-container data-editor-id="de68953557167884" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block>join_A_B_C</block></blocks></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.01986743639261168" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.01986743639261168" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">4.1.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Apache Airflow: Web Server</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In order to show all of these DAGs and the previous runs of DAGs, Airflow offers a web server.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's actually a Flask app that let users to trigger DAGs.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It also allows to browse DAG history (stored in DB).</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.021484480594700095" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.021484480594700095" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">4.1.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Apache Airflow: Scheduler</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-style: italic; color: rgb(0, 0, 0);">scheduler</block><block>:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Monitors DBs to check task states</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Fetch DAGs from DAG store</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Send DAG to execution queue</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Writes DAG runs into DB for history</block></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.8808725553814301" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8808725553814301" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">4.1.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Apache Airflow: Worker</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-style: italic;">Worker</block><block>:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Pulls the task queue</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Runs the tasks</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Stores task state to the DB (so the </block><block style="font-style: italic;">Scheduler</block><block> is aware of its progress).</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.08027273699050075" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.08027273699050075" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">4.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Airflow Process</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 362px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="grouped-shape"></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M504.67,212.5 L504.67,261.5 C504.67,267.3 483.55,272 457.5,272 C431.45,272 410.33,267.3 410.33,261.5 L410.33,212.5 C410.33,206.7 431.45,202 457.5,202 C483.55,202 504.67,206.7 504.67,212.5 C504.67,218.3 483.55,223 457.5,223 C431.45,223 410.33,218.3 410.33,212.5" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="composite-shape"><path class="real" d=" M45.67,107.5 C45.67,101.33 50.67,96.33 56.83,96.33 C63,96.33 68,101.33 68,107.5 C68,113.67 63,118.67 56.83,118.67 C50.67,118.67 45.67,113.67 45.67,107.5 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M51.92,103.7 C51.92,103.09 52.42,102.59 53.04,102.59 C53.65,102.59 54.15,103.09 54.15,103.7 C54.15,104.32 53.65,104.82 53.04,104.82 C52.42,104.82 51.92,104.32 51.92,103.7 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M59.51,103.7 C59.51,103.09 60.01,102.59 60.63,102.59 C61.25,102.59 61.75,103.09 61.75,103.7 C61.75,104.32 61.25,104.82 60.63,104.82 C60.01,104.82 59.51,104.32 59.51,103.7 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M51.25,111.97 C54.97,114.94 58.69,114.94 62.42,111.97" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M75,104 L158.33,104" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,160.33333333333334,104.00000000000001)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M185.67,123.67 L185.67,214.33" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1.8369701987210297e-16,-1,1,-1.8369701987210297e-16,185.66666666666666,216.33333333333331)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M167,231 C119.06,230.34 135.16,260.73 96.15,264.19" style="stroke: rgb(128, 128, 128); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(128,128,128)" stroke-opacity="1" transform="matrix(0.997926866085527,-0.06435813813900039,0.06435813813900039,0.997926866085527,94.33333333333333,264.3333333333333)" style="stroke: rgb(128, 128, 128); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M215.33,125 C252.62,153.38 274.89,154.97 314.14,125.89" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-0.7999989281485084,0.6000014291326627,-0.6000014291326627,-0.7999989281485084,315.3333333333333,125)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M344.67,125.67 C381.96,154.05 404.22,155.64 443.47,126.56" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-0.7999989281485084,0.6000014291326627,-0.6000014291326627,-0.7999989281485084,444.6666666666668,125.66666666666666)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M532.33,73.67 C506.2,41.65 464.06,69.83 451.09,95.44" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(0.4191351827806119,-0.9079238396228304,0.9079238396228304,0.4191351827806119,450.3333333333333,97)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="composite-shape"><path class="real" d=" M533.33,49.33 L603.33,49.33 L603.33,171 L533.33,171 Z" style="stroke-width: 1; stroke: rgb(128, 128, 128); stroke-opacity: 1; fill: none; fill-opacity: 1; stroke-dasharray: 6, 6;"></path></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M566.33,174.33 C536.13,205.2 598.41,210.19 575.44,175.93" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(0.5855237617539945,0.8106552438746397,-0.8106552438746397,0.5855237617539945,574.3333333333334,174.33333333333337)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M327,125 L327,243 L409,243" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,410.99999999999994,243)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M315.67,272.33 C305.48,276.79 303.2,282.46 302.43,295.16" style="stroke: rgb(128, 128, 128); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(128,128,128)" stroke-opacity="1" transform="matrix(0.04762946174398234,-0.9988650731575204,0.9988650731575204,0.04762946174398234,302.3333333333333,297.00000000000006)" style="stroke: rgb(128, 128, 128); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M531.67,131.67 C479.13,134.29 466.7,164.09 462.52,199.38" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(0.11042819994545189,-0.9938841042379173,0.9938841042379173,0.11042819994545189,462.3333333333333,201)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M209.67,126.33 L209.67,184.33 L452.33,183 L452.33,202.33" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(6.123233995736766e-17,1,-1,6.123233995736766e-17,209.66666666666669,124.33333333333334)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M76.67,114.67 L160,114.67" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(1,0,0,1,74.66666666666666,114.66666666666666)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g></g></g><g></g><g><g><rect rx="0" ry="0" x="161.00000000000003" y="96.33333333333334" width="88" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="271.66666666666663" y="96.99999999999997" width="88" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="419.66666666666663" y="96.99999999999997" width="53" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="167.66666666666666" y="216.3333333333333" width="88" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="538" y="56.999999999999986" width="62" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="537.9999999999999" y="97.67" width="62" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g><g><rect rx="0" ry="0" x="537.9999999999998" y="138.33333333333331" width="62" height="28" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></rect></g></g><g></g></svg><diagram-editors><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 162px; top: 97.3333px;"><dg-editor-container data-editor-id="de6686809811810162" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(255, 54, 79);">webserver</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 272.667px; top: 98px;"><dg-editor-container data-editor-id="de14486491332533458" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(255, 54, 79);">scheduler</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 420.667px; top: 98px;"><dg-editor-container data-editor-id="de7048763308156496" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(255, 54, 79);">queue</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 168.667px; top: 217.333px;"><dg-editor-container data-editor-id="de028561065978608635" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(255, 54, 79);">DAG store</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 276px; top: 2px;"><dg-editor-container data-editor-id="de6494171719485629" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 1.44em; font-weight: bold;">Apache Airflow</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 84.6667px; top: 73.6667px;"><dg-editor-container data-editor-id="de27931164510542583" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">1. user triggers </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">DAG</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="90" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 203.5px; top: 129.5px; transform: rotate(90deg);"><dg-editor-container data-editor-id="de6010561548726221" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">2. fetch the DAG</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 27.3333px; top: 244.667px;"><dg-editor-container data-editor-id="de5179391330054877" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">typically a S3, or </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">some distributed </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">file store</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 221.5px; top: 145.833px;"><dg-editor-container data-editor-id="de2655134642005128" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">3. schedule the DAG</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 539px; top: 58px;"><dg-editor-container data-editor-id="de5754146967685401" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(255, 54, 79);">worker</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 539px; top: 98.67px;"><dg-editor-container data-editor-id="de0311081219698206" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(255, 54, 79);">worker</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 539px; top: 139.333px;"><dg-editor-container data-editor-id="de04838235343470676" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(255, 54, 79);">worker</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 356.833px; top: 143.167px;"><dg-editor-container data-editor-id="de15051128579141726" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">4. enqueue tasks </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">(in parallel/serial)</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 473.5px; top: 63.8333px;"><dg-editor-container data-editor-id="de005451818696188937" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">5. get tasks</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 544.167px; top: 199.167px;"><dg-editor-container data-editor-id="de3652390811530426" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">6. do the tasks</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 411.667px; top: 228.667px;"><dg-editor-container data-editor-id="de6918117916206448" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(255, 54, 79);">PostgreSQL</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 310.167px; top: 245.833px;"><dg-editor-container data-editor-id="de7249477305677479" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">8. check (periodically) </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">if task compeleted</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 287.333px; top: 301px;"><dg-editor-container data-editor-id="de03885686467081295" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">This allows the scheduler to know when</block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);"> a task is completed so that it can schedule </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">the subsequenct tasks that had dependencies.</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 466.833px; top: 161.167px;"><dg-editor-container data-editor-id="de9985541476740707" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">7. task </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">completed</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 326px; top: 214.667px;"><dg-editor-container data-editor-id="de23434398215286523" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">If task completed then </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">it schedules more tasks</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 486px; top: 282.667px;"><dg-editor-container data-editor-id="de671152405229918" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 0.7em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">Once all the tasks are completed, </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; color: rgb(128, 128, 128);">scheduler adds DAGs' history to the DB</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 498.833px; top: 267.833px;"><dg-editor-container data-editor-id="de5776010770072266" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">9. Add DAG history</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 230.167px; top: 181.167px;"><dg-editor-container data-editor-id="de9668144954124882" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">10. pull DAG status</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 90.1667px; top: 117.167px;"><dg-editor-container data-editor-id="de5999031473631382" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">11. DAG is </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Serif&quot;, serif; font-size: 0.7em;">completed</block></blocks></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8704992165858003" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8704992165858003" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">4.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Airflow technologies</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; font-style: italic;">workers</block><block> are implemented through a </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Celery</block><block> worker. </block><block style="font-weight: bold; font-style: italic;">Celery</block><block> ensures that if one of the workers goes offline (such as the host itself going down or host losing network connection), </block><block style="font-style: italic;">Celery</block><block> will quickly adapt and assign tasks to other new workers to come and take its place.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; font-style: italic;">queue</block><block> is typically fronted by </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Rabbit MQ</block><block>. It supports a cluster of queues so that we can </block><block style="background-color: rgba(248, 231, 28, 0.3);">scale up</block><block> the number of queues if the </block><block style="font-style: italic;">scheduler</block><block> has a very high load to be scheduled and it </block><block style="background-color: rgba(248, 231, 28, 0.3);">allows the queue to have a high availability</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">scheduler</block><block style="background-color: rgba(248, 231, 28, 0.3);"> is typically the single point of failure for Airflow</block><block>. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In older versions, we would need an </block><block style="font-weight: bold;">active/passive hot standby</block><block> situation.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In more recent versions, they support concurrency amongst the schedulers  This means that you can have many schedulers running at the same time. It'll ensure that tasks don't get scheduled twice by mistake. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For </block><block style="font-weight: bold; font-style: italic;">database</block><block>, we </block><block style="background-color: rgba(248, 231, 28, 0.3);">need to have an active/passive hot standby</block><block> as well.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic;">DAG store</block><block> is typically in a distributed file store (e.g. S3). </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; font-style: italic;">webserver</block><block> is typically going to consist of </block><block style="background-color: rgba(248, 231, 28, 0.3);">multiple instances</block><block> behind some load balancers, such that if a single instance goes down, we can still schedule and view our DAGs because there's more than one host.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.6527215540415121" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6527215540415121" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">4.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Airflow in action</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is the Airflow webserver UI:</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 655.562px; height: 190.59px; position: relative;"><img src="image-resources/aadf26c4-a98c-488f-871b-146a4622e7e6.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In this example, it shows that an instance (</block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">mlexpert_dag</block><block>) is already running.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This means that there is an S3 (if on AWS) bucket with </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">mlexpert_dag</block><block>'s file in it.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Both AWS and Google offer a fully managed Airflow service.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we click on </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">mlexpert_dag</block><block>, we can see the DAG:</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 651.891px; height: 304.49px; position: relative;"><img src="image-resources/9d89fb61-083f-4945-909f-d77a8e9bd963.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If you go the code tab, it'll pull up the exact code that's backing this DAG:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 643.031px; height: 313.66px; position: relative;"><img src="image-resources/fa7ce562-2a3c-47e4-8b09-472c75bfdf0b.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> The </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">DAG</block><block> is imported from the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">airflow</block><block> library. The lines 17-23 shows how to define a DAG.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The next lines (25-44), shows how we can add tasks through </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">SSHOperator</block><block> to the DAG.</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 638.562px; height: 318.26px; position: relative;"><img src="image-resources/df78cd45-7c98-415d-bfce-fa8fc93776e6.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> The worker t1 would execute the </block><block style="font-weight: bold;">commend</block><block> argument </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 76, 97);">"spark-submit s3://bucket_name/aggregate_search_interaction.py &lt;DATE&gt;"</block><block> in the worker of the Airflow instance that we have. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The worker would send to the </block><block style="font-weight: bold;">name node</block><block> of the Hadoop cluster. The </block><block style="font-weight: bold;">name node</block><block> of the Hadoop cluster would be the one to actually run this file (the *.py file) itself.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Line </block><block style="font-weight: bold;">46</block><block> shows how we can arrange the tasks. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In this case, it says that task 1, 2 can be done in parallel, and once they're done task 3 can be run.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can see the graph representation of it in the </block><block style="font-weight: bold;">Graph View</block><block> tab.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.6474211962164791" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6474211962164791" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">5. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Workspaces</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>After getting the data, we need an environment where we could explore our data and ML models.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For instance, we'd like to </block><block style="background-color: rgba(245, 166, 35, 0.2);">explore</block><block>:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Data Completeness</block><block>  stability (data today is similar to data from, say, a year ago), availability, free of bias (positive feedback loop).</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Pretrained models</block><block>  Transfer learning (embedding layers)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Explainability</block><block>  </block><block class="role-hyper-link" data-hyper-link-url="https://www.investopedia.com/terms/s/shapley-value.asp#:~:text=What%20Is%20a%20Shapley%20Value,a%20desired%20outcome%20or%20payoff." style="text-decoration: underline; color: rgb(17, 85, 204); background-color: rgba(248, 231, 28, 0.3);"><a href="https://www.investopedia.com/terms/s/shapley-value.asp#:~:text=What%20Is%20a%20Shapley%20Value,a%20desired%20outcome%20or%20payoff." target="_blank" style="color: inherit; text-decoration: inherit;">Shapley</a></block><block style="background-color: rgba(248, 231, 28, 0.3);"> </block><block class="role-hyper-link" data-hyper-link-url="https://en.wikipedia.org/wiki/Shapley_value" style="text-decoration: underline; color: rgb(17, 85, 204); background-color: rgba(248, 231, 28, 0.3);"><a href="https://en.wikipedia.org/wiki/Shapley_value" target="_blank" style="color: inherit; text-decoration: inherit;">Values</a></block><block style="background-color: rgba(248, 231, 28, 0.3);">, Lime, DeepLift</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Model types</block><block>  Layered, ensemble, AutoML</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Feature importance</block><block>  </block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In addition to exploration, we'd also like to:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(245, 166, 35, 0.2);">Leverage our team resources</block><block>:</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Team packages</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Direct collaboration</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(245, 166, 35, 0.2);">Manage environment</block><block>:</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Individualized exploration (i.e. individualized environment)</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Production-ready for serving predictions</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(245, 166, 35, 0.2);">Have HDFS and Spark access</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(245, 166, 35, 0.2);">Have asynchronous support</block><block>:</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Training, hyperparameter tuning, evaluation</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(245, 166, 35, 0.2);">Have data access governance</block><block>:</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Protected data</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The tools out there (at the time of writing this, late 2022) are mostly:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Jupyter Hub</block><block>:</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Amazon SageMaker Studio</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Google Colab</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Azure ML Workspace</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.6384859332972184" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6384859332972184" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">6. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Frequentist A/B Testing</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The idea here is that we start with a </block><block style="font-weight: bold;">hypothesis</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Replace user experience with another</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The hypothesis allows us to describe how we're going to replace a one user experience with another and how a user will react to those new experiences.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For instance, if we have a recommendation algorithm which just recommends the most popular piece of content and we want to introduce some degree of personalization with a ML model. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This typically involves a UI change to reflect the new experience.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>However, it can be not so apparent to users such as demand forecasting  forecasting the traffic on a content and doing the due diligence in terms of hardware and networking to handle the traffic. The opposite, not being able to handle the traffic well, would be very noticeable to the users.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Dependent variable selection</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>After deciding on what new user experience we want to test, </block><block style="background-color: rgba(248, 231, 28, 0.3);">we also have to decide on what the dependent variables should be</block><block>. Some examples of dependent variables could be:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Incremental profit/revenue</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Number/rate/probability of ads clicked</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Listening/screen time</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Directionality of dependent variables</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We'd also want to talk about the directionality of these dependent variables.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We want to be very specific in which way these dependent variables will move.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We want to anticipate multiple changes as well  If we make an assumption revenue will go up, we need to make an assumption what will happen to profit.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Experiment participants</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We want to decide who will actually participate in the experiment.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>A </block><block style="background-color: rgba(248, 231, 28, 0.3);">template</block><block> of a hypothesis could look like this  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mtable columnwidth=&quot;100%&quot; width=&quot;100%&quot; columnalign=&quot;left&quot;><mtr><mtd><mrow><mi>&amp;quot;</mi><mi>I</mi><mi>f</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>w</mi><mi>e</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>r</mi><mi>e</mi><mi>p</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>e</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>X</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>w</mi><mi>i</mi><mi>t</mi><mi>h</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>Y</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>f</mi><mi>o</mi><mi>r</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>s</mi><mi>o</mi><mi>m</mi><mi>e</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>s</mi><mi>e</mi><mi>t</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>o</mi><mi>f</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>s</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>[</mo><mi>a</mi><mo separator=&quot;true&quot;>,</mo><mi>b</mi><mo separator=&quot;true&quot;>,</mo><mi>c</mi><mo separator=&quot;true&quot;>,</mo><mo separator=&quot;true&quot;>.</mo><mo separator=&quot;true&quot;>.</mo><mo separator=&quot;true&quot;>.</mo><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>]</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>w</mi><mi>i</mi><mi>l</mi><mi>l</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>g</mi><mi>o</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>[</mo><mi>u</mi><mi>p</mi><mo form=&quot;infix&quot;>/</mo><mi>d</mi><mi>o</mi><mi>w</mi><mi>n</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>]</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi><mi>n</mi><mi>d</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>[</mo><mi>i</mi><mi>n</mi><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>t</mi><mi>s</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>]</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>w</mi><mi>o</mi><mi>n</mi><mi>&amp;#x27;</mi><mi>t</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>c</mi><mi>h</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mo separator=&quot;true&quot;>.</mo><mi>&amp;quot;</mi></mrow></mtd></mtr></mtable></mstyle></math>"><editarea class="math-mode-font lazy lazyable" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><area-baseline aria-hidden="true">a</area-baseline><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">"If we replace X with Y for some set of users then </block><opensymbolblock class="normal" type="bracket" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>[</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">a</block><block class="Punctuation" style="color: rgb(74, 144, 226);">,</block><block class="Normal" style="color: rgb(74, 144, 226);">b</block><block class="Punctuation" style="color: rgb(74, 144, 226);">,</block><block class="Normal" style="color: rgb(74, 144, 226);">c</block><block class="Punctuation" style="color: rgb(74, 144, 226);">,...</block><closesymbolblock class="normal" type="bracket" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>]</bracket-span></closesymbolblock><block class="Normal" style="color: rgb(74, 144, 226);"> will go </block><opensymbolblock class="normal" type="bracket" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>[</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">up</block><block class="Binary" style="color: rgb(74, 144, 226);">/</block><block class="Normal" style="color: rgb(74, 144, 226);">down</block><closesymbolblock class="normal" type="bracket" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>]</bracket-span></closesymbolblock><block class="Normal" style="color: rgb(74, 144, 226);"> </block></line><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">and </block><opensymbolblock class="normal" type="bracket" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>[</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">invariants</block><closesymbolblock class="normal" type="bracket" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>]</bracket-span></closesymbolblock><block class="Normal" style="color: rgb(74, 144, 226);"> won't change</block><block class="Punctuation" style="color: rgb(74, 144, 226);">.</block><block class="Normal" style="color: rgb(74, 144, 226);">"</block></line></area-container></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mtable columnwidth="100%" width="100%" columnalign="left"><mtr><mtd><mrow><mi>"</mi><mi>I</mi><mi>f</mi><mspace is="true" width="0.22em"></mspace><mi>w</mi><mi>e</mi><mspace is="true" width="0.22em"></mspace><mi>r</mi><mi>e</mi><mi>p</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>e</mi><mspace is="true" width="0.22em"></mspace><mi>X</mi><mspace is="true" width="0.22em"></mspace><mi>w</mi><mi>i</mi><mi>t</mi><mi>h</mi><mspace is="true" width="0.22em"></mspace><mi>Y</mi><mspace is="true" width="0.22em"></mspace><mi>f</mi><mi>o</mi><mi>r</mi><mspace is="true" width="0.22em"></mspace><mi>s</mi><mi>o</mi><mi>m</mi><mi>e</mi><mspace is="true" width="0.22em"></mspace><mi>s</mi><mi>e</mi><mi>t</mi><mspace is="true" width="0.22em"></mspace><mi>o</mi><mi>f</mi><mspace is="true" width="0.22em"></mspace><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>s</mi><mspace is="true" width="0.22em"></mspace><mi>t</mi><mi>h</mi><mi>e</mi><mi>n</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mo separator="true">.</mo><mo separator="true">.</mo><mo separator="true">.</mo><mo fence="true" stretchy="false">]</mo><mspace is="true" width="0.22em"></mspace><mi>w</mi><mi>i</mi><mi>l</mi><mi>l</mi><mspace is="true" width="0.22em"></mspace><mi>g</mi><mi>o</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">[</mo><mi>u</mi><mi>p</mi><mo form="infix">/</mo><mi>d</mi><mi>o</mi><mi>w</mi><mi>n</mi><mo fence="true" stretchy="false">]</mo><mspace is="true" width="0.22em"></mspace></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi><mi>n</mi><mi>d</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">[</mo><mi>i</mi><mi>n</mi><mi>v</mi><mi>a</mi><mi>r</mi><mi>i</mi><mi>a</mi><mi>n</mi><mi>t</mi><mi>s</mi><mo fence="true" stretchy="false">]</mo><mspace is="true" width="0.22em"></mspace><mi>w</mi><mi>o</mi><mi>n</mi><mi>'</mi><mi>t</mi><mspace is="true" width="0.22em"></mspace><mi>c</mi><mi>h</mi><mi>a</mi><mi>n</mi><mi>g</mi><mi>e</mi><mo separator="true">.</mo><mi>"</mi></mrow></mtd></mtr></mtable></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8962539736369086" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8962539736369086" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">6.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>A/B Testing</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>A/B testing usually consists of some control group in which the experience is unchanged. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We compare the users' reactions in the control group to a treatment group which has received the new experience.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we see a significant (desired) change in the test group compared to the control group, then we determine if the treatment experience should replace the control experience.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.7458401579463891" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7458401579463891" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">6.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Frequentist approach to A/B testing</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Baseline</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For doing the frequentist approach, we need to have a baseline.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The baseline is what the current control experience offers in terms of some metric that we care about (e.g. click through rate).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Minimum detectable change</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's the smallest effect that can be measured  e.g. 1% in CTR</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We need to be able to beat the baseline by some amount (i.e. minimum detectable change) to cover the cost of our experiment  That's why it's also called </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">practical significance boundry</block><block style="font-weight: bold;"> </block><block>because if we get anything lower than that, then it's practically not worth it.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Power</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Power is the percent of the time that the minimum detectable change is found </block><block style="font-style: italic;">assuming that it exists</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Power is usually represented by </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><mi></mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal"></block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><mi></mi><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block>  it's often </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><mn>0.8</mn><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal">0.8</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><mn>0.8</mn><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Significance</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's the percent of the time that the minimum detectable change is found </block><block style="font-style: italic;">assuming that it doesn't exist</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is often represented as </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi></mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal"></block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi></mi></mstyle></math></span></compositeblock><block>  it's often </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mn>0.5</mn></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">0.5</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mn>0.5</mn></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Sample size</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The sample size will tell us how big each group (control and treatment) need to be in order to measure some significance or power.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here's the equation to get the sample size</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area display" style="font-size: 17px;" data-mathml="<math display=&quot;block&quot; xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>n</mi><mo form=&quot;infix&quot;>=</mo><mfrac><mrow><mo fence=&quot;true&quot;>(</mo><msub><mi>z</mi><mrow><mi></mi><mo form=&quot;infix&quot;></mo><mn>2</mn></mrow></msub><msqrt><mrow><mn>2</mn><msub><mi>p</mi><mn>1</mn></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><msub><mi>p</mi><mn>2</mn></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></msqrt><mo form=&quot;infix&quot;>+</mo><msub><mi>z</mi><mi></mi></msub><msqrt><mrow><msub><mi>p</mi><mn>1</mn></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><msub><mi>p</mi><mn>1</mn></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo form=&quot;infix&quot;>+</mo><msub><mi>p</mi><mn>2</mn></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><msub><mi>p</mi><mn>2</mn></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></msqrt><msup><mo fence=&quot;true&quot;>)</mo><mn>2</mn></msup></mrow><mrow><mo stretchy=&quot;false&quot;>|</mo><msub><mi>p</mi><mn>2</mn></msub><mo form=&quot;infix&quot;>-</mo><msub><mi>p</mi><mn>1</mn></msub><msup><mo stretchy=&quot;false&quot;>|</mo><mn>2</mn></msup></mrow></mfrac></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="taggable" style="line-height: 1.2;"><baselineblock></baselineblock><ref-tag data-tag-position="line" class="line-tag automatic" data-tag-id="tid0.6393398504533332" style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 17px;" id="tid0.6393398504533332"><label>(1)</label></ref-tag><block class="Normal" style="color: rgb(249, 52, 75);">n</block><block class="Relation" style="color: rgb(249, 52, 75);">=</block><compositeblock dir="ltr" class="fraction-symbol smaller" style="color: rgb(249, 52, 75); stroke: rgb(249, 52, 75); border-color: rgb(249, 52, 75); fill: rgb(249, 52, 75);"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><opensymbolblock class="" type="parenthesis" style="height: 1.76471em;"><hidden-span style="margin-top: 0.235294em; align-self: flex-start;">(</hidden-span><svg style="width: 0.5em;"><path d=" M 7.13 1.92 c 0.00 -0.13 -0.13 -0.22 -0.27 -0.22 c -0.06 0.00 -0.11 0.02 -0.15 0.04 c -3.42 2.13 -5.39 7.96 -5.39 13.15 v 0.11 h 1.45 v -0.11 c 0.00 -4.97 1.15 -10.76 4.40 -12.80 c 0.08 -0.03 0.11 -0.10 0.11 -0.17 z   M 1.28 15.00 v 0.00 h 1.45 v 0.00 z" stroke="none"></path><path d=" M 7.13 28.08 c 0.00 0.13 -0.13 0.22 -0.27 0.22 c -0.06 0.00 -0.11 -0.02 -0.15 -0.04 c -3.42 -2.13 -5.39 -7.96 -5.39 -13.15 v -0.11 h 1.45 v 0.11 c 0.00 4.97 1.15 10.76 4.40 12.80 c 0.08 0.03 0.11 0.10 0.11 0.17 z" stroke="none"></path></svg></opensymbolblock><block class="Normal">z</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><block>2</block></editarea-line></compositeblock><compositeblock dir="ltr" class="sqrt-symbol inline" style="padding-top: 0.235294em;"><sqrt-edit><editarea-line class=" edit-area" style="line-height: 1.2; margin-top: 0.117647em;"><baselineblock></baselineblock><block class="Normal">2p</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">1</editarea-block></compositeblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">2</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></editarea-line><sqrt-symbol-line><svg style="stroke: none;"><polygon points="0.35,12.26 4.79,9.89 9.58,20.06 16.36,0.00 99.32,0.00 99.32,1.05 17.10,1.05 9.18,24.56 3.10,11.82 0.64,12.75"></polygon></svg></sqrt-symbol-line></sqrt-edit></compositeblock><block class="Binary">+</block><block class="Normal">z</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><block></block></editarea-line></compositeblock><compositeblock dir="ltr" class="sqrt-symbol inline" style="padding-top: 0.235294em;"><sqrt-edit><editarea-line class=" edit-area" style="line-height: 1.2; margin-top: 0.117647em;"><baselineblock></baselineblock><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">1</editarea-block></compositeblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">1</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Binary">+</block><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">2</editarea-block></compositeblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">2</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></editarea-line><sqrt-symbol-line><svg style="stroke: none;"><polygon points="0.35,12.26 4.79,9.89 9.58,20.06 16.36,0.00 184.66,0.00 184.66,1.05 17.10,1.05 9.18,24.56 3.10,11.82 0.64,12.75"></polygon></svg></sqrt-symbol-line></sqrt-edit></compositeblock><closesymbolblock class="" type="parenthesis" style="height: 1.76471em;"><hidden-span style="margin-top: 0.235294em; align-self: flex-start;">)</hidden-span><svg style="width: 0.5em;"><path d=" M 1.32 1.92 c 0.00 -0.13 0.13 -0.22 0.27 -0.22 c 0.06 0.00 0.11 0.02 0.15 0.04 c 3.42 2.13 5.39 7.96 5.39 13.15 v 0.11 h -1.45 v -0.11 c 0.00 -4.97 -1.15 -10.76 -4.40 -12.80 c -0.08 -0.03 -0.11 -0.10 -0.11 -0.17 z  M 7.17 15.00 v 0.00 h -1.45 v 0.00 z" stroke="none"></path><path d=" M 1.32 28.08 c 0.00 0.13 0.13 0.22 0.27 0.22 c 0.06 0.00 0.11 -0.02 0.15 -0.04 c 3.42 -2.13 5.39 -7.96 5.39 -13.15 v -0.11 h -1.45 v 0.11 c 0.00 4.97 -1.15 10.76 -4.40 12.80 c -0.08 0.03 -0.11 0.10 -0.11 0.17 z" stroke="none"></path></svg></closesymbolblock><compositeblock dir="ltr" class="power-index-symbol-container has-power inline" style="margin-left: -0.1em;"><editarea-block class="power-value" style="line-height: 1.2; margin-bottom: -0.316807em;">2</editarea-block><middle-base><inline></inline></middle-base></compositeblock></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Closing">|</block><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">2</editarea-block></compositeblock><block class="Binary">-</block><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">1</editarea-block></compositeblock><block class="Closing">|</block><compositeblock dir="ltr" class="power-index-symbol-container has-power inline"><editarea-block class="power-value" style="line-height: 1.2; margin-bottom: -1.06571em;">2</editarea-block><middle-base><inline></inline></middle-base></compositeblock></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>n</mi><mo form="infix">=</mo><mfrac><mrow><mo fence="true">(</mo><msub><mi>z</mi><mrow><mi></mi><mo form="infix"></mo><mn>2</mn></mrow></msub><msqrt><mrow><mn>2</mn><msub><mi>p</mi><mn>1</mn></msub><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><msub><mi>p</mi><mn>2</mn></msub><mo fence="true" stretchy="false">)</mo></mrow></msqrt><mo form="infix">+</mo><msub><mi>z</mi><mi></mi></msub><msqrt><mrow><msub><mi>p</mi><mn>1</mn></msub><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><msub><mi>p</mi><mn>1</mn></msub><mo fence="true" stretchy="false">)</mo><mo form="infix">+</mo><msub><mi>p</mi><mn>2</mn></msub><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><msub><mi>p</mi><mn>2</mn></msub><mo fence="true" stretchy="false">)</mo></mrow></msqrt><msup><mo fence="true">)</mo><mn>2</mn></msup></mrow><mrow><mo stretchy="false">|</mo><msub><mi>p</mi><mn>2</mn></msub><mo form="infix">-</mo><msub><mi>p</mi><mn>1</mn></msub><msup><mo stretchy="false">|</mo><mn>2</mn></msup></mrow></mfrac></math></span></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><msub><mi>p</mi><mn>1</mn></msub></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">1</editarea-block></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><msub><mi>p</mi><mn>1</mn></msub></mstyle></math></span></compositeblock><block>  baseline </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><msub><mi>p</mi><mn>2</mn></msub></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">2</editarea-block></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><msub><mi>p</mi><mn>2</mn></msub></mstyle></math></span></compositeblock><block>  baseline + minimum detectable change</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> In our case, since we only want to measure a lift and not a total change, we only need a one-tailed z-score, hence </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><msub><mi>z</mi><mrow><mi></mi><mo form=&quot;infix&quot;></mo><mn>2</mn></mrow></msub></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">z</block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><block>2</block></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><msub><mi>z</mi><mrow><mi></mi><mo form="infix"></mo><mn>2</mn></mrow></msub></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.24884406231132727" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.24884406231132727" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.2.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Null Hypothesis</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is the case in which our hypothesis is incorrect such that there's no difference between control and treatment.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We either reject/fail to reject the null hypothesis with failing to reject the null hypothesis means we're accepting there's not a significant difference between control and treatment (i.e. accepting the null hypothesis).</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.6393716208975486" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6393716208975486" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.2.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>p-value</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">What does the significant difference between control and treatment group mean?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We're running the experiments on a sample of population  so, we have to treat every measurement with uncertainty.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>A better way to ask is  </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">How likely would certain percent of change have been given the null hypothesis is true?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In frequentist approach, we find answer to this question by finding the </block><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.3);">probability of seeing that percent change by random change if we were to run the experiment many times</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We use a </block><block style="font-weight: bold; color: rgb(208, 2, 27);">p-value</block><block> to answer that question for us.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; font-style: italic;">p-value</block><block> is the probability of seeing the result or a more extreme result by random chance if we were to run experiment many times.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Typically, we work with p-value of </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mn>0.05</mn></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">0.05</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mn>0.05</mn></mstyle></math></span></compositeblock><block>  i.e. if we run the experiment 100 times, only in 5 of the experiments we'll the result (or a more extreme result).</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.3972468248468637" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.3972468248468637" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.2.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>How to measure the p-value?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we have the following example:</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area display" style="font-size: 17px;" data-mathml="<math display=&quot;block&quot; xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtable rowlines=&quot;solid&quot; columnlines=&quot;none solid&quot; columnalign=&quot;center center center&quot;><mtr><mtd><mrow><mi></mi></mrow></mtd><mtd><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mtd><mtd><mrow><mi>n</mi><mi>o</mi><mo separator=&quot;true&quot;>.</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>o</mi><mi>f</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>s</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mtd></mtr><mtr><mtd><mrow><mi>C</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>l</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>c</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo form=&quot;infix&quot;>:</mo></mrow></mtd><mtd><mrow><mn>7</mn><mi>%</mi></mrow></mtd><mtd><mn>1062</mn></mtd></mtr><mtr><mtd><mrow><mi>T</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo form=&quot;infix&quot;>:</mo></mrow></mtd><mtd><mrow><mn>8</mn><mi>%</mi></mrow></mtd><mtd><mn>982</mn></mtd></mtr></mtable></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="taggable" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="matrix-symbol matrix-like matrix-math-mode role-tabular"><base-line-indicator>a</base-line-indicator><matrix class="array"><table><tbody><tr class=""><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">no</block><block class="Punctuation">.</block><block class="Normal"> of users </block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">N</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></area-container></editarea></td></tr><tr class=" hline"><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Control </block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">c</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Binary">:</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">7%</block></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">1062</block></line></area-container></editarea></td></tr><tr class=""><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Treatment </block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">t</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Binary">:</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">8%</block></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">982</block></line></area-container></editarea></td></tr></tbody></table></matrix></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mtable rowlines="solid" columnlines="none solid" columnalign="center center center"><mtr><mtd><mrow><mi></mi></mrow></mtd><mtd><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mtd><mtd><mrow><mi>n</mi><mi>o</mi><mo separator="true">.</mo><mspace is="true" width="0.22em"></mspace><mi>o</mi><mi>f</mi><mspace is="true" width="0.22em"></mspace><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>s</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">(</mo><mi>N</mi><mo fence="true" stretchy="false">)</mo></mrow></mtd></mtr><mtr><mtd><mrow><mi>C</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>l</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">(</mo><mi>c</mi><mo fence="true" stretchy="false">)</mo><mo form="infix">:</mo></mrow></mtd><mtd><mrow><mn>7</mn><mi>%</mi></mrow></mtd><mtd><mn>1062</mn></mtd></mtr><mtr><mtd><mrow><mi>T</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">(</mo><mi>t</mi><mo fence="true" stretchy="false">)</mo><mo form="infix">:</mo></mrow></mtd><mtd><mrow><mn>8</mn><mi>%</mi></mrow></mtd><mtd><mn>982</mn></mtd></mtr></mtable></math></span></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>First, we calculate the </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>r</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>r</mi></mstyle></math></span></compositeblock><block> value as follows,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area display" style="font-size: 17px;" data-mathml="<math display=&quot;block&quot; xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>r</mi><mo form=&quot;infix&quot;>=</mo><mfrac><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>c</mi></msub><msub><mi>N</mi><mi>c</mi></msub><mo form=&quot;infix&quot;>+</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>t</mi></msub><msub><mi>N</mi><mi>t</mi></msub></mrow><mrow><msub><mi>N</mi><mi>c</mi></msub><mo form=&quot;infix&quot;>+</mo><msub><mi>N</mi><mi>t</mi></msub></mrow></mfrac><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>=</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mn>7.48</mn><mi>%</mi></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="taggable" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(255, 56, 79);">r</block><block class="Relation" style="color: rgb(255, 56, 79);">=</block><compositeblock dir="ltr" class="fraction-symbol smaller" style="color: rgb(255, 56, 79); stroke: rgb(255, 56, 79); border-color: rgb(255, 56, 79); fill: rgb(255, 56, 79);"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><block class="Normal">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">c</editarea-block></compositeblock><block class="Normal">N</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">c</editarea-block></compositeblock><block class="Binary">+</block><block class="Normal">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">t</editarea-block></compositeblock><block class="Normal">N</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">t</editarea-block></compositeblock></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Normal">N</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">c</editarea-block></compositeblock><block class="Binary">+</block><block class="Normal">N</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">t</editarea-block></compositeblock></editarea-line></compositeblock><block class="Normal" style="color: rgb(255, 56, 79);"> </block><block class="Relation" style="color: rgb(255, 56, 79);">=</block><block class="Normal" style="color: rgb(255, 56, 79);"> 7.48%</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>r</mi><mo form="infix">=</mo><mfrac><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>c</mi></msub><msub><mi>N</mi><mi>c</mi></msub><mo form="infix">+</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>t</mi></msub><msub><mi>N</mi><mi>t</mi></msub></mrow><mrow><msub><mi>N</mi><mi>c</mi></msub><mo form="infix">+</mo><msub><mi>N</mi><mi>t</mi></msub></mrow></mfrac><mspace is="true" width="0.22em"></mspace><mo form="infix">=</mo><mspace is="true" width="0.22em"></mspace><mn>7.48</mn><mi>%</mi></math></span></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, we calculate the </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>z</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">z</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>z</mi></mstyle></math></span></compositeblock><block> value as follows,</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area display" style="font-size: 17px;" data-mathml="<math display=&quot;block&quot; xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>z</mi><mo form=&quot;infix&quot;>=</mo><mfrac><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>t</mi></msub><mo form=&quot;infix&quot;>-</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>c</mi></msub></mrow><msqrt><mrow><mi>r</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><mi>r</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo separator=&quot;true&quot;>.</mo><mo fence=&quot;true&quot;>(</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>c</mi></msub></mfrac><mo form=&quot;infix&quot;>+</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>t</mi></msub></mfrac><mo fence=&quot;true&quot;>)</mo></mrow></msqrt></mfrac><mo form=&quot;infix&quot;>=</mo><mn>0.858</mn></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="taggable" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(254, 49, 72);">z</block><block class="Relation" style="color: rgb(254, 49, 72);">=</block><compositeblock dir="ltr" class="fraction-symbol smaller" style="color: rgb(254, 49, 72); stroke: rgb(254, 49, 72); border-color: rgb(254, 49, 72); fill: rgb(254, 49, 72);"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><block class="Normal">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">t</editarea-block></compositeblock><block class="Binary">-</block><block class="Normal">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">c</editarea-block></compositeblock></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><compositeblock dir="ltr" class="sqrt-symbol inline" style="padding-top: 0.235294em;"><sqrt-edit><editarea-line class=" edit-area" style="margin-bottom: -0.176471em; line-height: 1.2; margin-top: 0.117647em;"><baselineblock></baselineblock><block class="Normal">r</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal">r</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Punctuation">.</block><opensymbolblock class="" type="parenthesis" style="height: 3.05882em;"><hidden-span style="margin-top: 0.764706em; align-self: flex-start;">(</hidden-span><svg style="width: 0.5em;"><path d=" M 7.13 1.94 c 0.00 -0.14 -0.13 -0.24 -0.27 -0.24 c -0.06 0.00 -0.11 0.02 -0.15 0.05 c -3.42 2.28 -5.39 8.51 -5.39 14.06 v 0.11 h 1.45 v -0.11 c 0.00 -5.32 1.15 -11.50 4.40 -13.69 c 0.08 -0.03 0.11 -0.10 0.11 -0.18 z   M 1.28 15.92 v 20.15 h 1.45 v -20.15 z" stroke="none"></path><path d=" M 7.13 50.06 c 0.00 0.14 -0.13 0.24 -0.27 0.24 c -0.06 0.00 -0.11 -0.02 -0.15 -0.05 c -3.42 -2.28 -5.39 -8.51 -5.39 -14.06 v -0.11 h 1.45 v 0.11 c 0.00 5.32 1.15 11.50 4.40 13.69 c 0.08 0.03 0.11 0.10 0.11 0.18 z" stroke="none"></path></svg></opensymbolblock><compositeblock dir="ltr" class="fraction-symbol smaller inline"><editarea-line class=" frac-edit-area enumerator" style="margin-bottom: -0.470588em; line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">1</block></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Normal">N</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">c</editarea-block></compositeblock></editarea-line></compositeblock><block class="Binary">+</block><compositeblock dir="ltr" class="fraction-symbol smaller inline"><editarea-line class=" frac-edit-area enumerator" style="margin-bottom: -0.470588em; line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">1</block></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Normal">N</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">t</editarea-block></compositeblock></editarea-line></compositeblock><closesymbolblock class="" type="parenthesis" style="height: 3.05882em;"><hidden-span style="margin-top: 0.764706em; align-self: flex-start;">)</hidden-span><svg style="width: 0.5em;"><path d=" M 1.32 1.94 c 0.00 -0.14 0.13 -0.24 0.27 -0.24 c 0.06 0.00 0.11 0.02 0.15 0.05 c 3.42 2.28 5.39 8.51 5.39 14.06 v 0.11 h -1.45 v -0.11 c 0.00 -5.32 -1.15 -11.50 -4.40 -13.69 c -0.08 -0.03 -0.11 -0.10 -0.11 -0.18 z  M 7.17 15.92 v 20.15 h -1.45 v -20.15 z" stroke="none"></path><path d=" M 1.32 50.06 c 0.00 0.14 0.13 0.24 0.27 0.24 c 0.06 0.00 0.11 -0.02 0.15 -0.05 c 3.42 -2.28 5.39 -8.51 5.39 -14.06 v -0.11 h -1.45 v 0.11 c 0.00 5.32 -1.15 11.50 -4.40 13.69 c -0.08 0.03 -0.11 0.10 -0.11 0.18 z" stroke="none"></path></svg></closesymbolblock></editarea-line><sqrt-symbol-line><svg style="stroke: none;"><polygon points="0.35,42.28 4.79,39.91 8.98,48.80 16.36,0.00 168.70,0.00 168.70,1.05 17.21,1.05 9.18,54.58 3.10,41.84 0.64,42.76"></polygon></svg></sqrt-symbol-line></sqrt-edit></compositeblock></editarea-line></compositeblock><block class="Relation" style="color: rgb(254, 49, 72);">=</block><block class="Normal" style="color: rgb(254, 49, 72);">0.858</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi><mo form="infix">=</mo><mfrac><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>t</mi></msub><mo form="infix">-</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>c</mi></msub></mrow><msqrt><mrow><mi>r</mi><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><mi>r</mi><mo fence="true" stretchy="false">)</mo><mo separator="true">.</mo><mo fence="true">(</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>c</mi></msub></mfrac><mo form="infix">+</mo><mfrac><mn>1</mn><msub><mi>N</mi><mi>t</mi></msub></mfrac><mo fence="true">)</mo></mrow></msqrt></mfrac><mo form="infix">=</mo><mn>0.858</mn></math></span></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we take the </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>z</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">z</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>z</mi></mstyle></math></span></compositeblock><block> value and look it up in the one-tailed z-score table, we'll see that we get a value of </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mn>0.1949</mn></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">0.1949</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mn>0.1949</mn></mstyle></math></span></compositeblock><block>  which is </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mo form=&quot;infix&quot;>&amp;gt;</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mn>0.05</mn></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Relation">&gt;</block><block class="Normal"> 0.05</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mo form="infix">&gt;</mo><mspace is="true" width="0.22em"></mspace><mn>0.05</mn></mrow></mstyle></math></span></compositeblock><block>  we fail to reject the null hypothesis.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we have </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mn>10</mn></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">10</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mn>10</mn></mstyle></math></span></compositeblock><block> times the number of users in each group, then we would've got a value of </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mn>0.004</mn></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">0.004</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mn>0.004</mn></mstyle></math></span></compositeblock><block> and would be able to reject the null hypothesis.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.33727176914912094" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.33727176914912094" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">6.2.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Confidence intervals</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>As well as p-values, we'd also want confidence intervals surrounding the </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block> probabilities in the above example.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The reason is that these probabilities came from a sample of population, we can't say with 100% confidence that these are the exact values.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>To calculate the confidence interval, we take our </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block> probabilities and calculate the CI as follows, </block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area display" style="font-size: 17px;" data-mathml="<math display=&quot;block&quot; xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>C</mi><mi>T</mi><mi>P</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>-</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><msub><mi>z</mi><mrow><mn>95</mn><mi>%</mi></mrow></msub><msqrt><mfrac><mrow><mi>C</mi><mi>T</mi><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><mi>C</mi><mi>T</mi><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow><mi>n</mi></mfrac></msqrt></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="taggable" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(247, 69, 90);">CTP </block><block class="Binary" style="color: rgb(247, 69, 90);">-</block><block class="Normal" style="color: rgb(247, 69, 90);"> z</block><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(247, 69, 90); stroke: rgb(247, 69, 90); border-color: rgb(247, 69, 90); fill: rgb(247, 69, 90);"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><block>95%</block></editarea-line></compositeblock><compositeblock dir="ltr" class="sqrt-symbol" style="color: rgb(247, 69, 90); stroke: rgb(247, 69, 90); border-color: rgb(247, 69, 90); fill: rgb(247, 69, 90); padding-top: 0.235294em;"><sqrt-edit><editarea-line class=" edit-area" style="line-height: 1.2; margin-top: 0.117647em;"><baselineblock></baselineblock><compositeblock dir="ltr" class="fraction-symbol smaller inline"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><block class="Normal">CTP</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal">CTP</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="margin-bottom: -0.176471em; line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Normal">n</block></editarea-line></compositeblock></editarea-line><sqrt-symbol-line><svg style="stroke: none;"><polygon points="0.35,33.08 4.79,30.71 9.10,39.87 16.36,0.00 138.55,0.00 138.55,1.05 17.18,1.05 9.18,45.38 3.10,32.65 0.64,33.57"></polygon></svg></sqrt-symbol-line></sqrt-edit></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi><mi>T</mi><mi>P</mi><mspace is="true" width="0.22em"></mspace><mo form="infix">-</mo><mspace is="true" width="0.22em"></mspace><msub><mi>z</mi><mrow><mn>95</mn><mi>%</mi></mrow></msub><msqrt><mfrac><mrow><mi>C</mi><mi>T</mi><mi>P</mi><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><mi>C</mi><mi>T</mi><mi>P</mi><mo fence="true" stretchy="false">)</mo></mrow><mi>n</mi></mfrac></msqrt></math></span></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Since we're only concerned with lifts in the </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block> and not necessarily just a change, we're only going to concern ourselves with the lower bound. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><msub><mi>z</mi><mrow><mn>95</mn><mi>%</mi></mrow></msub></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">z</block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><block>95%</block></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><msub><mi>z</mi><mrow><mn>95</mn><mi>%</mi></mrow></msub></mstyle></math></span></compositeblock><block> is the one-tailed z-score at </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mn>95</mn><mi>%</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">95%</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mn>95</mn><mi>%</mi></mrow></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here's the CI for the example above</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area display" style="font-size: 17px;" data-mathml="<math display=&quot;block&quot; xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtable rowlines=&quot;solid&quot; columnlines=&quot;none solid&quot; columnalign=&quot;center center center center center&quot;><mtr><mtd><mrow><mi></mi></mrow></mtd><mtd><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mtd><mtd><mrow><mi>n</mi><mi>o</mi><mo separator=&quot;true&quot;>.</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>o</mi><mi>f</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>s</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mtd><mtd><mrow><mi>C</mi><mi>I</mi></mrow></mtd><mtd><mrow><mi></mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>C</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>l</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>c</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo form=&quot;infix&quot;>:</mo></mrow></mtd><mtd><mrow><mn>7</mn><mi>%</mi></mrow></mtd><mtd><mn>1062</mn></mtd><mtd><mrow><mn>5.72</mn><mi>%</mi></mrow></mtd><mtd><mrow><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mo form=&quot;prefix&quot;>-</mo><mn>1.28</mn><mi>%</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mtd></mtr><mtr><mtd><mrow><mi>T</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>t</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo form=&quot;infix&quot;>:</mo></mrow></mtd><mtd><mrow><mn>8</mn><mi>%</mi></mrow></mtd><mtd><mn>982</mn></mtd><mtd><mrow><mn>6.58</mn><mi>%</mi></mrow></mtd><mtd><mrow><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mo form=&quot;prefix&quot;>-</mo><mn>1.42</mn><mi>%</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mtd></mtr></mtable></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="taggable" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="matrix-symbol matrix-like matrix-math-mode role-tabular"><base-line-indicator>a</base-line-indicator><matrix class="array"><table><tbody><tr class=""><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">no</block><block class="Punctuation">.</block><block class="Normal"> of users </block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">N</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CI</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr><tr class=" hline"><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Control </block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">c</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Binary">:</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">7%</block></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">1062</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">5.72%</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Unary">-</block><block class="Normal">1.28%</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></area-container></editarea></td></tr><tr class=""><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Treatment </block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">t</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Binary">:</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">8%</block></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">982</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">6.58%</block></line></area-container></editarea></td><td class=""><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Unary">-</block><block class="Normal">1.42%</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></area-container></editarea></td></tr></tbody></table></matrix></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mtable rowlines="solid" columnlines="none solid" columnalign="center center center center center"><mtr><mtd><mrow><mi></mi></mrow></mtd><mtd><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mtd><mtd><mrow><mi>n</mi><mi>o</mi><mo separator="true">.</mo><mspace is="true" width="0.22em"></mspace><mi>o</mi><mi>f</mi><mspace is="true" width="0.22em"></mspace><mi>u</mi><mi>s</mi><mi>e</mi><mi>r</mi><mi>s</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">(</mo><mi>N</mi><mo fence="true" stretchy="false">)</mo></mrow></mtd><mtd><mrow><mi>C</mi><mi>I</mi></mrow></mtd><mtd><mrow><mi></mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>C</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>o</mi><mi>l</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">(</mo><mi>c</mi><mo fence="true" stretchy="false">)</mo><mo form="infix">:</mo></mrow></mtd><mtd><mrow><mn>7</mn><mi>%</mi></mrow></mtd><mtd><mn>1062</mn></mtd><mtd><mrow><mn>5.72</mn><mi>%</mi></mrow></mtd><mtd><mrow><mo fence="true" stretchy="false">(</mo><mo form="prefix">-</mo><mn>1.28</mn><mi>%</mi><mo fence="true" stretchy="false">)</mo></mrow></mtd></mtr><mtr><mtd><mrow><mi>T</mi><mi>r</mi><mi>e</mi><mi>a</mi><mi>t</mi><mi>m</mi><mi>e</mi><mi>n</mi><mi>t</mi><mspace is="true" width="0.22em"></mspace><mo fence="true" stretchy="false">(</mo><mi>t</mi><mo fence="true" stretchy="false">)</mo><mo form="infix">:</mo></mrow></mtd><mtd><mrow><mn>8</mn><mi>%</mi></mrow></mtd><mtd><mn>982</mn></mtd><mtd><mrow><mn>6.58</mn><mi>%</mi></mrow></mtd><mtd><mrow><mo fence="true" stretchy="false">(</mo><mo form="prefix">-</mo><mn>1.42</mn><mi>%</mi><mo fence="true" stretchy="false">)</mo></mrow></mtd></mtr></mtable></math></span></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">The lower bound CI means is that if we were to run this same experiment 100 times, about 95 of those cases (95%) would result in the </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);"> of at least these values</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.06650342576084745" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.06650342576084745" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">6.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>A/A test</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is when you have a control and a treatment group but they both receive the same experience.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.4);">This is a great way to test your A/B testing framework</block><block>, because there shouldn't be statistically significant differences between the two groups.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This can verify our A/B testing tool by checking for:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Sample bias</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Incorrect analysis process (e.g. our random assignment function is not actually random)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>A/A testing is also helpful </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.4);">when we're working with overly sensitive metrics.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we have this metric that we want to optimize that has a very high variance.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can do a A/A testing on that metric and then measure the differences between both of those groups A and A.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Whatever that difference is, </block><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.3);">we can assign that to be at least our minimum detectable change</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.6192395412915515" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6192395412915515" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">6.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Tips about A/B testing</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Result extrapolation: through time</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>You generally want to make sure that the experiment runs for at least two weeks.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This will help us observe week to week variations if they're there.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.5);">Generally, you have to run the A/B test for as long as it takes to get your required sample size</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.4);">However, we should consider that things can vary from week to week</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Generally, A/B tests rely on the assumption that we can extrapolate the results.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>This means that if we run an experiment for two weeks and we decide to replace the current control with the new treatment (because there was a significant difference in the first two weeks), then we're assuming that the results that we saw during the two week period will remain for as long as that treatment is in service. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>This can be a dangerous assumption in terms of seasonality  e.g. running experiments around the holidays and expecting it to last after the holiday season is over.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Result extrapolation: through population</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Since we only ran the experiment for two weeks, we only got a sample of all of our users.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>So, we're assuming that the users that weren't sampled outside of the experiment will behave similarly to the users that were sampled.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Change effects: Novelty effects</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This happens when users use something just because it's new.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This effect could be transient.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Change effects: Change aversion</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is what happens when users don't interact with something just because it's new.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Usually, if we see this effect, we can run the experiment longer so that its effect mitigates.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Time-intensive feedback</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we worked for a university and they wanted us to develop a recommendation algorithm in order to recommend students particular courses.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we wanted to measure increased class attendance, that might be a good thing to measure in an A/B test.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>However, if we wanted to measure graduation rate, this would likely be a bad metric because at least for the incoming class four years would have to pass before we got any sort of feedback.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">Generally, feedback within a month is a good idea</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5916323519557658" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5916323519557658" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">6.5. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Infrastructure to run A/B tests</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Usually, we have these following components</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 277px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M116.04,37.4 C116.04,28.98 122.86,22.17 131.27,22.17 C139.68,22.17 146.5,28.98 146.5,37.4 C146.5,45.81 139.68,52.62 131.27,52.62 C122.86,52.62 116.04,45.81 116.04,37.4 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M124.57,32.22 C124.57,31.38 125.25,30.69 126.09,30.69 C126.93,30.69 127.62,31.38 127.62,32.22 C127.62,33.06 126.93,33.74 126.09,33.74 C125.25,33.74 124.57,33.06 124.57,32.22 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M134.93,32.22 C134.93,31.38 135.61,30.69 136.45,30.69 C137.29,30.69 137.97,31.38 137.97,32.22 C137.97,33.06 137.29,33.74 136.45,33.74 C135.61,33.74 134.93,33.06 134.93,32.22 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M123.66,43.49 C128.73,47.55 133.81,47.55 138.89,43.49" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M130.71,52.37 C139.01,52.37 145.75,64.16 145.75,78.69 C145.75,93.23 139.01,105.02 130.71,105.02 C122.4,105.02 115.67,93.23 115.67,78.69 C115.67,64.16 122.4,52.37 130.71,52.37 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="composite-shape"><path class="real" d=" M240.17,41.4 C240.17,34.18 246.02,28.33 253.23,28.33 L341.43,28.33 C348.65,28.33 354.5,34.18 354.5,41.4 L354.5,80.6 C354.5,87.82 348.65,93.67 341.43,93.67 L253.23,93.67 C246.02,93.67 240.17,87.82 240.17,80.6 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M427.5,41.4 C427.5,34.18 433.35,28.33 440.57,28.33 L528.77,28.33 C535.98,28.33 541.83,34.18 541.83,41.4 L541.83,80.6 C541.83,87.82 535.98,93.67 528.77,93.67 L440.57,93.67 C433.35,93.67 427.5,87.82 427.5,80.6 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M660,99 L660,151 C660,155.97 646.57,160 630,160 C613.43,160 600,155.97 600,151 L600,99 C600,94.03 613.43,90 630,90 C646.57,90 660,94.03 660,99 C660,103.97 646.57,108 630,108 C613.43,108 600,103.97 600,99" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M432.5,156 L547.5,156 L547.5,214 L432.5,214 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M264.5,156 L379.5,156 L379.5,214 L264.5,214 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M64,150 L224.5,150 L224.5,220 L64,220 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M84.06,150 L84.06,220" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path><path class="real" d=" M64,158.75 L224.5,158.75" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M159,47 L230.5,47" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,232.5,47)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M363,51 L418.5,51" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,420.5,50.99999999999999)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M367,70 L422.5,70" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(1,0,0,1,365,70)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M160,78 L231.5,78" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(1,0,0,1,158,78)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M541.5,58.5 C625.78,55.56 631.31,61.26 630.08,88.32" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(0.05251024917882812,-0.9986203851970865,0.9986203851970865,0.05251024917882812,630,90)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M630,160 C631.49,206.04 597.2,189.83 549.94,187.56" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(0.9991301235616503,0.041701273262111406,-0.041701273262111406,0.9991301235616503,548.5,187.5)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M432.5,186.5 L382.5,186.5" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(1,-2.4492935982947064e-16,2.4492935982947064e-16,1,380.5,186.5)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M264.5,185.5 L226.5,185.5" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(1,-2.4492935982947064e-16,2.4492935982947064e-16,1,224.5,185.5)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g></g></g><g></g><g></g><g></g></svg><diagram-editors><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 281.333px; top: 49px;"><dg-editor-container data-editor-id="de7015242280137222" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">App</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 431.333px; top: 49.6667px;"><dg-editor-container data-editor-id="de0015102571257521458" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.9em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">User Allocator</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 434.5px; top: 163px;"><dg-editor-container data-editor-id="de8778686911277247" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Get group counts</block></line><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Calculate metrics</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 264.5px; top: 171px;"><dg-editor-container data-editor-id="de32713516959057976" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Get p</block><block class="Binary">-</block><block class="Normal">value</block><block class="Punctuation">,</block><block class="Normal"> CI</block></line><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 94.5px; top: 166.5px;"><dg-editor-container data-editor-id="de5408491163806142" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.8em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">UI</block></line><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">monitor</block><block class="Binary">-</block><block class="Normal">history</block></line><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">We can represent a user using</block><block>:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Cookies</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>user ID</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Device ID</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>IP</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>etc.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> We want to pick something that has the least chance of changing during our A/B test.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> We want to make sure that the user allocation is accompanied with a </block><block style="font-weight: bold;">cookie</block><block> (indicating it's A/B group) that's stored in user's browser, so that every the user makes a request to our app, we show her the same experience  Failing to do so will cause in a faulty experiment.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We could also cache user allocations within our app as well.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-style: italic;">user allocator</block><block> usually manages several experiments, so in addition to the cookie, they also need an </block><block style="font-weight: bold;">experiment ID</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The user allocator will store the actions that users take as well as the user's group in a </block><block style="font-weight: bold; font-style: italic;">database</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>That database will have some ingestion process attached to it that could lead into an HDFS cluster.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One of the records in the HDFS cluster could look like this  </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(65, 117, 5); background-color: rgba(248, 231, 28, 0.2);">{EXP129_XGH412: {'allocation': 'A', 'action': 'purchase'}}</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Where the </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(65, 117, 5); background-color: rgba(248, 231, 28, 0.2);">EXP129_XGH412</block><block> indicate experiment and cookie IDs.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Next, we'd do some </block><block style="font-weight: bold; font-style: italic;">data processing</block><block> on these records, such that we'd be able to count all of the page views that all of group A and B had, as well as the number of purchases they did.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>After that, we can another data processing step in which we count the above counts and calculate the p-value, </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block>, and perhaps the CI.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This information could be propagated to some web interface such that people can go on and monitor, track and see the history of all of their experiments.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.7501614613795311" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7501614613795311" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">6.6. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Tools for A/B testing</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Optimizely</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Goolge Optimize</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Facebook PlanOut </block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.19421189815889894" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.19421189815889894" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">7. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Bayesian A/B Testing</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In the Bayesian approach to A/B testing, the setup is the same as the frequentist approach, </block><block style="background-color: rgba(248, 231, 28, 0.3);">except that the way that we're interpreting the results is going to be different</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Just as a reminder, the Bayes' rule is</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area display" style="font-size: 17px;" data-mathml="<math display=&quot;block&quot; xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>H</mi><mo stretchy=&quot;false&quot;>|</mo><mi>D</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo form=&quot;infix&quot;>=</mo><mfrac><mrow><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo stretchy=&quot;false&quot;>|</mo><mi>H</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo separator=&quot;true&quot;>.</mo><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>H</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow><mrow><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mfrac></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="taggable" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(252, 61, 85);">P</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(252, 61, 85); stroke: rgb(252, 61, 85); border-color: rgb(252, 61, 85); fill: rgb(252, 61, 85);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(252, 61, 85);">H</block><block class="Closing" style="color: rgb(252, 61, 85);">|</block><block class="Normal" style="color: rgb(252, 61, 85);">D</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(252, 61, 85); stroke: rgb(252, 61, 85); border-color: rgb(252, 61, 85); fill: rgb(252, 61, 85);"><bracket-span>)</bracket-span></closesymbolblock><block class="Relation" style="color: rgb(252, 61, 85);">=</block><compositeblock dir="ltr" class="fraction-symbol smaller" style="color: rgb(252, 61, 85); stroke: rgb(252, 61, 85); border-color: rgb(252, 61, 85); fill: rgb(252, 61, 85);"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">D</block><block class="Closing">|</block><block class="Normal">H</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Punctuation">.</block><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">H</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="margin-bottom: -0.176471em; line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">D</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>H</mi><mo stretchy="false">|</mo><mi>D</mi><mo fence="true" stretchy="false">)</mo><mo form="infix">=</mo><mfrac><mrow><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>D</mi><mo stretchy="false">|</mo><mi>H</mi><mo fence="true" stretchy="false">)</mo><mo separator="true">.</mo><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>H</mi><mo fence="true" stretchy="false">)</mo></mrow><mrow><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>D</mi><mo fence="true" stretchy="false">)</mo></mrow></mfrac></math></span></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The idea is that we want to know the probability of some hypothesis being true given some data.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>H</mi><mo stretchy=&quot;false&quot;>|</mo><mi>D</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">H</block><block class="Closing">|</block><block class="Normal">D</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>H</mi><mo stretchy="false">|</mo><mi>D</mi><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block>  </block><block style="font-weight: bold;">posterior</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo stretchy=&quot;false&quot;>|</mo><mi>H</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">D</block><block class="Closing">|</block><block class="Normal">H</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>D</mi><mo stretchy="false">|</mo><mi>H</mi><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block>  </block><block style="font-weight: bold;">likelihood</block><block>  probability of some data given the hypothesis</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>H</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">H</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>H</mi><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block>  </block><block style="font-weight: bold;">prior</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>=</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><munderover><mo largeop=&quot;true&quot; movablelimit=&quot;true&quot;></mo><mi>h</mi><mrow><mi></mi></mrow></munderover><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo stretchy=&quot;false&quot;>|</mo><msub><mi>H</mi><mi>h</mi></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><msub><mi>H</mi><mi>h</mi></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">D</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Normal"> </block><block class="Relation">=</block><block class="Normal"> </block><compositeblock dir="ltr" class="summation-like-symbol limit-type limit-kind"><empty class="from"><editarea class="from no-area-container" style="margin-bottom: -0.411765em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></editarea></empty><symbol class="" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><span></span></symbol><editarea class="to to-summation no-area-container" style="margin-top: 0.176471em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block>h</block></line></editarea></compositeblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">D</block><block class="Closing">|</block><block class="Normal">H</block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">h</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">H</block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">h</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>D</mi><mo fence="true" stretchy="false">)</mo><mspace is="true" width="0.22em"></mspace><mo form="infix">=</mo><mspace is="true" width="0.22em"></mspace><munderover><mo largeop="true" movablelimit="true"></mo><mi>h</mi><mrow><mi></mi></mrow></munderover><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>D</mi><mo stretchy="false">|</mo><msub><mi>H</mi><mi>h</mi></msub><mo fence="true" stretchy="false">)</mo><mi>P</mi><mo fence="true" stretchy="false">(</mo><msub><mi>H</mi><mi>h</mi></msub><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block>  probability of data given all the hypotheses (in our case, they are null and alternative hypotheses).</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-style: italic;">likelihood</block><block> term </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo stretchy=&quot;false&quot;>|</mo><mi>H</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo form=&quot;infix&quot;>=</mo><munderover><mo largeop=&quot;true&quot; movablelimit=&quot;true&quot;></mo><mi>i</mi><mrow><mi></mi></mrow></munderover><msup><mi>P</mi><msub><mi>x</mi><mi>i</mi></msub></msup><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><mi>P</mi><msup><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mrow><mn>1</mn><mo form=&quot;infix&quot;>-</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></msup></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">P</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">D</block><block class="Closing">|</block><block class="Normal">H</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><block class="Relation">=</block><compositeblock dir="ltr" class="summation-like-symbol limit-type limit-kind"><empty class="from"><editarea class="from from-prod no-area-container" style="margin-bottom: -0.411765em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></editarea></empty><symbol class="" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><span></span></symbol><editarea class="to to-prod no-area-container" style="margin-top: 0.176471em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block>i</block></line></editarea></compositeblock><block class="Normal">P</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-line class=" power-value" style="line-height: 1.2; margin-bottom: -1.06571em;"><baselineblock></baselineblock><block>x</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">i</editarea-block></compositeblock></editarea-line><middle-base><inline></inline></middle-base></compositeblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal">P</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-line class=" power-value" style="line-height: 1.2; margin-bottom: -1.06571em;"><baselineblock></baselineblock><block>1-x</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">i</editarea-block></compositeblock></editarea-line><middle-base><inline></inline></middle-base></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>D</mi><mo stretchy="false">|</mo><mi>H</mi><mo fence="true" stretchy="false">)</mo><mo form="infix">=</mo><munderover><mo largeop="true" movablelimit="true"></mo><mi>i</mi><mrow><mi></mi></mrow></munderover><msup><mi>P</mi><msub><mi>x</mi><mi>i</mi></msub></msup><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><mi>P</mi><msup><mo fence="true" stretchy="false">)</mo><mrow><mn>1</mn><mo form="infix">-</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></msup></mrow></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-style: italic;">prior</block><block> term </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>H</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo form=&quot;infix&quot;>=</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mfrac><mrow><msup><mi>P</mi><mrow><mi></mi><mo form=&quot;infix&quot;>-</mo><mn>1</mn></mrow></msup><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo form=&quot;infix&quot;>-</mo><mi>P</mi><msup><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mrow><mi></mi><mo form=&quot;infix&quot;>-</mo><mn>1</mn></mrow></msup></mrow><mrow><mi>B</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi></mi><mo separator=&quot;true&quot;>,</mo><mi></mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mfrac></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">P</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">H</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock><block class="Relation" style="color: rgb(74, 144, 226);">=</block><block class="Normal" style="color: rgb(74, 144, 226);"> </block><compositeblock dir="ltr" class="fraction-symbol smaller" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><block class="Normal">P</block><compositeblock dir="ltr" class="power-index-symbol-container has-power inline"><editarea-line class=" power-value" style="line-height: 1.2; margin-bottom: -1.06571em;"><baselineblock></baselineblock><block>-1</block></editarea-line><middle-base><inline></inline></middle-base></compositeblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal">P</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock><compositeblock dir="ltr" class="power-index-symbol-container has-power inline"><editarea-line class=" power-value" style="line-height: 1.2; margin-bottom: -1.06571em;"><baselineblock></baselineblock><block>-1</block></editarea-line><middle-base><inline></inline></middle-base></compositeblock></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Normal">B</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal"></block><block class="Punctuation">,</block><block class="Normal"></block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>H</mi><mo fence="true" stretchy="false">)</mo><mo form="infix">=</mo><mspace is="true" width="0.22em"></mspace><mfrac><mrow><msup><mi>P</mi><mrow><mi></mi><mo form="infix">-</mo><mn>1</mn></mrow></msup><mo fence="true" stretchy="false">(</mo><mn>1</mn><mo form="infix">-</mo><mi>P</mi><msup><mo fence="true" stretchy="false">)</mo><mrow><mi></mi><mo form="infix">-</mo><mn>1</mn></mrow></msup></mrow><mrow><mi>B</mi><mo fence="true" stretchy="false">(</mo><mi></mi><mo separator="true">,</mo><mi></mi><mo fence="true" stretchy="false">)</mo></mrow></mfrac></mrow></mstyle></math></span></compositeblock><block>  Beta distribution (e.g. distribution over </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block> probabilities)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> When </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi></mi><mo form=&quot;infix&quot;>=</mo><mi></mi><mo form=&quot;infix&quot;>=</mo><mn>1</mn></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal"></block><block class="Relation">=</block><block class="Normal"></block><block class="Relation">=</block><block class="Normal">1</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi></mi><mo form="infix">=</mo><mi></mi><mo form="infix">=</mo><mn>1</mn></mrow></mstyle></math></span></compositeblock><block>, it means we have </block><block style="font-weight: bold; font-style: italic;">uninformed prior.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Posterior and prior are going to be the same type of distribution.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> We interpret the posterior parameters as distribution.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.3);">In the Bayesian approach we compare the two posterior distributions of treatment and control groups (and not just two numbers as in frequentist approach)</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Here, we want to know the probability of group </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block> being greater than group </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We examine the Beta distributions produced by group </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block> and group </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">We sample from </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);"> and </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);">'s posterior and we get the percent of times that </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>B</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>&amp;gt;</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>A</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B </block><block class="Relation">&gt;</block><block class="Normal"> A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>B</mi><mspace is="true" width="0.22em"></mspace><mo form="infix">&gt;</mo><mspace is="true" width="0.22em"></mspace><mi>A</mi></mrow></mstyle></math></span></compositeblock><block>. </block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.7484851685068048" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7484851685068048" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">7.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Loss between A &amp; B</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we ended up choosing </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block> over </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block>, even though </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block> was actually worse than </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block>. </block><block style="font-weight: bold;">How would this be possible?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The posterior distributions of </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block> and </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block> can have a small overlaps. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The small overlap means that there's a chance that we could actually pick </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block> and get </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block>'s result.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">So what we really want is to sample the differences between </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);"> and </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);"> and that will give us the loss from choosing </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);"> over </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);"> in the case that </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);"> is actually worse</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>With the loss, we can multiply that by the probability that </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>A</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>&amp;gt;</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>B</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A </block><block class="Relation">&gt;</block><block class="Normal"> B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>A</mi><mspace is="true" width="0.22em"></mspace><mo form="infix">&gt;</mo><mspace is="true" width="0.22em"></mspace><mi>B</mi></mrow></mstyle></math></span></compositeblock><block>  This would give us the </block><block style="font-weight: bold; color: rgb(208, 2, 27);">expected loss (EL)</block><block>.  </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Assuming </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>B</mi><mo form=&quot;infix&quot;>&amp;gt;</mo><mi>A</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block><block class="Relation">&gt;</block><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>B</mi><mo form="infix">&gt;</mo><mi>A</mi></mrow></mstyle></math></span></compositeblock><block> when it's not  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>E</mi><mi>L</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>=</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>A</mi><mo form=&quot;infix&quot;>&amp;gt;</mo><mi>B</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo separator=&quot;true&quot;>.</mo><mi>max</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>A</mi></msub><mo form=&quot;infix&quot;>-</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>B</mi></msub><mo separator=&quot;true&quot;>,</mo><mn>0</mn><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">EL </block><block class="Relation" style="color: rgb(74, 144, 226);">=</block><block class="Normal" style="color: rgb(74, 144, 226);"> P</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">A</block><block class="Relation" style="color: rgb(74, 144, 226);">&gt;</block><block class="Normal" style="color: rgb(74, 144, 226);">B</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock><block class="Punctuation" style="color: rgb(74, 144, 226);">.</block><compositeblock dir="ltr" class="constant-text" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><constant-text class="close-right" style="font-family: LatinModern, Asana; font-style: normal;">max</constant-text></compositeblock><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">A</editarea-block></compositeblock><block class="Binary" style="color: rgb(74, 144, 226);">-</block><block class="Normal" style="color: rgb(74, 144, 226);">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">B</editarea-block></compositeblock><block class="Punctuation" style="color: rgb(74, 144, 226);">,</block><block class="Normal" style="color: rgb(74, 144, 226);">0</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>E</mi><mi>L</mi><mspace is="true" width="0.22em"></mspace><mo form="infix">=</mo><mspace is="true" width="0.22em"></mspace><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>A</mi><mo form="infix">&gt;</mo><mi>B</mi><mo fence="true" stretchy="false">)</mo><mo separator="true">.</mo><mi>max</mi><mo fence="true" stretchy="false">(</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>A</mi></msub><mo form="infix">-</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>B</mi></msub><mo separator="true">,</mo><mn>0</mn><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Expected loss is in the same unit as our metric.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Another way to look at it is to look at the </block><block style="font-weight: bold; color: rgb(208, 2, 27);">expected gain</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Assuming </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>B</mi><mo form=&quot;infix&quot;>&amp;gt;</mo><mi>A</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block><block class="Relation">&gt;</block><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>B</mi><mo form="infix">&gt;</mo><mi>A</mi></mrow></mstyle></math></span></compositeblock><block> when it is  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>E</mi><mi>L</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>=</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mi>P</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>B</mi><mo form=&quot;infix&quot;>&amp;gt;</mo><mi>A</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mo separator=&quot;true&quot;>.</mo><mi>max</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>B</mi></msub><mo form=&quot;infix&quot;>-</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>A</mi></msub><mo separator=&quot;true&quot;>,</mo><mn>0</mn><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">EL </block><block class="Relation" style="color: rgb(74, 144, 226);">=</block><block class="Normal" style="color: rgb(74, 144, 226);"> P</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">B</block><block class="Relation" style="color: rgb(74, 144, 226);">&gt;</block><block class="Normal" style="color: rgb(74, 144, 226);">A</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock><block class="Punctuation" style="color: rgb(74, 144, 226);">.</block><compositeblock dir="ltr" class="constant-text" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><constant-text class="close-right" style="font-family: LatinModern, Asana; font-style: normal;">max</constant-text></compositeblock><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">B</editarea-block></compositeblock><block class="Binary" style="color: rgb(74, 144, 226);">-</block><block class="Normal" style="color: rgb(74, 144, 226);">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">A</editarea-block></compositeblock><block class="Punctuation" style="color: rgb(74, 144, 226);">,</block><block class="Normal" style="color: rgb(74, 144, 226);">0</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>E</mi><mi>L</mi><mspace is="true" width="0.22em"></mspace><mo form="infix">=</mo><mspace is="true" width="0.22em"></mspace><mi>P</mi><mo fence="true" stretchy="false">(</mo><mi>B</mi><mo form="infix">&gt;</mo><mi>A</mi><mo fence="true" stretchy="false">)</mo><mo separator="true">.</mo><mi>max</mi><mo fence="true" stretchy="false">(</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>B</mi></msub><mo form="infix">-</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>A</mi></msub><mo separator="true">,</mo><mn>0</mn><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5688875292723508" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5688875292723508" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">7.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Stopping Criterion</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.4);">If the expected loss is less than some threshold that we don't care about</block><block>, then we stop.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>That means that as the experiment goes on, if the two groups are actually different, then the expected loss will actually shrink.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">This is because the two distributions are getting further and further apart, and the variance surrounding these distributions is growing thinner and thinner</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>So, even if we make a mistake and launch the wrong one, the probability of that happening grows smaller and smaller.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">The threshold should be something that we're comfortable with losing</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.19201435412388657" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.19201435412388657" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">7.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Why Bayesian A/B testing?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Generally, it's easier to interpret the results.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If I tell you p-value is </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mn>0.05</mn></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">0.05</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mn>0.05</mn></mstyle></math></span></compositeblock><block> and the CI is some amount, although informational, but more often </block><block style="background-color: rgba(248, 231, 28, 0.3);">we want to know what's the probability that the experience </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>B</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>B</mi></mstyle></math></span></compositeblock><block style="background-color: rgba(248, 231, 28, 0.3);"> is better than the experience </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="background-color: rgba(248, 231, 28, 0.3); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>A</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>A</mi></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>With the Bayesian approach we can answer this question directly.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Also, there's often fewer samples that we have to collect to reach a launch decision.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This means faster experiments and faster improvements.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One of the tools, in addition to frequentist tools, is </block><block style="font-weight: bold; font-style: italic;">Visual Web Optimizer</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.3671084590758753" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.3671084590758753" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">8. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Multi-Armed Bandit (MAB)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In A/B testing we're usually doing a 50/50 split between the treatment and control groups.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>What if the treatment that we're experimenting with is absolutely horrible  now, we're stuck with 50% of our users potentially getting a horrible experience for, say, two weeks.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One way to try to mitigate this would be assigning 99% of our customers to the control group and only assigning 1% to the treatment group to offset the impact if the treatment happens to really bad.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This probably wouldn't work though since eventually we need some certain sample size from both groups in order for the experiment to be measured correctly.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">The goal here is to </block><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.3);">minimize the negative business impacts</block><block style="background-color: rgba(248, 231, 28, 0.3);"> while still experimenting at a reasonable pace</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">How should we tradeoff exploration vs. exploitation?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We could explore the less promising treatment but miss a potential better control OR we could exploit the potentially better control but miss an eventually better treatment.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>A very simple way to handle this would be using an </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Epsilon-greedy strategy</block><block>.</block></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5555314738900667" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5555314738900667" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">8.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Epsilon-greedy algorithm</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we measure an experiment, say, two day in, we'll simply route each customer to the better performing experience with the probability of </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mn>1</mn><mo form=&quot;infix&quot;>-</mo><mi></mi></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">1</block><block class="Binary">-</block><block class="Normal"></block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mn>1</mn><mo form="infix">-</mo><mi></mi></mrow></mstyle></math></span></compositeblock><block>, and route people to the less performing experience with the probability </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi></mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);"></block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi></mi></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.12736215303722842" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.12736215303722842" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">8.1.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>How much better is epsilon-greedy over random allocation (A/B testing)?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Reward</block><block> is the outcome of allocating a user to a particular experience (A or B or ...).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">Total reward</block><block> obtained by a MAB is the sum of the rewards obtained by allocating a user </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>u</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>u</mi></mstyle></math></span></compositeblock><block> to an arm/experience </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>a</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">a</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>a</mi></mstyle></math></span></compositeblock><block>  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><munderover><mo largeop=&quot;true&quot; movablelimit=&quot;true&quot;></mo><mi>u</mi><mrow><mi></mi></mrow></munderover><msub><mi>r</mi><mrow><mi>a</mi><mo separator=&quot;true&quot;>,</mo><mi>u</mi></mrow></msub></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="summation-like-symbol limit-type limit-kind" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><empty class="from"><editarea class="from no-area-container" style="margin-bottom: -0.411765em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></editarea></empty><symbol class="" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><span></span></symbol><editarea class="to to-summation no-area-container" style="margin-top: 0.176471em;"><line class="" style="margin-top: -0.252101em; line-height: 1.2;"><baselineblock></baselineblock><block>u</block></line></editarea></compositeblock><block class="Normal" style="color: rgb(74, 144, 226);">r</block><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><block>a,u</block></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><munderover><mo largeop="true" movablelimit="true"></mo><mi>u</mi><mrow><mi></mi></mrow></munderover><msub><mi>r</mi><mrow><mi>a</mi><mo separator="true">,</mo><mi>u</mi></mrow></msub></mrow></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">expected reward</block><block> is just the average reward given by some arm to some user  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><munderover><mo largeop=&quot;true&quot; movablelimit=&quot;true&quot;></mo><mi>u</mi><mrow><mi></mi></mrow></munderover><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><mrow><mi>a</mi><mo separator=&quot;true&quot;>,</mo><mi>u</mi></mrow></msub></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="summation-like-symbol limit-type limit-kind" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><empty class="from"><editarea class="from no-area-container" style="margin-bottom: -0.411765em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></editarea></empty><symbol class="" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><span></span></symbol><editarea class="to to-summation no-area-container" style="margin-top: 0.176471em;"><line class="" style="margin-top: -0.252101em; line-height: 1.2;"><baselineblock></baselineblock><block>u</block></line></editarea></compositeblock><compositeblock dir="ltr" class="over-line-symbol ig-ex-br" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.5724em;"><baselineblock></baselineblock><block>a,u</block></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><munderover><mo largeop="true" movablelimit="true"></mo><mi>u</mi><mrow><mi></mi></mrow></munderover><msub><mover accent="true"><mi>r</mi><mo></mo></mover><mrow><mi>a</mi><mo separator="true">,</mo><mi>u</mi></mrow></msub></mrow></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Regret</block><block> is the reward obtained from the optimal arm minus the reward obtained from the arm chosen.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In general, we want to minimize the regret.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.3);">Expected regret</block><block>  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi mathvariant=&quot;bold&quot;>E</mi><mi mathvariant=&quot;bold&quot;>x</mi><mi mathvariant=&quot;bold&quot;>p</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>e</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>t</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>=</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><munderover><mo largeop=&quot;true&quot; movablelimit=&quot;true&quot;></mo><mi>u</mi><mrow><mi></mi></mrow></munderover><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><mrow><msup><mi>a</mi><mi>*</mi></msup><mo separator=&quot;true&quot;>,</mo><mi>u</mi></mrow></msub><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>-</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><munderover><mo largeop=&quot;true&quot; movablelimit=&quot;true&quot;></mo><mi>u</mi><mrow><mi></mi></mrow></munderover><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><mrow><mi>a</mi><mo separator=&quot;true&quot;>,</mo><mi>u</mi></mrow></msub></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="font-family: LatinModern-Mathrm, LatinModern-Math, LatinModern, Asana; font-weight: bold; color: rgb(74, 144, 226);">Exp</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">regret</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock><block class="Normal" style="color: rgb(74, 144, 226);"> </block><block class="Relation" style="color: rgb(74, 144, 226);">=</block><block class="Normal" style="color: rgb(74, 144, 226);"> </block><compositeblock dir="ltr" class="summation-like-symbol limit-type limit-kind" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><empty class="from"><editarea class="from no-area-container" style="margin-bottom: -0.411765em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></editarea></empty><symbol class="" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><span></span></symbol><editarea class="to to-summation no-area-container" style="margin-top: 0.176471em;"><line class="" style="margin-top: -0.252101em; line-height: 1.2;"><baselineblock></baselineblock><block>u</block></line></editarea></compositeblock><compositeblock dir="ltr" class="over-line-symbol ig-ex-br" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.5724em;"><baselineblock></baselineblock><block>a</block><compositeblock dir="ltr" class="power-index-symbol-container has-power inline"><editarea-block class="power-value" style="line-height: 1.2; margin-bottom: -1.06571em;">*</editarea-block><middle-base><inline></inline></middle-base></compositeblock><block>,u</block></editarea-line></compositeblock><block class="Normal" style="color: rgb(74, 144, 226);"> </block><block class="Binary" style="color: rgb(74, 144, 226);">-</block><block class="Normal" style="color: rgb(74, 144, 226);"> </block><compositeblock dir="ltr" class="summation-like-symbol limit-type limit-kind" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><empty class="from"><editarea class="from no-area-container" style="margin-bottom: -0.411765em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></editarea></empty><symbol class="" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><span></span></symbol><editarea class="to to-summation no-area-container" style="margin-top: 0.176471em;"><line class="" style="margin-top: -0.252101em; line-height: 1.2;"><baselineblock></baselineblock><block>u</block></line></editarea></compositeblock><compositeblock dir="ltr" class="over-line-symbol ig-ex-br" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.5724em;"><baselineblock></baselineblock><block>a,u</block></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi mathvariant="bold">E</mi><mi mathvariant="bold">x</mi><mi mathvariant="bold">p</mi><mo fence="true" stretchy="false">(</mo><mi>r</mi><mi>e</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>t</mi><mo fence="true" stretchy="false">)</mo><mspace is="true" width="0.22em"></mspace><mo form="infix">=</mo><mspace is="true" width="0.22em"></mspace><munderover><mo largeop="true" movablelimit="true"></mo><mi>u</mi><mrow><mi></mi></mrow></munderover><msub><mover accent="true"><mi>r</mi><mo></mo></mover><mrow><msup><mi>a</mi><mi>*</mi></msup><mo separator="true">,</mo><mi>u</mi></mrow></msub><mspace is="true" width="0.22em"></mspace><mo form="infix">-</mo><mspace is="true" width="0.22em"></mspace><munderover><mo largeop="true" movablelimit="true"></mo><mi>u</mi><mrow><mi></mi></mrow></munderover><msub><mover accent="true"><mi>r</mi><mo></mo></mover><mrow><mi>a</mi><mo separator="true">,</mo><mi>u</mi></mrow></msub></mrow></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi mathvariant=&quot;bold&quot;>E</mi><mi mathvariant=&quot;bold&quot;>x</mi><mi mathvariant=&quot;bold&quot;>p</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>e</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>t</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="font-family: LatinModern-Mathrm, LatinModern-Math, LatinModern, Asana; font-weight: bold; color: rgb(74, 144, 226);">Exp</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">regret</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi mathvariant="bold">E</mi><mi mathvariant="bold">x</mi><mi mathvariant="bold">p</mi><mo fence="true" stretchy="false">(</mo><mi>r</mi><mi>e</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>t</mi><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block> of A/B testing  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>u</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><msup><mi>a</mi><mi>*</mi></msup></msub><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>-</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><mi>a</mi></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">u</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><compositeblock dir="ltr" class="over-line-symbol ig-ex-br" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.5724em;"><baselineblock></baselineblock><block>a</block><compositeblock dir="ltr" class="power-index-symbol-container has-power inline"><editarea-block class="power-value" style="line-height: 1.2; margin-bottom: -1.06571em;">*</editarea-block><middle-base><inline></inline></middle-base></compositeblock></editarea-line></compositeblock><block class="Normal" style="color: rgb(74, 144, 226);"> </block><block class="Binary" style="color: rgb(74, 144, 226);">-</block><block class="Normal" style="color: rgb(74, 144, 226);"> </block><compositeblock dir="ltr" class="over-line-symbol ig-ex-br" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.5724em;">a</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>u</mi><mo fence="true" stretchy="false">(</mo><msub><mover accent="true"><mi>r</mi><mo></mo></mover><msup><mi>a</mi><mi>*</mi></msup></msub><mspace is="true" width="0.22em"></mspace><mo form="infix">-</mo><mspace is="true" width="0.22em"></mspace><msub><mover accent="true"><mi>r</mi><mo></mo></mover><mi>a</mi></msub><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block> where </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>u</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">u</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>u</mi></mstyle></math></span></compositeblock><block> is the number of users.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi mathvariant=&quot;bold&quot;>E</mi><mi mathvariant=&quot;bold&quot;>x</mi><mi mathvariant=&quot;bold&quot;>p</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>e</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>t</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="font-family: LatinModern-Mathrm, LatinModern-Math, LatinModern, Asana; font-weight: bold; color: rgb(74, 144, 226);">Exp</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal" style="color: rgb(74, 144, 226);">regret</block><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi mathvariant="bold">E</mi><mi mathvariant="bold">x</mi><mi mathvariant="bold">p</mi><mo fence="true" stretchy="false">(</mo><mi>r</mi><mi>e</mi><mi>g</mi><mi>r</mi><mi>e</mi><mi>t</mi><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block> of epsilon-greedy  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>u</mi><mi></mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><msup><mi>a</mi><mi>*</mi></msup></msub><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>-</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><mi>a</mi></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">u</block><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><compositeblock dir="ltr" class="over-line-symbol ig-ex-br" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.5724em;"><baselineblock></baselineblock><block>a</block><compositeblock dir="ltr" class="power-index-symbol-container has-power inline"><editarea-block class="power-value" style="line-height: 1.2; margin-bottom: -1.06571em;">*</editarea-block><middle-base><inline></inline></middle-base></compositeblock></editarea-line></compositeblock><block class="Normal" style="color: rgb(74, 144, 226);"> </block><block class="Binary" style="color: rgb(74, 144, 226);">-</block><block class="Normal" style="color: rgb(74, 144, 226);"> </block><compositeblock dir="ltr" class="over-line-symbol ig-ex-br" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.5724em;">a</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>u</mi><mi></mi><mo fence="true" stretchy="false">(</mo><msub><mover accent="true"><mi>r</mi><mo></mo></mover><msup><mi>a</mi><mi>*</mi></msup></msub><mspace is="true" width="0.22em"></mspace><mo form="infix">-</mo><mspace is="true" width="0.22em"></mspace><msub><mover accent="true"><mi>r</mi><mo></mo></mover><mi>a</mi></msub><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block> </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">The problem with both of these equations is that they're both linear in regret</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>So, the expected regret increases linearly with the number of users that we introduce to the experiment.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.14947628923495193" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.14947628923495193" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">8.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Thompson sampling</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Thompson sampling</block><block> is a technique we can use to get a logarithmic regret as the number of users grow  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mfrac><mrow><mi>log</mi><mi>u</mi></mrow><mrow><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><msup><mi>a</mi><mi>*</mi></msup></msub><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>-</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><msub><mover accent=&quot;true&quot;><mi>r</mi><mo></mo></mover><mi>a</mi></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mfrac></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="fraction-symbol smaller"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><compositeblock dir="ltr" class="constant-text inline"><constant-text class="close-left" style="font-family: LatinModern, Asana; font-style: normal;">log</constant-text></compositeblock><block class="Normal">u</block></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="margin-bottom: -0.176471em; line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><opensymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>(</bracket-span></opensymbolblock><compositeblock dir="ltr" class="over-line-symbol ig-ex-br inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="margin-bottom: -0.176471em; line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.5724em;"><baselineblock></baselineblock><block>a</block><compositeblock dir="ltr" class="power-index-symbol-container has-power inline"><editarea-block class="power-value" style="line-height: 1.2; margin-bottom: -1.06571em;">*</editarea-block><middle-base><inline></inline></middle-base></compositeblock></editarea-line></compositeblock><block class="Normal" style="color: rgb(74, 144, 226);"> </block><block class="Binary" style="color: rgb(74, 144, 226);">-</block><block class="Normal" style="color: rgb(74, 144, 226);"> </block><compositeblock dir="ltr" class="over-line-symbol ig-ex-br inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><line-border style="height: 0.352941em; margin-top: 0.117647em; margin-bottom: -0.470588em;"><hcomposed-symbol style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana; font-style: normal; font-weight: normal;"><middle><fixed><inside></inside></fixed></middle></hcomposed-symbol></line-border><editarea-line class=" " style="margin-bottom: -0.176471em; line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">r</block></editarea-line></compositeblock><compositeblock dir="ltr" class="power-index-symbol-container inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.5724em;">a</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><bracket-span>)</bracket-span></closesymbolblock></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mfrac><mrow><mi>log</mi><mi>u</mi></mrow><mrow><mo fence="true" stretchy="false">(</mo><msub><mover accent="true"><mi>r</mi><mo></mo></mover><msup><mi>a</mi><mi>*</mi></msup></msub><mspace is="true" width="0.22em"></mspace><mo form="infix">-</mo><mspace is="true" width="0.22em"></mspace><msub><mover accent="true"><mi>r</mi><mo></mo></mover><mi>a</mi></msub><mo fence="true" stretchy="false">)</mo></mrow></mfrac></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.3);">This means that for every user that comes into our experiment, each subsequent user will experience less and less regret</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.4);">Thompson sampling is based on the idea that the frequency a user should be allocated to an experience should equal the probability of that experience being optimal</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In other words, allocation percentage to a group is equal to that group's probability of being the optimal experience (at any point during the experiment).</block></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.38769349392907193" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.38769349392907193" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">8.2.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>How do we know the probability of being optimal?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we have two groups (A and B).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We represent the </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block> probabilities with a Beta distribution where </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi></mi><mo form=&quot;infix&quot;>=</mo><mi></mi><mo form=&quot;infix&quot;>=</mo><mn>1</mn></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal"></block><block class="Relation">=</block><block class="Normal"></block><block class="Relation">=</block><block class="Normal">1</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi></mi><mo form="infix">=</mo><mi></mi><mo form="infix">=</mo><mn>1</mn></mrow></mstyle></math></span></compositeblock><block> (i.e. completely uninformative prior about the </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block>).</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, as users come in, we update the Beta distributions (of the assigned arm) based on the outcome (i.e. user clicked or not).</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>As we continue and sample more of the population, the Beta distributions (of each arm) will be updated.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">How do we determine the probability that one arm is better than other arm?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We just sample the Beta distribution each of each arm.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The calculate the percent of the time that one arm's </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block> is higher than the other arm's </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.049590238100065465" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.049590238100065465" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">8.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>When to stop?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We stop when there's a 95% chance the value remaining in the experiment is less than 1%  </block><block style="font-weight: bold;">How do we measure that?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We start by sampling each arm's Beta distributions.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Then, we count how many times one arm's distribution is greater than other arm's distribution (i.e. probability of being optimal/best).</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Next, we take the maximum of samples across all the arms  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226); font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>max</mi></msub></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><compositeblock dir="ltr" class="constant-text inline"><constant-text class="close-left" style="font-family: LatinModern, Asana; font-style: normal;">max</constant-text></compositeblock></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>max</mi></msub></mrow></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We calculate the </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">value add equation</block><block>, </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mfrac><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>max</mi></msub><mo form=&quot;infix&quot;>-</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>i</mi></msub></mrow><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>i</mi></msub></mrow></mfrac></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="fraction-symbol smaller" style="color: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); fill: rgb(74, 144, 226);"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><block class="Normal">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><compositeblock dir="ltr" class="constant-text inline"><constant-text class="close-left" style="font-family: LatinModern, Asana; font-style: normal;">max</constant-text></compositeblock></editarea-line></compositeblock><block class="Binary">-</block><block class="Normal">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">i</editarea-block></compositeblock></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Normal">CTP</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">i</editarea-block></compositeblock></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mfrac><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>max</mi></msub><mo form="infix">-</mo><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>i</mi></msub></mrow><mrow><mi>C</mi><mi>T</mi><msub><mi>P</mi><mi>i</mi></msub></mrow></mfrac></mstyle></math></span></compositeblock><block>, for all the samples in the optimal arm.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Sort all the value add numbers and cut off the bottom 95% of the samples.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; background-color: rgba(248, 231, 28, 0.4);">If 95% of the samples are less than 1% then we would stop the experiment</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>This means that there's a 95% chance that the value remaining (or how much value there is left in the experiment) is less than a 1% gain.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Both 95% and 1% are tuning parameters which you can decide on.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8840115431657727" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8840115431657727" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">8.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>When to use MAB over A/B testing?</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="matrix-symbol table-symbol role-tabular"><matrix class="table"><table data-table-id="n0.8902945773561126"><colgroup><col><col></colgroup><tbody><tr><td data-rindex="0" data-cindex="0" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">MAB</block></blocks></line></editarea></td><td data-rindex="0" data-cindex="1" style="padding: 0.5em; vertical-align: middle; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">A/B </block></blocks></line></editarea></td></tr><tr><td data-rindex="1" data-cindex="0" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(126, 211, 33);">+</block><block> Many arms</block></blocks></line></editarea></td><td data-rindex="1" data-cindex="1" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(126, 211, 33);">+</block><block> Few arms</block></blocks></line></editarea></td></tr><tr><td data-rindex="2" data-cindex="0" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(126, 211, 33);">+</block><block> Move traffic automatically to best arm</block></blocks></line></editarea></td><td data-rindex="2" data-cindex="1" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(126, 211, 33);">+</block><block> Good when results are needed long-term</block></blocks></line></editarea></td></tr><tr><td data-rindex="3" data-cindex="0" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(126, 211, 33);">+</block><block> Short-term results</block></blocks></line></editarea></td><td data-rindex="3" data-cindex="1" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(126, 211, 33);">+</block><block> Focus on learning</block></blocks></line></editarea></td></tr><tr><td data-rindex="4" data-cindex="0" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(126, 211, 33);">+</block><block> Focus on optimizing</block></blocks></line></editarea></td><td data-rindex="4" data-cindex="1" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mo form=&quot;prefix&quot;>-</mo></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Unary" style="color: rgb(208, 2, 27);">-</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mo form="prefix">-</mo></mstyle></math></span></compositeblock><block> Higher regret</block></blocks></line></editarea></td></tr><tr><td data-rindex="5" data-cindex="0" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mo form=&quot;prefix&quot;>-</mo></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Unary" style="color: rgb(208, 2, 27);">-</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mo form="prefix">-</mo></mstyle></math></span></compositeblock><block> longer experiment</block></blocks></line></editarea></td><td data-rindex="5" data-cindex="1" style="padding: 0.5em; border-color: rgb(0, 0, 0); border-style: solid; border-width: 1px;"><editarea class="text-mode"><line class="text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line></editarea></td></tr></tbody></table><table-resize style="position: absolute; left: 0px; top: 0px; width: 0px; height: 0px;"></table-resize></matrix></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.2289923598560124" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.2289923598560124" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">8.5. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Practical considerations</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>How often to update Beta distribution?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Depends on how long customer actions take to record?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Also, user preferences can be non-stationary.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>MAB can be contextual  context e.g. time of the day, user device, etc.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5173363940940443" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5173363940940443" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">8.6. </prefix><blocks><baselineblock class="inline"></baselineblock><block>MAB tools</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Optimizely</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Visual Web Optimizer</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Vowpal Wabbit (contextual bandits)</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;"> </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.1199884689800359" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.1199884689800359" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">9. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Impact Estimation</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This section is about how to estimate the impact of experiments, before and after we run them.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.033216356904175015" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.033216356904175015" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>How much does the experiment cost?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One of first things to consider when experimenting is: </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">How much will it cost?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We measure cost in:</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Time</block><block> </block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Expect at least a minimum of 2 weeks for the actual experiment</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>2 week to 2 months of support work  time required for preparation, training data collection, model creation, experiment infrastructure, model hosting, post-experiment analysis</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Headcount</block><block>  how many people we need</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>1 SWE</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>1 data engineer</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>1 data scientist</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Opportunity cost</block><block> </block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Other ML projects</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Other non-ML projects</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>All of the above cost factors result in some (rough) estimated $ amount.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8059739681482567" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8059739681482567" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Potential experiment benefits</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>How much will the experiment benefit the company/customers?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One approach to estimate the potential benefit is </block><block style="font-style: italic; background-color: rgba(248, 231, 28, 0.3);">pretend you build a "perfect" model and find out what the result would look like</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We want to measure those benefits in terms of important business metrics such as (additional) revenue or profit. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This makes it possible to compare all the experiments (regardless of each experiment's specific metric).</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can take 1%, 2%, 5%, 10% of the perfect result and find out its impact on revenue/profit.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Example: </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>1000 daily visitors to our website</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>3% sign-up rate on average</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Revenue per sign-up is $50.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>max</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><mi>r</mi><mi>e</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>u</mi><mi>e</mi><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="constant-text"><constant-text class="close-left close-right" style="font-family: LatinModern, Asana; font-style: normal;">max</constant-text></compositeblock><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block class="Normal">revenue</block><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>max</mi><mo fence="true" stretchy="false">(</mo><mi>r</mi><mi>e</mi><mi>v</mi><mi>e</mi><mi>n</mi><mi>u</mi><mi>e</mi><mo fence="true" stretchy="false">)</mo></mrow></mstyle></math></span></compositeblock><block> per day with a perfect model (i.e. 100% sign-up rate) $50,000/day.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Right now (at 3%)  $1500/day</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>What if our model could get 2% lift?</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>That'd bring additional $1000/day  $365,000/year.</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>With 70% profit margin </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mo form=&quot;infix&quot;></mo></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Relation"></block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mo form="infix"></mo></mstyle></math></span></compositeblock><block>$250,000/year in net profit.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> We want to compare the cost of an experiment to its potential upside.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>You could go with the 10x rule here  i.e. upside &gt; 10 * costs  This means that even if only 20% of the things you plan on doing go according to plan, you will still double your original investment within a year.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.22343034774387438" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.22343034774387438" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.2.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Point of diminished return</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>You can often get 80% of the results that you're looking for with very simple models.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If you want that remaining 20% of the result, you typically have to invest in far more complex models which often take a lot more effort.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Often, it's a good idea to go in with such mindset such that you can implement ML in other areas of the business that haven't yet hit the point of diminished return.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.40169177606811113" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.40169177606811113" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Risks to the business from an experiment</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The obvious risk is could be some loss to a metric you care about  e.g. </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">CTP</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>C</mi><mi>T</mi><mi>P</mi></mrow></mstyle></math></span></compositeblock><block>, session time, customer trust, etc.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">Customer trust: Data Leakage</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If collecting confidential data is required for your experiment models.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>You have to make sure to implement different security measures around the way you store the data to ensure you can safely experiment.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Outages</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Any time that we introduce a new component (or we change different software components), we risk a potential outage.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">How quickly can we stop the experiment?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is hugely important if you're experimenting with a significant portion of your business model.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Risk of not experimenting</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Often, companies that are willing to experiment and adjust their business models are the ones that last.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>You always have consider the risks of experimenting against the risk of not experimenting.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.29212408841645976" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.29212408841645976" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.3.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Shadow test: Mitigating business risks</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One thing we can do is </block><block style="font-weight: bold; color: rgb(208, 2, 27);">shadow testing</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>With shadow testing we try to get some understanding of how new experiences behave.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>With shadow testing, we run and log both the new and current experiences (when a user makes a request) but send the current experience to the user.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The logs from the new experience helps us:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Do sanity checks  does the new experience results actually make sense</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Measure the differences (between the new and current experience)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Look for errors/faults that we didn't catch during the testing phase</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Measure CPU/memory/disk latency of the new experience</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.4514703855443434" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.4514703855443434" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">9.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Post-experiment</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>So far, we've talked about the different things we can do in pre-experiment. In this section, we want to talk about things we can do post-experiment.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.5909117604594012" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5909117604594012" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.4.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Are the experiment results valid?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Bias correction</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One thing we have to do to answer this question is </block><block style="font-style: italic; color: rgb(0, 0, 0);">bias correction</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.4);">Sample selection bias</block><block> happens when different users were placed in some particular group and that user had a predisposition to behave a certain way, regardless of the group they're in.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Extrapolation appropriate</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we did the experiment on holidays, payday, start of school, etc.  It means that our experiment is probably not valid to extrapolate.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If you want to experiment on holiday, it's good to look at the comparisons of the previous year and adjust for the normally expected growth. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is to make sure that the growth (or how much of the growth) is due to the new experience and not the natural year-to-year business-related growth.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Valid statistically</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Frequentist A/B testing  p-value</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Bayesian A/B  Probability of </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>B</mi><mo form=&quot;infix&quot;>&amp;gt;</mo><mi>A</mi></mrow></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">B</block><block class="Relation">&gt;</block><block class="Normal">A</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>B</mi><mo form="infix">&gt;</mo><mi>A</mi></mrow></mstyle></math></span></compositeblock><block>, expected loss</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>MAB  value remaining is sufficiently low</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Experiment collisions</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Was another experiment being done such that it would impact a similar user experience or even if the user experience is different, would it impact the same metrics?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's very important to make sure that there's no experiment collision.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Carryover effects</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say that a sale on an item just concluded. Maybe a week later our updated algorithm (that we're experimenting with) just happened to recommend that item a lot more.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's likely that that item we're recommending now will not be bought at a normal price because the sale a week earlier had just ended and had a lot lower pricing option. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>At this point, it could look like your updated recommendation algorithm is unsuccessful.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>But, maybe if you wait a few weeks, you'll get a different behavior.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.8675173256773085" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8675173256773085" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">9.4.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Is the experience worth launching?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Variants and invariants</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Did the variants that you expected to change actually change?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Did any invariants change?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Do any change in variants contradict?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Did the customer service metrics change at all?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spikes can indicate confusion or dissatisfaction.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Did any cannibalization occur?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Pushing one product over another can have unforeseen implications to another such that the other product is not selling as much anymore.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.21746678648851248" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.21746678648851248" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">10. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Basic Models</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The main question we're exploring in this section is how to train some basic models in big data platforms (i.e. Spark cluster + HDFS)?</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In the MLExpert notes, we reviewed some ML models but most of them are designed for a single processor and maybe not so large of a dataset.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="background-color: rgba(248, 231, 28, 0.3);">idea of this section</block><block> is go over some algorithms we can use for large datasets and how some of those algorithms might have to be altered or parallelized in order to make them work most effectively in a large data setting.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.12429041350314685" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.12429041350314685" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">10.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Gradient Boosted Trees</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say that we have a dataset of 100M examples and 200 features, and roughly there's about 200 split points per feature.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> Just as a reminder, in boosted trees, for each feature in each feature vector, we're going to evaluate some particular split point and store the best split point across all possible split points  That split point will be assigned to be officially the node's split point  Then, we'd recurse to the left and right nodes down from that node and repeat the same process.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="background-color: rgba(248, 231, 28, 0.3);">problem</block><block> with the above approach is that we're </block><block style="background-color: rgba(248, 231, 28, 0.3);">not taking advantage of anything that we can do in parallel</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One pretty obvious thing we can do is to analyze every single feature in every single split point in parallel.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>A less intuitive thing that we can do is to analyze every single node on a particular level in parallel as well.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One of major portions of the gradient boosted tree algorithm is to sort the features in order to find their split points.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>By simply using the originally sorted split point feature list in a clever way, we can prevent ourselves from needing to resort every time we want to evaluate a particular split point.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For gradient boosted trees, we can't parallelize the ensemble technique (i.e. boosting), because the subsequent tree depends on the previous tree.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>With Random Forest, we can actually parallelize the construction of each tree in the ensemble because there's no dependency.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In general, all of these parallelized operations can speed up the training upwards of 90%.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.8099158822337731" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8099158822337731" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">10.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Matrix Factorization</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Matrix factorization can use ALS. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It uses ALS to approximate some user-item matrix, such that two embedding matrices (i.e. user and item embedding matrix) when multiplied together will approximate the original user-item matrix.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>ALS works by alternating the optimization of the user embedding and the product embedding.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>As it alternates, it performs OLS.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we have 100K items and 100M users  Their embeddings can get quite large.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can split these embeddings up when we're solving for the alternate embedding.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For example, if we're performing OLS on the items' matrix, </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>P</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">P</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>P</mi></mstyle></math></span></compositeblock><block>, while keeping the users' matrix, </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>U</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">U</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>U</mi></mstyle></math></span></compositeblock><block>, fixed:</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can multiply different sections of </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>U</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">U</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>U</mi></mstyle></math></span></compositeblock><block> across </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mi>P</mi></mstyle></math>"><editarea class="math-mode-font lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">P</block></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mi>P</mi></mstyle></math></span></compositeblock><block> such that we can still follow alternating squares exactly while splitting it up across multiple machines.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 240px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="grouped-shape"></g><g class="grouped-shape"></g><g class="grouped-shape"></g><g class="grouped-shape"></g><g class="composite-shape"><defs><!-- react-text: 275548 --> <!-- /react-text --><filter id="_bsdhmhmjcs38" height="150%" width="150%" filterUnits="userSpaceOnUse"><feGaussianBlur in="SourceGraphic" stdDeviation="1"></feGaussianBlur><feOffset dx="1" dy="1" result="offsetblur"></feOffset><feFlood flood-color="rgb(0,0,0)" flood-opacity="0.56"></feFlood><feComposite in2="offsetblur" operator="in"></feComposite><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><path class="real" d=" M215.25,164.05 C215.25,156.15 221.65,149.75 229.55,149.75 L322.95,149.75 C330.85,149.75 337.25,156.15 337.25,164.05 L337.25,206.95 C337.25,214.85 330.85,221.25 322.95,221.25 L229.55,221.25 C221.65,221.25 215.25,214.85 215.25,206.95 Z" style="stroke-width: 1; stroke: none; stroke-opacity: 1; fill: rgb(155, 155, 155); fill-opacity: 0.42; filter: url(&quot;#_bsdhmhmjcs38&quot;);"></path></g><g class="composite-shape"><defs><!-- react-text: 275560 --> <!-- /react-text --><filter id="_bsdzynbu0kgs" height="150%" width="150%" filterUnits="userSpaceOnUse"><feGaussianBlur in="SourceGraphic" stdDeviation="1"></feGaussianBlur><feOffset dx="1" dy="1" result="offsetblur"></feOffset><feFlood flood-color="rgb(0,0,0)" flood-opacity="0.56"></feFlood><feComposite in2="offsetblur" operator="in"></feComposite><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><path class="real" d=" M392.75,164.05 C392.75,156.15 399.15,149.75 407.05,149.75 L500.45,149.75 C508.35,149.75 514.75,156.15 514.75,164.05 L514.75,206.95 C514.75,214.85 508.35,221.25 500.45,221.25 L407.05,221.25 C399.15,221.25 392.75,214.85 392.75,206.95 Z" style="stroke-width: 1; stroke: none; stroke-opacity: 1; fill: rgb(155, 155, 155); fill-opacity: 0.42; filter: url(&quot;#_bsdzynbu0kgs&quot;);"></path></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M256.25,79 C305.98,78.03 282.5,106.04 280.83,129.69" style="stroke: rgb(245, 166, 35); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(245,166,35)" stroke-opacity="1" transform="matrix(0.020767924918026225,-0.9997843233890994,0.9997843233890994,0.020767924918026225,280.75,131.5)" style="stroke: rgb(245, 166, 35); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M257.25,75 C279.94,69.71 353.52,69.34 387.75,83 C419.92,95.84 422.54,118.12 425.23,128.64" style="stroke: rgb(245, 166, 35); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(245,166,35)" stroke-opacity="1" transform="matrix(-0.30120512328903537,-0.9535593708335297,0.9535593708335297,-0.30120512328903537,425.75,130.49999999999994)" style="stroke: rgb(245, 166, 35); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g></g></g><g></g><g></g><g></g></svg><diagram-editors><position-container data-rotation="90.11" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 275.101px; top: 152.051px; transform: rotate(90.11deg);"><dg-editor-container data-editor-id="de9961974868481853" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(128, 128, 128); fill: rgb(128, 128, 128); stroke: rgb(128, 128, 128); border-color: rgb(128, 128, 128); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="matrix-symbol matrix-like matrix-math-mode role-tabular"><base-line-indicator>a</base-line-indicator><matrix class="array"><table><tbody><tr class=" hline"><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline last-vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr><tr class=" hline last-hline"><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline last-vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr></tbody></table></matrix></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 229.75px; top: 154.5px;"><dg-editor-container data-editor-id="de933386107576109" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">1</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">1</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 253.25px; top: 154px;"><dg-editor-container data-editor-id="de5266068685943268" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">2</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">1</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 251.75px; top: 174.5px;"><dg-editor-container data-editor-id="de30320491159218244" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">2</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">2</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 229.75px; top: 173.5px;"><dg-editor-container data-editor-id="de4600723677254708" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">1</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">2</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 253.25px; top: 192.5px;"><dg-editor-container data-editor-id="de753873344809683" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 228.25px; top: 193px;"><dg-editor-container data-editor-id="de34151707698659006" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="90.11" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 451.101px; top: 155.051px; transform: rotate(90.11deg);"><dg-editor-container data-editor-id="de4480936402223259" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(128, 128, 128); fill: rgb(128, 128, 128); stroke: rgb(128, 128, 128); border-color: rgb(128, 128, 128); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="matrix-symbol matrix-like matrix-math-mode role-tabular"><base-line-indicator>a</base-line-indicator><matrix class="array"><table><tbody><tr class=" hline"><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline last-vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr><tr class=" hline last-hline"><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline last-vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr></tbody></table></matrix></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 406.25px; top: 177.5px;"><dg-editor-container data-editor-id="de4497614311847564" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">1</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">N</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 430.25px; top: 176.5px;"><dg-editor-container data-editor-id="de8444874108054137" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">2</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">N</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 405.25px; top: 156px;"><dg-editor-container data-editor-id="de7783411053583966" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 429.25px; top: 157px;"><dg-editor-container data-editor-id="de78890762781675" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 257px; top: 10.5px;"><dg-editor-container data-editor-id="de7014301703974253" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(128, 128, 128); fill: rgb(128, 128, 128); stroke: rgb(128, 128, 128); border-color: rgb(128, 128, 128); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="matrix-symbol matrix-like matrix-math-mode role-tabular"><base-line-indicator>a</base-line-indicator><matrix class="array"><table><tbody><tr class=" hline"><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline last-vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr><tr class=" hline last-hline"><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline last-vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr></tbody></table></matrix></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 261.75px; top: 12px;"><dg-editor-container data-editor-id="de473889352386051" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">1</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">1</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 262.25px; top: 36.5px;"><dg-editor-container data-editor-id="de8307068489546923" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">2</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">1</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 341.25px; top: 13px;"><dg-editor-container data-editor-id="de02434714686057493" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">1</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">k</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 340.75px; top: 37.5px;"><dg-editor-container data-editor-id="de6722941987858977" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">p</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">2</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">k</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 281.75px; top: 14.5px;"><dg-editor-container data-editor-id="de9104144886084389" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 300.75px; top: 14.5px;"><dg-editor-container data-editor-id="de08607474854813102" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 320.25px; top: 14.5px;"><dg-editor-container data-editor-id="de7555015377890997" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 320.75px; top: 34.5px;"><dg-editor-container data-editor-id="de18801831046936401" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 301.25px; top: 36px;"><dg-editor-container data-editor-id="de9889175949514808" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 282.75px; top: 36px;"><dg-editor-container data-editor-id="de3214159753414685" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="90" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 250px; top: 7.5px; transform: rotate(90deg);"><dg-editor-container data-editor-id="de07834788944303694" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(128, 128, 128); fill: rgb(128, 128, 128); stroke: rgb(128, 128, 128); border-color: rgb(128, 128, 128); font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="matrix-symbol matrix-like matrix-math-mode role-tabular"><base-line-indicator>a</base-line-indicator><matrix class="array"><table><tbody><tr class=" hline"><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline last-vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr><tr class=" hline last-hline"><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td><td class=" vline last-vline"><editarea class="matrix-item editor-cell center"><area-container><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><emptyblock aria-label="empty line"> </emptyblock></line></area-container></editarea></td></tr></tbody></table></matrix></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 205.75px; top: 9.5px;"><dg-editor-container data-editor-id="de31515098685364684" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">1</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">1</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 229.25px; top: 9px;"><dg-editor-container data-editor-id="de5257574032203578" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">2</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">1</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 227.75px; top: 29.5px;"><dg-editor-container data-editor-id="de49057437190779085" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">2</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">2</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 205.75px; top: 28.5px;"><dg-editor-container data-editor-id="de7051065283759188" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">1</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">2</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 203.75px; top: 88.5px;"><dg-editor-container data-editor-id="de03875777171191119" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">1</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">N</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 227.75px; top: 87.5px;"><dg-editor-container data-editor-id="de362401352110854" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">u</block><compositeblock dir="ltr" class="power-index-symbol-container has-power"><editarea-block class="power-value" style="line-height: 1.2; margin-top: 0em; margin-bottom: -1.00576em;">2</editarea-block><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.60899em; margin-bottom: 0em;">N</editarea-block></compositeblock></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 229.75px; top: 50.5px;"><dg-editor-container data-editor-id="de5533660466373749" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 204.75px; top: 51px;"><dg-editor-container data-editor-id="de6711845969504684" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 230.75px; top: 69.5px;"><dg-editor-container data-editor-id="de8592033374862471" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 205.75px; top: 70px;"><dg-editor-container data-editor-id="de6910597983788638" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="color: rgb(74, 144, 226); fill: rgb(74, 144, 226); stroke: rgb(74, 144, 226); border-color: rgb(74, 144, 226); font-size: 0.7em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Punctuation">...</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 296.25px; top: 154.5px;"><dg-editor-container data-editor-id="de7081811271320531" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">uP</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 470.25px; top: 155px;"><dg-editor-container data-editor-id="de5806712587451406" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazyable no-area-container" style="font-size: 1em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal" style="color: rgb(74, 144, 226);">uP</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 244.25px; top: 132px;"><dg-editor-container data-editor-id="de6181952653853329" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke: rgb(245, 166, 35); border-color: rgb(245, 166, 35); font-size: 0.8em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Machine 1</block></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 420.75px; top: 133px;"><dg-editor-container data-editor-id="de26633457038100206" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="color: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke: rgb(245, 166, 35); border-color: rgb(245, 166, 35); font-size: 0.8em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">Machine 2</block></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>As these machines calculate partial results, they will communicate with each other to make sure that all of the machines have all of the total results.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.7880375160612874" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.7880375160612874" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">10.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Logistic Regression</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is the equation for logistic regression  </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><mrow><mi>y</mi><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mo form=&quot;infix&quot;>=</mo><mspace is=&quot;true&quot; width=&quot;0.22em&quot;></mspace><mfrac><mn>1</mn><mrow><mn>1</mn><mo form=&quot;infix&quot;>+</mo><msup><mi>e</mi><mrow><mo form=&quot;prefix&quot;>-</mo><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>(</mo><msub><mi></mi><mn>1</mn></msub><mi>x</mi><mo form=&quot;infix&quot;>+</mo><msub><mi></mi><mn>0</mn></msub><mo fence=&quot;true&quot; stretchy=&quot;false&quot;>)</mo></mrow></msup></mrow></mfrac></mrow></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">y </block><block class="Relation">=</block><block class="Normal"> </block><compositeblock dir="ltr" class="fraction-symbol smaller"><editarea-line class=" frac-edit-area enumerator" style="line-height: 1.2; margin-bottom: -0.470588em;"><baselineblock></baselineblock><block class="Normal">1</block></editarea-line><div class="frac-line"><inline style="border-bottom: 1px solid;"></inline></div><editarea-line class=" frac-edit-area denominator" style="line-height: 1.2; margin-top: -0.411765em;"><baselineblock></baselineblock><block class="Normal">1</block><block class="Binary">+</block><block class="Normal">e</block><compositeblock dir="ltr" class="power-index-symbol-container has-power inline"><editarea-line class=" power-value" style="line-height: 1.2; margin-bottom: -1.06571em;"><baselineblock></baselineblock><block>-</block><opensymbolblock class="normal" type="parenthesis"><bracket-span>(</bracket-span></opensymbolblock><block></block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">1</editarea-block></compositeblock><block>x+</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">0</editarea-block></compositeblock><closesymbolblock class="normal" type="parenthesis"><bracket-span>)</bracket-span></closesymbolblock></editarea-line><middle-base><inline></inline></middle-base></compositeblock></editarea-line></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><mrow><mi>y</mi><mspace is="true" width="0.22em"></mspace><mo form="infix">=</mo><mspace is="true" width="0.22em"></mspace><mfrac><mn>1</mn><mrow><mn>1</mn><mo form="infix">+</mo><msup><mi>e</mi><mrow><mo form="prefix">-</mo><mo fence="true" stretchy="false">(</mo><msub><mi></mi><mn>1</mn></msub><mi>x</mi><mo form="infix">+</mo><msub><mi></mi><mn>0</mn></msub><mo fence="true" stretchy="false">)</mo></mrow></msup></mrow></mfrac></mrow></mstyle></math></span></compositeblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we have multiple machines available then:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We would be able to put the parameters of logistic regression (i.e. </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><msub><mi></mi><mn>1</mn></msub></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal"></block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">1</editarea-block></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><msub><mi></mi><mn>1</mn></msub></mstyle></math></span></compositeblock><block> and </block><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mstyle displaystyle=&quot;true&quot;><msub><mi></mi><mn>0</mn></msub></mstyle></math>"><editarea class="math-mode-font lazy lazyable no-area-container" style="font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;" aria-hidden="true"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal"></block><compositeblock dir="ltr" class="power-index-symbol-container"><middle-base><inline></inline></middle-base><editarea-block class="index-value" style="line-height: 1.2; margin-top: -0.747899em;">0</editarea-block></compositeblock></line></editarea><span role="presentation" style="width:100%;position:absolute;top:0;left:0;clip:rect(1px, 1px, 1px, 1px);height:1px;padding:1px 0 0 0!important;overflow:hidden;user-select:none;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mstyle displaystyle="true"><msub><mi></mi><mn>0</mn></msub></mstyle></math></span></compositeblock><block>) across the cluster</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Then send different data within a mini-batch to each machine</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Each machine will calculate the partial mini-batch gradient and ship it back to some single machine</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The single machine will aggregate (i.e. adding them up) the partial mini-batch gradients.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> We're going to only use gradient descent here. Most production-ready applications will use </block><block style="background-color: rgba(248, 231, 28, 0.3);">limited memory </block><block class="role-hyper-link" data-hyper-link-url="https://en.wikipedia.org/wiki/Broyden%E2%80%93Fletcher%E2%80%93Goldfarb%E2%80%93Shanno_algorithm" style="text-decoration: underline; color: rgb(17, 85, 204); background-color: rgba(248, 231, 28, 0.3);"><a href="https://en.wikipedia.org/wiki/Broyden%E2%80%93Fletcher%E2%80%93Goldfarb%E2%80%93Shanno_algorithm" target="_blank" style="color: inherit; text-decoration: inherit;">Broyden-Fletcher-Goldfarb-Shanno algorithm</a></block><block>  It's effectively a variation of gradient descent except they don't just use the gradient, they also incorporate the gradient of the gradient.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.6170894237087234" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6170894237087234" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">10.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark MLlib</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Generally, ML algorithms (i.e. most basic ML algorithms except for deep learning) have variations which can utilize parallelization.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This means a faster convergence to optimum values.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Scaling up ML models becomes more important in some applications where there's huge amount of data and the model needs to trained constantly. A good example of that is stock price prediction models.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark MLlib has implemented the parallelized (and optimized) versions of many basic ML models.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Some examples include:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Linear/logistic regression</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>SVM</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Gradient boosted trees / Random Forests</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Naive Bayes</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Collaborative Filtering</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Bisecting k-means</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>SVD/PCA</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark also offer ways to analyze the performance of each of these models. </block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.5387893327741318" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5387893327741318" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">11. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Deep Learning Models</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.5229271160765427" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5229271160765427" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">12. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model Validation</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.4682243675233997" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.4682243675233997" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">13. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Productionization</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>What we we'd want to do before going to production is to </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">reduce the human error</block><block>. as much as practical. For instance:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we have a team consist of 3 SWE, 2 DE, 2 DS, 1 Manager, 1 UX Designer</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Each person has a 1% chance of making a mistake in each experiment run</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Running an experiment every month mean that there's a 66% chance something goes wrong every year.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> If we increase the team size to 6 SWE, 4 DE, 4 DS  chance of mistake increases to 85%. In a fairly large team, the chance of mistake approximates to 100%.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Mistakes could be something too obvious or too subtle.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In deployment, we have to synchronize everything: data, model, environment.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">What can we do to reduce the human error?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Data Processing</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Have </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">automated tests</block><block> which verify that performing some action would produce the desired response. </block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For instance, we could have automated test to check our data ingestion engine so that when someone makes an action on the website, we could verify that its data is being captured accurately and completely.</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> We can use headless browsers to perform such tests. Example of such browsers are Chrome and Firefox.</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For data processing jobs, we could use </block><block style="font-weight: bold; color: rgb(208, 2, 27);">unit tests</block><block> such as </block><block class="role-hyper-link" data-hyper-link-url="https://pitest.org/" style="text-decoration: underline; color: rgb(17, 85, 204);"><a href="https://pitest.org/" target="_blank" style="color: inherit; text-decoration: inherit;">pitest</a></block><block> (PIT mutation) and run those tests against production data, such that we can validate (to some extent at least) that our data processing jobs are behaving correctly.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can also use </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">version control</block><block> and </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">code reviews</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Data Storage</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We should </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">validate all of our schemas</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We should make sure that we have </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">consistency across all of the partitions</block><block> that we arrange.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We should also make sure that the data is actually preserved the way that it's entered (in terms of ingestion).</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Data Orchestration</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We should make sure that all the </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">joins and aggregations are happening correctly</block><block>. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We have to write </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">unit tests and have version control for our Airflow DAGs</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Data/Model Exploration</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We should make sure that whatever environment we have in our workspace is that exact same environment that will be used when it comes to serving production traffic.</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>For instance, if we have used TensorFlow, we should use the same version in both dev. and prod. environments. We can use </block><block style="font-family: &quot;Computer Modern Typewriter&quot;, serif; color: rgb(252, 55, 78);">requirements.txt</block><block> file (for Python packages).</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>We also have to make sure that the </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">data itself is versioned</block><block>. This is to ensure </block><block style="font-weight: bold; color: rgb(208, 2, 27);">reproducability</block><block>.</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">S3</block><block> offers data versioning. You could also use </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">DVC (Data Version Control)</block><block>. </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">Delta tables</block><block> also allow for versioning data by keeping a historical versions of the data which is easily available.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>As for the models, we have to know the model parameters used for training, the hyperparameters, and the overall performance of the model.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Tools</block><block> for data and model management:</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">MLflow</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">ML MD  ML metadata</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">SageMaker Studio</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>When we want to productionize a model for an </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">experiment</block><block>:</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We should at all times be tracking the experiment and always be able to answer: </block><block style="font-weight: bold;">Who is this experiment affecting? What about those people is it affecting? Where is it affecting them? and For how long will it be affecting them?</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is an effort to avoid </block><block style="font-weight: bold; color: rgb(208, 2, 27);">experiment collisions</block><block>.</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It also provides a way to quickly look up past experiments and to be able to see what worked and what didn't (so that we don't repeat the same mistake).</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.6968374562222519" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6968374562222519" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">14. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Data Hosting</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say that we have set up a recommendation service after we have productionized our model and the service is serving real traffic.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>A user requests a page from our app  the app calls the recommendation service along with the user ID to get recommendations for her.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The recommendation service needed information on this user, but </block><block style="font-weight: bold;">how did it actually get it?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In order to run the model, it needs user's features. So far, we only talked about two ways on getting features:</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>No features  i.e. cold start</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Features are stored in HDFS.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">HDFS isn't ideal for hosting data in a low latency situation</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>It's probably a better idea to offer a </block><block style="font-weight: bold;">low latency data serving layer</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.2673304518648627" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.2673304518648627" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">14.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Distributed Cache</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>One thing we can do to solve the low latency data serving problem is to use </block><block style="font-weight: bold; font-style: italic;">Airflow</block><block>.  Have a hook on HDFS to recognize when the HDFS is updated so that every time an update happens, Airflow could communicate that to the recommendation service to tell it to re-fetch the data from HDFS  The recommendation service will get the data asynchronously in bulks.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="background-color: rgba(248, 231, 28, 0.3);">problem</block><block> is that now we're under the assumption that the data can fit on the host (i.e. recommendation service).</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>That means either all data in memory (RAM) or memory &amp; disk.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Tools that we can use to do something like that </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Redis</block><block>, </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Memcached</block><block>, </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Tarantool</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, </block><block style="background-color: rgba(248, 231, 28, 0.3);">we have to worry about two ways in which we must scale</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's our in-memory DB is storing 30GB of data.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, if we get 1000 Q/s and the ML model would requiring more features  that get the in-memory data size to 80GB, we have to horizontally scale to handle higher # of requests and vertically scale to increase memory size. This makes the whole thing very expensive.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>To solve the in-memory problem, we can use </block><block style="font-weight: bold; color: rgb(208, 2, 27);">distributed cache</block><block>. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This cache would follow the same process as getting a bulk load of data from HDFS, say every 24 hrs.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">The difference is that every service would now call the same distributed cache and it would have multiple machines in it to make a cluster each machine in the cluster would maintain some portion of data</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>With </block><block style="font-weight: bold; font-style: italic;">distributed cache</block><block>, we need </block><block style="font-weight: bold;">clients</block><block> on the recommendation service to make sure that we know which hosts to call for some particular data.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We also need to manage the membership of each node in the distributed cache cluster (we can use </block><block style="font-weight: bold; font-style: italic;">Zookeeper</block><block> for that).</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic;">Zookeeper</block><block> would ensure that clients become aware not to call on particular hosts that are now out of the cluster for reasons such as scaling down or that host just become unavailable.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">Another important factor the clients need to handle is caching</block><block>.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>If we have an extremely popular item, it's far more efficient to cache these items on the clients themselves, and maybe store 1% of what the distributed cache is storing.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left; visibility: hidden;">* </prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 189px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="composite-shape"><path class="real" d=" M542.67,32.25 L542.67,77.75 C542.67,84.52 529.24,90 512.67,90 C496.1,90 482.67,84.52 482.67,77.75 L482.67,32.25 M542.67,32.25 C542.67,39.02 529.24,44.5 512.67,44.5 C496.1,44.5 482.67,39.02 482.67,32.25 C482.67,25.48 496.1,20 512.67,20 C529.24,20 542.67,25.48 542.67,32.25 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M477.67,136.67 L547.67,136.67 L547.67,176.67 L477.67,176.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M339.39,89.15 L292.61,54.85" style="stroke: rgb(155, 155, 155); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(0.8064446042674829,0.5913096483635819,-0.5913096483635819,0.8064446042674829,291,53.666666666666686)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(-0.8064446042674825,-0.5913096483635824,0.5913096483635824,-0.8064446042674825,341,90.33333333333331)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M337,103.67 L291,103.67" style="stroke: rgb(155, 155, 155); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(1,-2.4492935982947064e-16,2.4492935982947064e-16,1,289,103.66666666666666)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,339,103.66666666666664)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M291.97,154.52 L341.36,120.14" style="stroke: rgb(155, 155, 155); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(-0.8206508549844004,0.5714299381493524,-0.5714299381493524,-0.8206508549844004,342.99999999999994,119)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(0.8206508549844004,-0.5714299381493523,0.5714299381493523,0.8206508549844004,290.3333333333333,155.66666666666669)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="grouped-shape"><g class="composite-shape"><path class="real" d=" M343,18.67 L413,18.67 L413,58.67 L343,58.67 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M419.98,100.53 L482.33,57.67" style="stroke: rgb(155, 155, 155); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(0.8240273195329761,-0.566550065451676,0.566550065451676,0.8240273195329761,418.3333333333333,101.66666666666666)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M512.99,134.33 L512.67,90" style="stroke: rgb(155, 155, 155); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(-0.00715578886270059,-0.9999743970151198,0.9999743970151198,-0.00715578886270059,513,136.33333333333337)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="composite-shape"><path class="real" d=" M331,29 C331,18.32 339.66,9.67 350.33,9.67 L408.33,9.67 C419.01,9.67 427.67,18.32 427.67,29 L427.67,115 C427.67,125.68 419.01,134.33 408.33,134.33 L350.33,134.33 C339.66,134.33 331,125.68 331,115 Z" style="stroke-width: 1; stroke: rgb(155, 155, 155); stroke-opacity: 1; fill: none; fill-opacity: 1; stroke-dasharray: 6, 6;"></path></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M183,104.33 L99,104.33" style="stroke: rgb(155, 155, 155); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(-1,1.2246467991473532e-16,-1.2246467991473532e-16,-1,185,104.33333333333334)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M420.55,110.26 L478.5,157.5" style="stroke: rgb(155, 155, 155); stroke-opacity: 1; stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="rgb(155,155,155)" stroke-opacity="1" transform="matrix(0.7751650613333934,0.6317587575079561,-0.6317587575079561,0.7751650613333934,419,109)" style="stroke: rgb(155, 155, 155); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g></g></g><g></g><g><g><rect rx="10" ry="10" x="184.3333333333334" y="34.33333333333334" width="105.99999999999997" height="38" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.41;"></rect></g><g><rect rx="10" ry="10" x="184.33333333333334" y="85.66333333333333" width="106.00000000000003" height="38" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.41;"></rect></g><g><rect rx="10" ry="10" x="184.33333333333334" y="137" width="106.00000000000003" height="38" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.41;"></rect></g><g><rect rx="10" ry="10" x="339.66666666666674" y="85" width="79" height="38" style="stroke: none; stroke-opacity: 1; stroke-width: 1; fill: rgb(155, 155, 155); fill-opacity: 0.41;"></rect></g></g><g></g></svg><diagram-editors><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 185.333px; top: 35.3333px;"><dg-editor-container data-editor-id="de2592362783239053" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke: rgb(245, 166, 35); border-color: rgb(245, 166, 35); font-size: 1em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 0.8em; color: rgb(74, 144, 226);">recommendation </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 0.8em; color: rgb(74, 144, 226);">service client</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 185.333px; top: 86.6633px;"><dg-editor-container data-editor-id="de7239094094288698" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke: rgb(245, 166, 35); border-color: rgb(245, 166, 35); font-size: 1em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 0.8em; color: rgb(74, 144, 226);">recommendation </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 0.8em; color: rgb(74, 144, 226);">service client</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 185.333px; top: 138px;"><dg-editor-container data-editor-id="de2855702275777734" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke: rgb(245, 166, 35); border-color: rgb(245, 166, 35); font-size: 1em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 0.8em; color: rgb(74, 144, 226);">recommendation </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 0.8em; color: rgb(74, 144, 226);">service client</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 340.667px; top: 86px;"><dg-editor-container data-editor-id="de8362562835056735" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="color: rgb(245, 166, 35); fill: rgb(245, 166, 35); stroke: rgb(245, 166, 35); border-color: rgb(245, 166, 35); font-size: 1em;"><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 0.8em; font-weight: bold; color: rgb(247, 104, 125);">distributed </block></blocks></line><line class="text-mode align-center" style="line-height: 1;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-family: &quot;Computer Modern Sans&quot;, serif; font-size: 0.8em; font-weight: bold; color: rgb(247, 104, 125);">cache</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 486.167px; top: 49.3333px;"><dg-editor-container data-editor-id="de6315554672075114" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(245, 166, 35);">HDFS</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 482.667px; top: 144.167px;"><dg-editor-container data-editor-id="de4217993152602444" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(65, 117, 5);">Airflow</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 347px; top: 23.5px;"><dg-editor-container data-editor-id="de8367701901013567" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: &quot;Computer Modern Sans&quot;, serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-size: 0.7em; font-weight: bold; color: rgb(144, 19, 254);">Zookeeper</block></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 104.667px; top: 82.3333px;"><dg-editor-container data-editor-id="de7894902787262355" class="no-border-on-print math-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 17px; font-family: LatinModern-Math, LatinModern, Asana-Math, Asana;"><editarea class="diagram-editor non-wrap lazy lazyable no-area-container" style="font-size: 0.8em;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">1000 Q</block><block class="Binary"></block><block class="Normal">s</block></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">What are some tools for distributed cache?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Apache Ignite</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">DynamoDB (DAX)</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Redis (AWS ElastiCache)</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="inline" style="display: block;"><div style="vertical-align: baseline;"><div style="display: inline-block; height: 0px; border-bottom: 1px solid; width: 100%;"></div></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-0" data-line-id="n0.8600459239017044" style="font-size: 1.2em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.8600459239017044" role="heading" aria-level="1"><prefix style="text-align: left; padding-right: 0.5em;">15. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Model Hosting</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In the last section, </block><compositeblock dir="ltr" class="section-ref inline"><span data-section-line-id="n0.1698473261905451" class="section-ref-border no-border-on-print"><a href="#n0.1698473261905451" style="color: inherit; text-decoration: inherit;">?</a></span></compositeblock><block>, we talked about how we will be using distributed cache for our recommendation service example.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We now talk about how we're going to host our recommendation models inside the recommendation service itself.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The recommendation service has to:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Fetch the features (often of both user and item)  we discussed this in </block><compositeblock dir="ltr" class="section-ref inline"><span data-section-line-id="n0.1698473261905451" class="section-ref-border no-border-on-print"><a href="#n0.1698473261905451" style="color: inherit; text-decoration: inherit;">?</a></span></compositeblock></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Alter the features (in most cases)</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Append the user/item features</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Append online features (these may not have been stored in the HDFS) like device, country, referrer, etc.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Perform inference</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Map the inference to meaningful result</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>e.g. from an array of probabilities per item to recommended item.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; font-style: italic; color: rgb(245, 166, 35);">Note:</block><block> All of these are performed in the exploration (train/validation) step and for inference need to be repeated EXACTLY.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>To ensure all the steps will repeat exactly the same we can use </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Spark Pipeline</block><block>.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.2847875435156031" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.2847875435156031" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">15.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark Pipeline</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Spark Pipeline is a library which allows you to create a DAG of stages required to go from hosted features to usable predictions.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's look at an example. Let's say we have this data (split to train and test):</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 682.531px; height: 280.54px; position: relative;"><img src="image-resources/650c508c-db0a-4ff8-9099-b2c74b0cbc41.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, we can use Spark Pipeline to ensure same steps are done every time:</block></blocks></line><line class="root text-mode full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="image-container no-cursor-selected no-editor"><image-viewer class=""><image-container class="center"><div class="image-content" style="width: 710.219px; height: 206.19px; position: relative;"><img src="image-resources/f0869541-024d-45cf-b3c7-80815c5261be.png" style="width: 100%; height: 100%; box-sizing: border-box; border-radius: 0px;"></div></image-container></image-viewer><div style="display: none;"></div></compositeblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.863156391351674" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.863156391351674" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">15.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Latency Management</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In terms of quality of our service, we have to consider its latency.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Amazon found that an extra 100 ms of latency created a 1% loss of revenue.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Google found that an extra 0.5 second load time causes a 20% traffic drop.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">Now that getting an ML inference is on the </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">critical path</block><block style="background-color: rgba(248, 231, 28, 0.3);"> of rendering the home page, latency is a large concern</block><block>. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">Another </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">problem</block><block style="background-color: rgba(248, 231, 28, 0.3);"> is that we can't fetch the features from the distributed cache and run the model in parallel</block><block>. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Since the model depends on the features, we have to do it in order.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.1836546355814186" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.1836546355814186" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">15.2.1. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Local vs. Remote inference</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Where do we want to perform the inference?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="color: rgb(208, 2, 27); font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold; color: rgb(208, 2, 27);">Local inference vs. remote inference</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Local inference</block><block>  low latency. </block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold;">problem</block><block> is that the it's often the case that your recommendation service is written in a different language than you're model inference code (e.g. recommendation service in Go or Java and model inference code in Python).</block></blocks></line><line class="root text-mode indent-3 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In such cases, one solution is to use </block><block style="font-weight: bold; background-color: rgba(245, 166, 35, 0.2);">PMML</block><block style="background-color: rgba(245, 166, 35, 0.2);"> (Predictive Model Markup Language)</block><block> so that other languages could read Python.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Another </block><block style="font-weight: bold;">problem</block><block> is that the deployment of recommendation service and model inference are tied together.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Remote inference</block><block>  Another option is to have a dedicated inference server to which all the recommendation services making a call. </block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This is great because it's language-agnostic.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Also, the deployments are no longer tied together.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Finally, the inference server could have its own specialized hardware requirements outside of what your typical web server hardware requirements would be  This configuration could accommodate that.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.5778846831230189" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5778846831230189" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">15.2.2. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Language optimization</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>In addition to local vs. remote inference, we can also look at language optimization to help manage our latency.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Python is pretty slower than some alternatives:</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>C/C++ is 10x-100x faster</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Java is 10x-50x faster</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We can use Just-In-Time (JIT) compiler tool called </block><block style="font-weight: bold; color: rgb(208, 2, 27);">Numba</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Numba</block><block> compiles the Python code down to machine code and it can approach latencies comparable to C and Fortran.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.6943123969898508" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.6943123969898508" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">15.2.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Hardware</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Generally, we want a CPU over a GPU in terms of real-time inferences. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>CPU will be faster for these one-of predictions and GPUs are better for batches.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode section sindent-2" data-line-id="n0.621105221318276" style="font-size: 1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.621105221318276" role="heading" aria-level="3"><prefix style="text-align: left; padding-right: 0em;">15.2.4. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Worst-case scenario</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We also need to consider the worst-case scenarios. </block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We'd want </block><block style="font-weight: bold; color: rgb(208, 2, 27);">low latency fallbacks</block><block> and </block><block style="font-weight: bold; color: rgb(208, 2, 27);">circuit breakers</block><block>.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Fallback:</block><block> If, say, some call from the client to the distributed cache takes too long (above some threshold), then we should be able to return to the user some low latency recommendation.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This could be recommending the most popular products, or it could be something a little bit more personalized  In general, it should be pretty fast.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">Circuit breaker:</block><block> If a service is down, after some number of re-tries the client should begin automatically falling back to the default experience.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>This should only happen until the down service can come back online.</block></blocks></line><line class="root text-mode section sindent-1" data-line-id="n0.5364019182724897" style="font-size: 1.1em; padding-top: 0.5em; padding-bottom: 0.5em; font-weight: bold; line-height: 1.4;" id="n0.5364019182724897" role="heading" aria-level="2"><prefix style="text-align: left; padding-right: 0.25em;">15.3. </prefix><blocks><baselineblock class="inline"></baselineblock><block>Batch inference</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>Instead of having an inference server, what we could do is just store all the pre-calculated inferences on the distributed cache itself.</block></blocks></line><line class="root text-mode indent-0 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="1"><prefix style="font-weight: bold; flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="font-weight: bold;">When would this be a good idea?</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block style="background-color: rgba(248, 231, 28, 0.3);">Generally, we want minimal or no online features</block><block>.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>We also want to make sure that the inference space is small enough.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Let's say we have 100M customers and we want to recommend only 30 titles (represented by integers)  This would require around 12 GB of space.</block></blocks></line><line class="root text-mode indent-2 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="3"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;">* </prefix><blocks><baselineblock class="inline"></baselineblock><block>Now, let's say we have 100M customers but now we have 10M products to recommend from  This would be around 4 petabytes  It'd be hard to keep on the distributed cache  not a good fit for batch inference (also considering the computation required)  online inference would be better for this case.</block></blocks></line><line class="root text-mode indent-1 has-indent list-item" style="line-height: 1.4;" role="listitem" aria-level="2"><prefix style="flex-shrink: 0; min-width: 1em; text-align: left;"> </prefix><blocks><baselineblock class="inline"></baselineblock><block>The </block><block style="font-weight: bold; background-color: rgba(248, 231, 28, 0.3);">tradeoff</block><block> would be increased latency for a decreased cost in storing large amounts of data.</block></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="anchor-tag-ref inline" style="font-family: &quot;Computer Modern Serif&quot;, serif; font-weight: bold;"><a href="#n0.03915655909901572" style="color: inherit; text-decoration: inherit;">Back to Top</a></compositeblock></blocks></line></area-container></editarea><div></div></math-edit-container></math-type></editor-container></body></html>